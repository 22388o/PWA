(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[16],{434:function(e,t,a){"use strict";var n=a(3),o=a(72),r=a.n(o),c=(a(436),a(7)),i=function(e){var t=e.children,a=e.style;return Object(c.jsx)("div",{className:"content",style:a,"data-v-e5602aeb":"",children:t})},l=(a(437),function(e){var t=e.title,a=e.toggleModal;return t?Object(c.jsxs)("div",{className:"head","data-v-e3aee263":"",children:[Object(c.jsx)("p",{className:"head-title","data-v-e3aee263":"",children:t}),Object(c.jsx)("div",{className:"head-close",onClick:a,"data-v-e3aee263":"",children:Object(c.jsx)("i",{className:"fas fa-times","data-v-e3aee263":""})})]}):null});a(438),t.a=function(e){var t=e.modalOpen,a=void 0!==t&&t,o=e.toggleModal,s=e.modalTitle,d=void 0===s?"":s,u=e.children,b=e.contentStyle,f=void 0===b?{}:b,g=Object(n.useCallback)((function(){o()}),[o]);return Object(c.jsxs)("div",{className:r()({modal:!0,open:a}),"data-v-1314b2bc":"",children:[Object(c.jsx)("div",{className:"backdrop",onClick:g,"data-v-1314b2bc":""}),Object(c.jsxs)("div",{className:"container","data-v-1314b2bc":"",children:[Object(c.jsx)(l,{title:d,toggleModal:g,"data-v-1314b2bc":""}),Object(c.jsx)(i,{style:f,"data-v-1314b2bc":"",children:u})]})]})}},435:function(e,t,a){"use strict";a.r(t),a.d(t,"flex",(function(){return r})),a.d(t,"row",(function(){return c})),a.d(t,"col",(function(){return i})),a.d(t,"startAlign",(function(){return l})),a.d(t,"centerAlign",(function(){return s})),a.d(t,"endAlign",(function(){return d})),a.d(t,"centerJustify",(function(){return u})),a.d(t,"colCentered",(function(){return b})),a.d(t,"spaceAround",(function(){return f})),a.d(t,"spaceBetween",(function(){return g})),a.d(t,"rowCentered",(function(){return _})),a.d(t,"centerAlignSelf",(function(){return p})),a.d(t,"flexGrow1",(function(){return h})),a.d(t,"heightFull",(function(){return v})),a.d(t,"widthAuto",(function(){return m})),a.d(t,"width100",(function(){return j})),a.d(t,"fontWhite",(function(){return x})),a.d(t,"fontBlack",(function(){return O})),a.d(t,"rotate90Ccw",(function(){return k})),a.d(t,"commonPaddingLeft",(function(){return y})),a.d(t,"commonPaddingRight",(function(){return w})),a.d(t,"commonPaddingH",(function(){return S})),a.d(t,"commonMarginLeft",(function(){return C})),a.d(t,"commonMarginRight",(function(){return N})),a.d(t,"commonMarginH",(function(){return T})),a.d(t,"bgBlack",(function(){return z})),a.d(t,"bgWhite",(function(){return E})),a.d(t,"cornersRounded",(function(){return P})),a.d(t,"childrenSpaced4",(function(){return R})),a.d(t,"childrenSpaced8",(function(){return U})),a.d(t,"childrenSpaced12",(function(){return I})),a.d(t,"childrenSpaced16",(function(){return A})),a.d(t,"childrenSpaced24",(function(){return D})),a.d(t,"padding0",(function(){return q})),a.d(t,"padding2",(function(){return B})),a.d(t,"padding4",(function(){return F})),a.d(t,"padding8",(function(){return L})),a.d(t,"padding12",(function(){return M})),a.d(t,"padding16",(function(){return H})),a.d(t,"padding24",(function(){return W})),a.d(t,"flatBtn",(function(){return G})),a.d(t,"flatBtnFullWidth",(function(){return J})),a.d(t,"flatBtnNoBorder",(function(){return V})),a.d(t,"fontSize4",(function(){return Y})),a.d(t,"fontSize6",(function(){return K})),a.d(t,"fontSize8",(function(){return Q})),a.d(t,"fontSize10",(function(){return Z})),a.d(t,"fontSize12",(function(){return X})),a.d(t,"fontSize14",(function(){return $})),a.d(t,"fontSize16",(function(){return ee})),a.d(t,"fontSize18",(function(){return te})),a.d(t,"absolute",(function(){return ae})),a.d(t,"horizontallyCenteredAbsolute",(function(){return ne})),a.d(t,"verticallyCenteredAbsolute",(function(){return oe})),a.d(t,"absoluteStickToTop",(function(){return re})),a.d(t,"absoluteStickToBottom",(function(){return ce})),a.d(t,"absoluteStickToLeft",(function(){return ie})),a.d(t,"absoluteStickToRight",(function(){return le})),a.d(t,"opacityFull",(function(){return se})),a.d(t,"opacityHalf",(function(){return de})),a.d(t,"opacityNone",(function(){return ue})),a.d(t,"opacityThreeQuarters",(function(){return be})),a.d(t,"displayNone",(function(){return fe})),a.d(t,"unselectable",(function(){return ge}));var n=a(451),o=a.n(n),r=o.a.flex,c=o.a.row,i=o.a.col,l=o.a["start-align"],s=o.a["center-align"],d=o.a["end-align"],u=o.a["center-justify"],b=o.a["col-centered"],f=o.a["space-around"],g=o.a["space-between"],_=o.a["row-centered"],p=o.a["center-align-self"],h=o.a["flex-grow-1"],v=o.a["height-full"],m=o.a["width-auto"],j=o.a["width-100"],x=o.a["font-white"],O=o.a["font-black"],k=o.a.rotate90Ccw,y=o.a["common-padding-left"],w=o.a["common-padding-right"],S=o.a["common-padding-h"],C=o.a["common-margin-left"],N=o.a["common-margin-right"],T=o.a["common-margin-h"],z=o.a["bg-black"],E=o.a["bg-white"],P=o.a["corners-rounded"],R=o.a["children-spaced-4"],U=o.a["children-spaced-8"],I=o.a["children-spaced-12"],A=o.a["children-spaced-16"],D=o.a["children-spaced-24"],q=o.a["padding-0"],B=o.a["padding-2"],F=o.a["padding-4"],L=o.a["padding-8"],M=o.a["padding-12"],H=o.a["padding-16"],W=o.a["padding-24"],G=o.a["flat-btn"],J=o.a["flat-btn-full-width"],V=o.a["flat-btn-no-border"],Y=o.a["font-size-4"],K=o.a["font-size-6"],Q=o.a["font-size-8"],Z=o.a["font-size-10"],X=o.a["font-size-12"],$=o.a["font-size-14"],ee=o.a["font-size-16"],te=o.a["font-size-18"],ae=o.a.absolute,ne=o.a["horizontally-centered-absolute"],oe=o.a["vertically-centered-absolute"],re=o.a["absolute-stick-to-top"],ce=o.a["absolute-stick-to-bottom"],ie=o.a["absolute-stick-to-left"],le=o.a["absolute-stick-to-right"],se=o.a["opacity-full"],de=o.a["opacity-half"],ue=o.a["opacity-none"],be=o.a["opacity-three-quarters"],fe=o.a["display-none"],ge=o.a.unselectable},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),o=a(72),r=a.n(o),c=a(88),i=(a(440),a(7)),l=73,s={minHeight:l};t.b=function(e){var t=e.pageTitle,a=e.drawerVisible,o=void 0!==a&&a,l=e.onHeight,d=void 0===l?c.a:l,u=Object(n.useCallback)((function(){window.history.back()}),[]),b=Object(n.useCallback)((function(e){if(e)try{d(e.getBoundingClientRect().height)}catch(t){console.log("Error inside onHeight mechanism in DialogNav:"),console.log(t)}}),[d]);return Object(i.jsxs)("div",{className:"dialog-nav-container",ref:b,style:s,"data-v-3c387bc6":"",children:[Object(i.jsx)("div",{className:"dialog-nav-back",onClick:u,"data-v-3c387bc6":"",children:Object(i.jsx)("i",{className:"icon icon-thin-back","data-v-3c387bc6":""})}),Object(i.jsx)("p",{className:"dialog-nav-title","data-v-3c387bc6":"",children:t}),Object(i.jsxs)("div",{className:r()({"dialog-nav-menu-btn":!0,"dialog-nav-hidden":!o}),"data-v-3c387bc6":"",children:[Object(i.jsx)("div",{className:"dialog-nav-menu-dash","data-v-3c387bc6":""}),Object(i.jsx)("div",{className:"dialog-nav-menu-dash","data-v-3c387bc6":""}),Object(i.jsx)("div",{className:"dialog-nav-menu-dash","data-v-3c387bc6":""})]})]})}},440:function(e,t,a){},442:function(e,t,a){"use strict";a(3),a(455);var n=a(7);t.a=function(e){var t=e.tipCounter,a=e.tipValue,o=e.zoomed;return a>0?Object(n.jsxs)("div",{className:"ribbon-container",style:{opacity:o?0:1},"data-v-1330fce2":"",children:[Object(n.jsx)("p",{className:"ribbon-title","data-v-1330fce2":"",children:"Total Tips"}),Object(n.jsxs)("p",{className:"ribbon-value","data-v-1330fce2":"",children:[t," ",1===t?"Tip":"Tips"]})]}):null}},443:function(e,t,a){"use strict";a(3);var n=a(7);t.a=function(e){var t=e.amt,a={};return e.insideRow?a.width=t:a.height=t,Object(n.jsx)("div",{style:a})}},451:function(e,t,a){e.exports={PAD_H:"1em",flex:"global_flex__3EqcS",row:"global_row__1A5FW global_flex__3EqcS",col:"global_col__3mp_5 global_flex__3EqcS","start-align":"global_start-align__-l9G8 global_flex__3EqcS","center-align":"global_center-align__2UEY8 global_flex__3EqcS","end-align":"global_end-align__1iZ_9 global_flex__3EqcS","center-justify":"global_center-justify__3etS9 global_flex__3EqcS","col-centered":"global_col-centered__1rqsl global_col__3mp_5 global_flex__3EqcS global_center-align__2UEY8 global_flex__3EqcS","space-around":"global_space-around__3HlTi global_flex__3EqcS","space-between":"global_space-between__2G6yv global_flex__3EqcS","row-centered":"global_row-centered__1H_cv global_row__1A5FW global_flex__3EqcS global_center-align__2UEY8 global_flex__3EqcS","center-align-self":"global_center-align-self__1GUs5","flex-grow-1":"global_flex-grow-1__2unHa global_flex__3EqcS","height-full":"global_height-full__1ZI6F","width-auto":"global_width-auto__1USRU","width-100":"global_width-100__29aAp","font-white":"global_font-white__NE-CT","font-black":"global_font-black__wjo9k",rotate90Ccw:"global_rotate90Ccw__11MjX","common-padding-left":"global_common-padding-left__2oqNo","common-padding-right":"global_common-padding-right__MpvbN","common-padding-h":"global_common-padding-h__8YHOB global_common-padding-left__2oqNo global_common-padding-right__MpvbN","common-margin-left":"global_common-margin-left__17kyp","common-margin-right":"global_common-margin-right__26jhw","common-margin-h":"global_common-margin-h__2btHF global_common-margin-left__17kyp global_common-margin-right__26jhw","bg-black":"global_bg-black__AftPu","bg-white":"global_bg-white__3CREm","corners-rounded":"global_corners-rounded__12rFn","children-spaced-4":"global_children-spaced-4__1gmtr","children-spaced-8":"global_children-spaced-8__97gHF","children-spaced-12":"global_children-spaced-12__1mIIN","children-spaced-16":"global_children-spaced-16__GafSh","children-spaced-24":"global_children-spaced-24__2XpHO","padding-0":"global_padding-0__3w7nl","padding-2":"global_padding-2__3jsyO","padding-4":"global_padding-4__3mek9","padding-8":"global_padding-8__3xaKp","padding-12":"global_padding-12__1Fp31","padding-16":"global_padding-16__3S0ZC","padding-24":"global_padding-24__PWluU","flat-btn":"global_flat-btn__QCoQD","flat-btn-full-width":"global_flat-btn-full-width__1KMEz global_flat-btn__QCoQD global_width-100__29aAp","flat-btn-no-border":"global_flat-btn-no-border__1D6YS global_flat-btn__QCoQD","font-size-4":"global_font-size-4__152Yi","font-size-6":"global_font-size-6__1TiYJ","font-size-8":"global_font-size-8__3J8qe","font-size-10":"global_font-size-10__18w42","font-size-12":"global_font-size-12__3uTVa","font-size-14":"global_font-size-14__10gBO","font-size-16":"global_font-size-16__1VztM","font-size-18":"global_font-size-18__11bmr",absolute:"global_absolute__1CUuW","horizontally-centered-absolute":"global_horizontally-centered-absolute__U2Y8G global_absolute__1CUuW","vertically-centered-absolute":"global_vertically-centered-absolute__1G9Ok global_absolute__1CUuW","absolute-stick-to-top":"global_absolute-stick-to-top__2J4DW","absolute-stick-to-bottom":"global_absolute-stick-to-bottom__3uJed","absolute-stick-to-left":"global_absolute-stick-to-left__1p8ve","absolute-stick-to-right":"global_absolute-stick-to-right__15ROv","opacity-full":"global_opacity-full__3pv-G","opacity-half":"global_opacity-half__2Kryw","opacity-none":"global_opacity-none__1cDP9","opacity-three-quarters":"global_opacity-three-quarters__1uI42","display-none":"global_display-none__v9MKe",unselectable:"global_unselectable__20lft"}},455:function(e,t,a){},459:function(e,t,a){"use strict";var n=a(3),o=a(7);t.a=function(e){var t=e.color,a=e.length,r=e.type,c=e.width,i=Object(n.useMemo)((function(){return"vertical"===r?{borderLeftStyle:"solid",borderLeftWidth:"".concat(c/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(c/2,"px"),borderRightColor:t,height:a}:"horizontal"===r?{borderTopStyle:"solid",borderTopWidth:c/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:c/2,borderBottomColor:t,width:a}:{}}),[t,a,r,c]);return Object(o.jsx)("div",{style:i})}},462:function(e,t,a){"use strict";var n=a(2),o=a.n(n),r=a(6),c=a(16),i=a(3),l=a(442),s=(a(463),a(148)),d=a(14),u=a(7),b="".concat("https://webtorrent.shock.network","/rtmpapi/api/streams/live");t.a=function(e){e.id;var t=e.item,a=(e.index,e.postId,e.tipValue),n=e.tipCounter,f=e.hideRibbon,g=e.width,_=e.timeout,p=void 0===_?1e4:_,h=Object(i.useRef)(null),v=Object(i.useState)(!1),m=Object(c.a)(v,2),j=m[0],x=m[1],O={width:"100%"};return g&&(O.width=g),Object(i.useEffect)((function(){var e=null,a=function(){var e=Object(r.a)(o.a.mark((function e(){var a,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.magnetURI.split("/live/")[1].split("/index.m3u8"),n=Object(c.a)(a,1),r=n[0],e.next=4,d.a.get("".concat(b,"/").concat(r));case 4:if(e.sent.data.isLive){e.next=7;break}return e.abrupt("return",!1);case 7:return(i=Object(s.a)(h.current,{autoplay:!0,muted:!0,aspectRatio:"16:9"})).src({src:t.magnetURI,type:"application/x-mpegURL"}),i.play(),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return a().then((function(t){t?x(!0):e=setInterval(Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:if(!t.sent){t.next=7;break}return x(!0),clearInterval(e),t.abrupt("return");case 7:case"end":return t.stop()}}),t)}))),p)})),function(){clearInterval(e)}}),[t,p]),Object(u.jsx)("div",{className:"media-container w-100","data-v-c2c525af":"",children:Object(u.jsxs)("div",{className:"video-container w-100",style:{cursor:"pointer",width:"100%"},"data-v-c2c525af":"",children:[!j&&Object(u.jsx)("p",{"data-v-c2c525af":"",children:"The streamer has disconnected."}),Object(u.jsx)("div",{style:j?{width:"100%"}:{display:"none",width:"100%"},"data-v-c2c525af":"",children:Object(u.jsx)("video",{className:"video-js vjs-default-skin",ref:h,style:O,preload:"auto",controls:!0,muted:!0,autoPlay:!0,"data-v-c2c525af":""})}),!f&&Object(u.jsx)(l.a,{tipCounter:n,tipValue:a,zoomed:!1,"data-v-c2c525af":""})]})})}},463:function(e,t,a){},515:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),o=a(2),r=a.n(o),c=a(6),i=a(14),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Uint8Array(32),window.crypto.getRandomValues(n),o=Array.prototype.map.call(n,(function(e){return("00"+e.toString(16)).slice(-2)})).join(""),c={seed_token:a,wallet_token:o},e.next=6,fetch("".concat(t,"/api/enroll_token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 6:if(200===e.sent.status){e.next=9;break}throw new Error("torrentSeed service currently not available");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,o,c,s,d,u,b,f,g,_,p,h,v,m,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.availableTokens,o=t.seedUrl,c=t.seedToken,s=t.seedProviderPub,d=t.serviceID,u=t.servicePrice,b=null,f=!1,g=null,e.t0=r.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(_=e.t1.value,!Object.prototype.hasOwnProperty.call(a,_)){e.next=12;break}if(!(p=a[_])[0]){e.next=12;break}return g={seedUrl:_,tokens:p},e.abrupt("break",14);case 12:e.next=5;break;case 14:if(console.log(s),console.log(d),console.log(u),!o||!c){e.next=27;break}return console.log("USING SELF SEED TOKEN"),e.next=21,l(o,c);case 21:h=e.sent,console.log("token"),console.log(h),b={seedUrl:o,tokens:[h]},e.next=48;break;case 27:if(!g){e.next=33;break}console.log("USING AVAILABLE TOKEN"),b=g,f=!0,e.next=48;break;case 33:if(!(s&&d&&u)){e.next=47;break}return console.log("USING DEFAULT TOKEN PROVIDER"),e.next=37,i.a.post("/api/lnd/unifiedTrx",{type:"service",amt:u,to:s,memo:"",feeLimit:500,ackInfo:d});case 37:if(v=e.sent,m=v.data,200===v.status){e.next=42;break}throw new Error("seed token request failed");case 42:console.log(m),j=m.orderAck,b=JSON.parse(j.response),e.next=48;break;case 47:throw new Error("provide the token data or use default seed provider");case 48:return e.abrupt("return",Object(n.a)(Object(n.a)({},b),{},{deleteToken:f}));case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},671:function(e,t,a){},672:function(e,t,a){e.exports={container:"DarkPage_container__1so-g","container-scrolls":"DarkPage_container-scrolls__3t0tO"}},673:function(e,t,a){e.exports={root:"Static_root__Dyzfu",overlay:"Static_overlay__1DRAx","overlay-text":"Static_overlay-text__2Rle7"}},674:function(e,t,a){e.exports={"stream-type-btn":"GoLive_stream-type-btn__3sNtJ","stream-type-btn-icon":"GoLive_stream-type-btn-icon__2p9-P","obs-logo":"GoLive_obs-logo__1p3Hh"}},708:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),r=a(6),c=a(16),i=a(3),l=a(40),s=a(72),d=a.n(s),u=(a(671),a(39)),b=a(145),f=a(14),g=a.p+"static/media/obs-2.7c61e78e.svg",_=a(462),p=a(515),h=a(22),v=a(434),m=a(18),j=a(26),x=a(439),O=a(443),k=a(435),y=a(672),w=a.n(y),S=a(7),C=function(e){var t,a=e.children,n=e.justify,o=e.padding,r=e.pageTitle,l=e.scrolls;if(l&&n)throw new Error('Can not both set "scrolls" and "justify" at <DarkPage />');var s=i.useState(x.a),u=Object(c.a)(s,2),b=u[0],f=u[1];return Object(S.jsxs)("div",{className:d()(w.a.container,(t={},Object(j.a)(t,w.a["container-scrolls"],!!l),Object(j.a)(t,k.col,!!n),Object(j.a)(t,k.centerJustify,"center"===n),Object(j.a)(t,k.commonPaddingH,!!o),t)),children:[Object(S.jsx)(x.b,{pageTitle:r||"",onHeight:f}),Object(S.jsx)(O.a,{amt:b}),a]})},N=a(459),T=a(673),z=a.n(T),E=function(e){var t=e.overlay,a=i.useRef(),n=i.useState(100),o=Object(c.a)(n,2),r=o[0],l=o[1],s=i.useCallback((function(e){if(e)try{l(e.getBoundingClientRect().width)}catch(t){console.log("Error inside onWidth mechanism in <Static />:"),console.log(t)}}),[]);i.useEffect((function(){var e=a.current;e?(e.width=r,e.height=r/16*9):console.error("Canvas ref falsy inside <Static />.")}),[r]);var d=i.useRef(!0);return i.useEffect((function(){d.current=!0;var e=a.current;if(e){var t=e.getContext("2d"),n=t.createImageData(e.width,e.height);return function e(){if(d.current){for(var a=0,o=n.data.length;a<o;a++)n.data[a]=255*Math.random()|0;t.putImageData(n,0,0),requestAnimationFrame(e)}}(),function(){d.current=!1}}console.error("Canvas ref falsy inside <Static />.")}),[r]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:z.a.root,children:[t&&Object(S.jsx)("div",{className:z.a.overlay,children:Object(S.jsx)("span",{className:z.a["overlay-text"],children:t})}),Object(S.jsx)("canvas",{ref:a})]}),Object(S.jsx)("div",{className:k.width100,ref:s})]})},P=function(){var e=i.useRef(),t=i.useState(100),a=Object(c.a)(t,2),n=a[0],o=a[1],r=i.useState(""),l=Object(c.a)(r,2),s=l[0],u=l[1],b=i.useCallback((function(e){if(e)try{o(e.getBoundingClientRect().width)}catch(t){u("Error inside onWidth mechanism in <CamFeed />:"),console.log(t)}}),[]);return i.useEffect((function(){var t=e.current;t?t.width=n:u("Video ref falsy inside <CamFeed />.")}),[n]),i.useEffect((function(){var t,a;if(null===(t=navigator)||void 0===t||null===(a=t.mediaDevices)||void 0===a?void 0:a.getUserMedia){var n=e.current;navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){n.srcObject=e})).catch((function(e){u("Could not get your camera feed: ".concat(e.message))}))}}),[]),Object(S.jsxs)(S.Fragment,{children:[s&&Object(S.jsx)(E,{overlay:s}),Object(S.jsx)("video",{autoPlay:!0,className:d()(s&&k.displayNone),ref:e}),Object(S.jsx)("div",{className:k.width100,ref:b})]})},R=a(674),U=a.n(R);t.default=function(){var e=Object(l.b)(),t=Object(h.g)(),a=m.useSelector((function(e){return e.content.seedProviderPub})),n=m.useSelector((function(e){return e.content.seedInfo})),s=n.seedUrl,j=n.seedToken,x=m.useSelector((function(e){return e.content.streamLiveToken})),y=m.useSelector((function(e){return e.content.streamUserToken})),w=m.useSelector((function(e){return e.content.availableTokens})),T=m.useSelector((function(e){return e.content.streamUrl})),z=m.useSelector((function(e){return e.userProfiles})),R=Object(i.useState)("obs"),I=Object(c.a)(R,2),A=I[0],D=I[1],q=Object(i.useState)(!1),B=Object(c.a)(q,2),F=B[0],L=B[1],M=Object(i.useState)(x),H=Object(c.a)(M,2),W=H[0],G=H[1],J=Object(i.useState)(y),V=Object(c.a)(J,2)[1],Y=Object(i.useState)("Look I'm streaming!"),K=Object(c.a)(Y,2),Q=K[0],Z=K[1],X=Object(i.useState)(!1),$=Object(c.a)(X,1)[0],ee=Object(i.useState)(null),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],oe=Object(i.useState)(""),re=Object(c.a)(oe,2),ce=re[0],ie=re[1],le=Object(i.useState)(null),se=Object(c.a)(le,2),de=se[0],ue=se[1],be=Object(i.useState)(!1),fe=Object(c.a)(be,2),ge=fe[0],_e=fe[1],pe=Object(i.useCallback)(function(){var t=Object(r.a)(o.a.mark((function t(n,r){var i,l,d,b,g,_,h,v,m,x,O,k,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,Object(p.a)({availableTokens:w,seedProviderPub:a,seedToken:j,seedUrl:s,serviceID:r,servicePrice:n});case 4:return i=t.sent,l=i.seedUrl,d=i.tokens,b=Object(c.a)(d,1),g=b[0],V(g),t.next=11,f.a.post("".concat(l,"/api/stream/auth"),{token:g});case 11:return _=t.sent,h=_.data,v=h.data.token,console.log(v),m="".concat(g,"?key=").concat(v),G("".concat(g,"?key=").concat(v)),x="".concat(l,"/rtmpapi/live/").concat(g,"/index.m3u8"),O=l.replace("https","rtmp"),ie("".concat(O,"/live")),Object(u.d)(g,m,x)(e),k=[],""!==Q&&k.push({type:"text/paragraph",text:Q}),k.push({type:"stream/embedded",width:0,height:0,magnetURI:x,isPreview:!1,isPrivate:!1,userToken:g}),t.next=26,f.a.post("/api/gun/wall",{tags:[],title:"Post",contentItems:k});case 26:200===t.sent.status?(console.log("post created successfully"),L(!1)):(ne("invalid response status"),L(!1)),t.next=35;break;case 30:t.prev=30,t.t0=t.catch(0),console.log(t.t0),ne(null!==(y=null===t.t0||void 0===t.t0?void 0:t.t0.errorMessage)&&void 0!==y?y:null===t.t0||void 0===t.t0?void 0:t.t0.message),L(!1);case 35:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e,a){return t.apply(this,arguments)}}(),[w,a,j,s,e,Q]),he=Object(i.useCallback)((function(){ue(null)}),[ue]),ve=Object(i.useCallback)((function(){var e=de.servicePrice,t=de.serviceID;pe(e,t),ue(null)}),[de,pe,ue]),me=Object(i.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,c,i,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ge){e.next=3;break}return e.abrupt("return");case 3:_e(!0),t.preventDefault(),n=!1,e.t0=o.a.keys(w);case 7:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,!Object.prototype.hasOwnProperty.call(w,r)){e.next=14;break}if(!w[r][0]){e.next=14;break}return n=!0,e.abrupt("break",16);case 14:e.next=7;break;case 16:if(c="",z[a]&&(c=z[a].SeedServiceProvided),!(n||s&&j)){e.next=22;break}pe(),e.next=33;break;case 22:if(!c||!a){e.next=32;break}return e.next=25,f.a.get("/api/gun/otheruser/".concat(a,"/load/offeredServices>").concat(c));case 25:i=e.sent,l=i.data,d=l.data.servicePrice,console.log(l),ue({servicePrice:d,serviceID:c}),e.next=33;break;case 32:ne("No way found to publish content");case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),ne(e.t2.message);case 38:return e.prev=38,_e(!1),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[0,35,38,41]])})));return function(t){return e.apply(this,arguments)}}(),[ge,z,a,s,j,w,pe]),je=Object(i.useCallback)((function(){navigator.clipboard.writeText(W)}),[W]),xe=Object(i.useCallback)((function(){navigator.clipboard.writeText(ce)}),[ce]),Oe=Object(i.useCallback)((function(e){var t=e.target,a=t.value;switch(t.name){case"paragraph":return void Z(a);case"source":return void D(a);default:return}}),[Z,D]),ke=Object(i.useCallback)((function(){Object(u.f)()(e),t.push("/profile")}),[e,t]),ye=Object(i.useMemo)((function(){return Object(S.jsx)(_.a,{hideRibbon:!0,item:{magnetURI:T},timeout:1500,id:void 0,index:void 0,postId:void 0,tipCounter:void 0,tipValue:void 0,width:void 0,"data-v-7e2f1bd4":""})}),[T]),we=d()(k.col,k.centerJustify,k.centerAlign,U.a["stream-type-btn"]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(C,{pageTitle:"GO LIVE",scrolls:!0,"data-v-7e2f1bd4":"",children:[$&&Object(S.jsx)("div",{"data-v-7e2f1bd4":"",children:ye}),$||"camera"!==A?Object(S.jsx)(E,{"data-v-7e2f1bd4":""}):Object(S.jsx)(P,{"data-v-7e2f1bd4":""}),Object(S.jsxs)("div",{className:d()(k.rowCentered,k.width100),"data-v-7e2f1bd4":"",children:[Object(S.jsxs)("div",{className:we,onClick:D.bind(null,"camera"),"data-v-7e2f1bd4":"",children:[Object(S.jsx)("i",{className:d()(U.a["stream-type-btn-icon"],"fas","fa-camera"),"data-v-7e2f1bd4":""}),Object(S.jsx)(O.a,{amt:16,"data-v-7e2f1bd4":""}),Object(S.jsx)(N.a,{color:"camera"===A?"#4285b9":"white",length:36,type:"horizontal",width:2,"data-v-7e2f1bd4":""})]}),Object(S.jsxs)("div",{className:we,onClick:D.bind(null,"obs"),"data-v-7e2f1bd4":"",children:[Object(S.jsx)("img",{alt:"",className:U.a["obs-logo"],src:g,"data-v-7e2f1bd4":""}),Object(S.jsx)(O.a,{amt:16,"data-v-7e2f1bd4":""}),Object(S.jsx)(N.a,{color:"obs"===A?"#4285b9":"white",length:36,type:"horizontal",width:2,"data-v-7e2f1bd4":""})]})]}),Object(S.jsx)("div",{className:k.commonPaddingH,"data-v-7e2f1bd4":"",children:ae?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:" An error ocurred: "}),Object(S.jsx)("br",{"data-v-7e2f1bd4":""}),Object(S.jsx)("p",{className:"error-container","data-v-7e2f1bd4":"",children:ae}),Object(S.jsx)("button",{className:"shock-form-button",onClick:ne.bind(null,null),"data-v-7e2f1bd4":"",children:"Dismiss"})]}):W?Object(S.jsxs)(S.Fragment,{children:["obs"===A&&Object(S.jsx)("p",{className:"m-b-1","data-v-7e2f1bd4":"",children:"You are ready to go! setup the stream with OBS and watch it from your profile"}),Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:"Broadcaster:"}),Object(S.jsxs)("div",{style:{border:"1px solid var(--main-blue)",padding:"0.5rem",display:"flex",justifyContent:"space-between",marginBottom:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:ce.substring(0,20)+(ce.length>21?"...":"")}),Object(S.jsx)("i",{className:"far fa-copy",onClick:xe,"data-v-7e2f1bd4":""})]}),Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:"Stream Key:"}),Object(S.jsxs)("div",{style:{border:"1px solid var(--main-blue)",padding:"0.5rem",display:"flex",justifyContent:"space-between",marginBottom:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:W.substring(0,20)+(W.length>21?"...":"")}),Object(S.jsx)("i",{className:"far fa-copy",onClick:je,"data-v-7e2f1bd4":""})]}),Object(S.jsx)("div",{className:"flex-center","data-v-7e2f1bd4":"",children:Object(S.jsx)("button",{onClick:ke,className:"shock-form-button-confirm","data-v-7e2f1bd4":"",children:"STOP"})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("input",{className:"input-field",type:"text",name:"paragraph",id:"paragraph",value:Q,onChange:Oe,"data-v-7e2f1bd4":""}),Object(S.jsx)("button",{onClick:me,className:d()(k.width100,"shock-form-button-confirm"),disabled:"camera"===A||ge,"data-v-7e2f1bd4":"",children:ge?"...":"START NOW"})]})})]}),de&&Object(S.jsxs)(v.a,{modalOpen:de&&!F,toggleModal:he,contentStyle:{padding:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsxs)("p",{"data-v-7e2f1bd4":"",children:["The service from the default service provider will cost:"," ",Object(S.jsxs)("strong",{"data-v-7e2f1bd4":"",children:[de.servicePrice," sats"]})]}),Object(S.jsxs)("div",{className:k.rowCentered,"data-v-7e2f1bd4":"",children:[Object(S.jsx)("button",{className:"shock-form-button m-1",onClick:he,"data-v-7e2f1bd4":"",children:"Cancel"}),Object(S.jsx)("button",{className:"shock-form-button-confirm m-1",onClick:ve,"data-v-7e2f1bd4":"",children:"Confirm"})]})]}),F?Object(S.jsx)(b.a,{overlay:!0,fullScreen:!0,text:"Creating stream...","data-v-7e2f1bd4":""}):null]})}}}]);
//# sourceMappingURL=16.893e1497.chunk.js.map