(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[12,17,36],{593:function(e,t,n){"use strict";var a=n(0),c=n(85),r=n.n(c),i=n(6),o=n(177),s=(n(598),n(4)),l=function(e){var t=e.children,n=void 0===t?null:t,a=e.style,c=void 0===a?{}:a,i=e.contentClass,o=void 0===i?"":i;return Object(s.jsx)("div",{className:r()("content",o),style:c,"data-v-05e4987f":"",children:n})},d=(n(599),function(e){var t=e.title,n=void 0===t?"":t,a=e.toggleModal,c=void 0===a?i.b:a,r=e.forceRenderTitleBar,o=void 0!==r&&r,l=e.hideXBtn,d=void 0!==l&&l;return n||o?Object(s.jsxs)("div",{className:"head","data-v-9ec60da6":"",children:[Object(s.jsx)("p",{className:"head-title","data-v-9ec60da6":"",children:n}),!d&&Object(s.jsx)("div",{className:"head-close",onClick:c,"data-v-9ec60da6":"",children:Object(s.jsx)("i",{className:"fas fa-times","data-v-9ec60da6":""})})]}):null}),u=(n(600),{borderRadius:"15px"});t.a=function(e){var t=e.modalOpen,n=void 0!==t&&t,c=e.toggleModal,b=e.modalTitle,j=void 0===b?"":b,f=e.children,p=e.contentStyle,v=void 0===p?i.c:p,O=e.disableBackdropClose,h=void 0!==O&&O,m=e.forceRenderTitleBar,x=void 0!==m&&m,g=e.hideXBtn,N=void 0!==g&&g,k=e.noFullWidth,C=void 0!==k&&k,_=e.blueBtn,y=void 0===_?"":_,S=e.disableBlueBtn,w=void 0!==S&&S,U=e.onClickBlueBtn,B=void 0===U?i.b:U,D=e.redBtn,T=void 0===D?"":D,I=e.disableRedBtn,P=void 0!==I&&I,R=e.onClickRedBtn,M=void 0===R?i.b:R,E=e.contentClass,q=void 0===E?"":E,K=e.error,L=void 0===K?"":K,F=e.textIfLoading,W=void 0===F?"":F,A=Object(a.useCallback)((function(){c()}),[c]),z=Object(a.useCallback)((function(){h||c()}),[h,c]);return Object(s.jsxs)("div",{className:r()({modal:!0,open:n}),"data-v-510ca6a4":"",children:[Object(s.jsx)("div",{className:"backdrop",onClick:z,"data-v-510ca6a4":""}),Object(s.jsxs)("div",{className:r()({container:!0,"container-no-full-width":C}),"data-v-510ca6a4":"",children:[W&&Object(s.jsx)(o.a,{overlay:!0,style:u,text:W,"data-v-510ca6a4":""}),Object(s.jsx)(d,{title:j,toggleModal:A,forceRenderTitleBar:x,hideXBtn:N,"data-v-510ca6a4":""}),L&&Object(s.jsx)("div",{className:"form-error form-error-margin","data-v-510ca6a4":"",children:L}),Object(s.jsx)(l,{style:v,contentClass:q,"data-v-510ca6a4":"",children:"string"===typeof f?Object(s.jsx)("p",{className:"text-align-center","data-v-510ca6a4":"",children:f}):f}),Object(s.jsxs)("div",{className:"color-buttons","data-v-510ca6a4":"",children:[y&&Object(s.jsx)("button",{disabled:w,className:r()("color-btn","blue-btn"),onClick:B,"data-v-510ca6a4":"",children:y}),T&&Object(s.jsx)("button",{disabled:P,className:r()("color-btn","red-btn"),onClick:M,"data-v-510ca6a4":"",children:T})]})]})]})}},595:function(e,t,n){"use strict";var a=n(46),c=(n(0),n(85)),r=n.n(c),i=n(6),o=(n(601),n(4));t.a=function(e){var t=e.label,n=void 0===t?"":t,c=e.name,s=void 0===c?"":c,l=e.onChange,d=e.inputAction,u=void 0===d?i.b:d,b=e.actionIcon,j=void 0===b?"":b,f=e.value,p=e.inputMode,v=void 0===p?"text":p,O=e.type,h=void 0===O?"text":O,m=e.element,x=void 0===m?"input":m,g=e.small,N=void 0!==g&&g,k=e.disabled,C=void 0!==k&&k;return Object(o.jsxs)("div",{className:r()({group:!0,"group-disabled":C,"group-small":N}),"data-v-5bcbfe9e":"",children:[n?Object(o.jsx)("p",{className:"group-label","data-v-5bcbfe9e":"",children:n}):null,Object(o.jsxs)("div",{className:r()({"group-input-container":!0,"group-input-textarea-container":"textarea"===x}),"data-v-5bcbfe9e":"",children:["textarea"===x?Object(o.jsx)("textarea",{className:"group-input group-input-textarea",name:s,onChange:l,inputMode:v,value:f,disabled:C,"data-v-5bcbfe9e":""}):Object(o.jsx)("input",{className:"group-input",type:h,name:s,onChange:l,inputMode:v,value:f,disabled:C,"data-v-5bcbfe9e":""}),u&&j?Object(o.jsx)("div",{className:"group-input-action",onClick:u,"data-v-5bcbfe9e":"",children:Object(o.jsx)("i",{className:r()(Object(a.a)({"group-input-action-icon":!0,fas:!0},j,!0)),onClick:u,"data-v-5bcbfe9e":""})}):null]})]})}},598:function(e,t,n){},599:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},606:function(e,t,n){"use strict";var a=n(2),c=n(17),r=n(0),i=n(899),o=n(179),s=(n(623),n(607),n(4));t.a=function(e){var t=e.id,n=void 0===t?"":t,l=e.item,d=e.index,u=void 0===d?0:d,b=e.postId,j=void 0===b?"":b,f=e.tipValue,p=void 0===f?0:f,v=e.tipCounter,O=void 0===v?0:v,h=e.hideRibbon,m=void 0!==h&&h,x=e.width,g=void 0===x?null:x,N=e.disableZoom,k=void 0!==N&&N,C=e.style,_=void 0===C?{}:C,y=Object(r.useState)(!1),S=Object(c.a)(y,2),w=S[0],U=S[1],B=Object(r.useState)(!1),D=Object(c.a)(B,2),T=D[0],I=D[1],P=Object(r.useState)(!0),R=Object(c.a)(P,2),M=R[0],E=R[1],q=Object(r.useState)(null),K=Object(c.a)(q,2),L=K[0],F=K[1],W=Object(r.useCallback)((function(e){if(clearTimeout(L),U(e),!e&&T){I(!1);var t=setTimeout((function(){E(!0)}),200);F(t)}e&&E(!1)}),[L,T,U,I,E,F]),A=decodeURIComponent(l.magnetURI.replace(/.*(ws=)/gi,"")),z=Object(a.a)(Object(a.a)({},_),{},{opacity:M?1:0});g&&(z.width=g);var Y=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("img",{className:"image torrent-img torrent-img-".concat(j,"-").concat(n),alt:"Post Media","data-torrent":l.magnetURI,"data-file-key":u,style:z,src:A,"data-v-02ab074d":""}),Object(s.jsx)("img",{className:"image enlarged-img enlarged-img-".concat(j,"-").concat(n),alt:"Post Media","data-file-key":u,onLoad:function(){I(!0)},style:{opacity:w?1:0,display:w?"block":"none"},src:A,"data-v-02ab074d":""}),!m&&Object(s.jsx)(o.a,{tipCounter:O,tipValue:p,zoomed:w,"data-v-02ab074d":""})]});return Object(s.jsx)("div",{className:"media-container","data-v-02ab074d":"",children:k?Y:Object(s.jsx)(i.a,{isZoomed:w,onZoomChange:W,overlayBgColorStart:"#16191c00",overlayBgColorEnd:"#16191c","data-v-02ab074d":"",children:Y})})}},607:function(e,t,n){},608:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return g}));var a=n(27),c=n(3),r=n.n(c),i=n(7),o=n(2),s=n(17),l=n(634),d=n.n(l),u=n(660),b=n.n(u),j=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b.a._init){e.next=4;break}return e.next=4,new Promise((function(e,t){b.a.init("ShockWalletStore").then((function(){return console.log("File cache initialized!"),b.a.persist()})).then((function(n){n.persistent?e(n):t(n)}))}));case 4:return e.next=6,b.a.load(t);case 6:return n=e.sent,e.abrupt("return",n.createURL());case 10:return e.prev=10,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){var n=document.querySelectorAll(t);return n&&n.length&&n.forEach((function(t){t.src||(t.src=e,t.muted=!0,t.autoplay=!0)})),!!(null===n||void 0===n?void 0:n.length)},p=function(e,t){return b.a.save(e,t)},v=function(e){var t=Promise.resolve();return e.forEach((function(e){t=t.then((function(){return e()}))})),t},O={"video/embedded":{formats:["mp4","webm"],element:"video",options:{autoplay:!0,muted:!0}},"image/embedded":{formats:["jpg","png","webp","jpeg","gif"],element:"img",options:{}}},h=function(e){var t,n,a=null===(t=e.name)||void 0===t||null===(n=t.split("."))||void 0===n?void 0:n.slice(-1)[0],c=Object.entries(O).filter((function(e){var t=Object(s.a)(e,2);t[0];return t[1].formats.includes(a)}))[0];if(c){var r=Object(s.a)(c,2),i=r[0],l=r[1];return Object(o.a)({name:i},l)}return null},m=new d.a,x=function(e){var t=e.url,n=e.type,a=O[void 0===n?"video/embedded":n].formats.filter((function(e){return t.toLowerCase().endsWith(".".concat(e.toLowerCase()))}));return!!Object(s.a)(a,1)[0]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=e.map((function(e){var a=e.contentItems,c=e.id;return Object.entries(null!==a&&void 0!==a?a:{}).filter((function(e){var t=Object(s.a)(e,2),n=(t[0],t[1]);return O[n.type]})).map((function(e){var a=Object(s.a)(e,2),o=a[0],l=a[1];return function(){return new Promise((function(e){!m.get(l.magnetURI)||n?m.add(l.magnetURI,function(){var n=Object(i.a)(r.a.mark((function n(a){var d;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(!0),(d=a.files.filter((function(e){var t,n,a=null===(t=e.name)||void 0===t||null===(n=t.split("."))||void 0===n?void 0:n.slice(-1)[0],c=Object.entries(O).filter((function(e){var t=Object(s.a)(e,2);t[0];return t[1].formats.includes(a)}))[0];return!!c&&Object(s.a)(c,2)[1].formats.includes(a)}))).map(function(){var e=Object(i.a)(r.a.mark((function e(n){var a,i,s,d,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h(n)){e.next=3;break}return e.abrupt("return");case 3:return i="".concat(c,"-").concat(o,"-").concat(n.name),s=a.element,d="".concat(s,'[data-torrent="').concat(l.magnetURI,'"]'),e.next=8,j(i);case 8:if(!(u=e.sent)){e.next=14;break}return(b=m.get(l.magnetURI))&&b.destroy(),f(u,d),e.abrupt("return");case 14:document.querySelectorAll(d).forEach((function(e){var c=x({url:l.magnetURI,type:a.name}),r=e.getAttribute("src");if(t&&!r||!c)n.renderTo(e,a.options);else{var i=decodeURIComponent(l.magnetURI.replace(/.*(ws=)/gi,""));e.setAttribute("src",i)}}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.on("done",(function(){d.map((function(e){var t=h(e),n="".concat(c,"-").concat(o,"-").concat(e.name),a=t.element,s="".concat(a,'[data-torrent="').concat(l.magnetURI,'"]');return e.getBlob(function(){var e=Object(i.a)(r.a.mark((function e(t,a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return console.warn(t),e.abrupt("return");case 3:return e.next=5,p(n,a);case 5:if("false"!==(null===(c=document.querySelector(s))||void 0===c?void 0:c.dataset.played)||(null===c||void 0===c?void 0:c.getAttribute("src"))){e.next=11;break}return e.next=9,j(n);case 9:i=e.sent,f(i,s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e}))}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()):e(!0)}))}}))})).reduce((function(e,t){return[].concat(Object(a.a)(e),Object(a.a)(t))}),[]);v(c)}},609:function(e,t,n){"use strict";var a=n(57),c=n(4);t.a=function(){return Object(c.jsxs)("div",{className:"bottom-nav-container",children:[Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},610:function(e,t,n){"use strict";var a=n(0),c=n(4);t.a=function(e){var t=e.color,n=e.length,r=e.type,i=e.width,o=Object(a.useMemo)((function(){return"vertical"===r?{borderLeftStyle:"solid",borderLeftWidth:"".concat(i/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(i/2,"px"),borderRightColor:t,height:n}:"horizontal"===r?{borderTopStyle:"solid",borderTopWidth:i/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:i/2,borderBottomColor:t,width:n}:{}}),[t,n,r,i]);return Object(c.jsx)("div",{style:o})}},611:function(e,t,n){"use strict";n(629);var a=n(4);t.a=function(e){var t=e.text,n=void 0===t?"Submit":t,c=e.onClick;return Object(a.jsx)("div",{className:"submit-btn",onClick:c,"data-v-eff015a9":"",children:Object(a.jsx)("p",{"data-v-eff015a9":"",children:n})})}},614:function(e,t,n){"use strict";var a=n(17),c=n(0),r=n(85),i=n.n(r),o=(n(615),n(4));t.a=function(e){var t=e.label,n=void 0===t?null:t,r=e.icon,s=void 0===r?null:r,l=e.iconURL,d=void 0===l?null:l,u=e.onClick,b=void 0===u?void 0:u,j=e.nestedMode,f=void 0!==j&&j,p=e.large,v=void 0!==p&&p,O=e.small,h=void 0!==O&&O,m=e.relative,x=void 0!==m&&m,g=e.children,N=void 0===g?null:g,k=e.style,C=void 0===k?{}:k,_=Object(c.useState)(!1),y=Object(a.a)(_,2),S=y[0],w=y[1],U=Object(c.useCallback)((function(){f&&w(!S)}),[S,f]),B=Object(c.useMemo)((function(){return d?Object(o.jsx)("img",{src:d,className:"add-btn-icon",alt:"","data-v-12c9dde0":""}):Object(o.jsx)("i",{className:"fas fa-".concat(null!==s&&void 0!==s?s:"plus"),"data-v-12c9dde0":""})}),[s,d]),D=Object(c.useMemo)((function(){return n?Object(o.jsx)("p",{className:"add-btn-label","data-v-12c9dde0":"",children:n}):null}),[n]);return Object(o.jsxs)("div",{className:i()({"add-btn-container":!0,"add-btn-round-container":!n,"add-btn-large":v,"add-btn-small":h}),"data-v-12c9dde0":"",children:[Object(o.jsxs)("div",{className:i()({"add-btn":!0,"add-btn-round":!n,"add-btn-extended":!!n,"add-btn-relative":x,"add-btn-open":S,"add-btn-nested":f}),onClick:null!==b&&void 0!==b?b:U,style:C,"data-v-12c9dde0":"",children:[B,D]}),N?Object(o.jsx)("div",{className:i()({"add-btn-options":!0,"add-btn-options-open":S}),"data-v-12c9dde0":"",children:N}):null]})}},615:function(e,t,n){},629:function(e,t,n){},636:function(e,t){},637:function(e,t){},638:function(e,t){},639:function(e,t){},640:function(e,t){},641:function(e,t){},642:function(e,t){},643:function(e,t){},644:function(e,t){},646:function(e,t){},647:function(e,t){},648:function(e,t){},649:function(e,t){},650:function(e,t){},651:function(e,t){},652:function(e,t){},653:function(e,t){},654:function(e,t){},655:function(e,t){},656:function(e,t){},657:function(e,t){},659:function(e,t){},665:function(e,t,n){"use strict";var a=n(85),c=n.n(a),r=n(592),i=n(610),o=n(666),s=n.n(o),l=n(4);t.a=function(e){var t=e.onChange,n=e.selected,a=e.showContentBtn;return Object(l.jsxs)("div",{className:c()(r.D,r.z,r.A,r.w,s.a.container),children:[Object(l.jsx)("span",{className:c()(r.C,"posts"===n?s.a.selected:s.a.unselected),onClick:function(){t("posts")},children:"Posts"}),Object(l.jsx)("div",{className:c()(r.a,a&&s.a["left-line"]),children:Object(l.jsx)(i.a,{color:"white",length:16,type:"vertical",width:2})}),Object(l.jsx)("span",{className:c()(r.C,"services"===n?s.a.selected:s.a.unselected),onClick:function(){t("services")},children:"Services"}),a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:c()(r.a,s.a["right-line"]),children:Object(l.jsx)(i.a,{color:"white",length:16,type:"vertical",width:2})}),Object(l.jsx)("span",{className:c()(r.C,"content"===n?s.a.selected:s.a.unselected),onClick:function(){t("content")},children:"Content"})]})]})}},666:function(e,t,n){e.exports={container:"ProfileDivider_container__3ob9k",selected:"ProfileDivider_selected__3U98y",unselected:"ProfileDivider_unselected__1Z_qd","left-line":"ProfileDivider_left-line__2xjlN","right-line":"ProfileDivider_right-line__1d2KH"}},667:function(e,t,n){"use strict";t.a=n.p+"static/media/clipboard.beb19e1e.svg"},668:function(e,t,n){"use strict";t.a=n.p+"static/media/qrcode.69103c6c.svg"},678:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(7),i=n(17),o=n(0),s=n(37),l=n(593),d=n(611),u=n(595),b=n(35),j=n(177),f=(n(679),n(4));t.a=function(e){var t=e.tipData,n=e.toggleOpen,a=Object(s.b)(),p=Object(o.useState)(""),v=Object(i.a)(p,2),O=v[0],h=v[1],m=Object(o.useState)(!1),x=Object(i.a)(m,2),g=x[0],N=x[1],k=Object(o.useState)(""),C=Object(i.a)(k,2),_=C[0],y=C[1],S=Object(o.useState)(!1),w=Object(i.a)(S,2),U=w[0],B=w[1],D=Object(o.useCallback)((function(e){"amount"===e.target.name&&y(e.target.value)}),[]),T=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n){var r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!g){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,N(!0),e.next=7,a(Object(b.i)({amount:_,publicKey:t.publicKey,postId:t.postID}));case 7:B(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),t&&(o=e.t0.message,s=null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errorMessage,h(null!==s&&void 0!==s?s:o));case 14:return e.prev=14,N(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[a,_,g,t]);return Object(o.useEffect)((function(){t||(N(!1),h(null),B(!1))}),[t]),Object(f.jsx)(l.a,{toggleModal:n,modalOpen:!!t,modalTitle:"Send Tip",noFullWidth:!0,"data-v-3d290496":"",children:U?Object(f.jsxs)("div",{className:"tip-modal-success m-1","data-v-3d290496":"",children:[Object(f.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-3d290496":""}),Object(f.jsx)("p",{className:"tip-success-title","data-v-3d290496":"",children:"Post tipped successfully!"}),Object(f.jsx)("p",{className:"tip-success-desc","data-v-3d290496":""})]}):Object(f.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:T,"data-v-3d290496":"",children:[O?Object(f.jsx)("div",{className:"form-error","data-v-3d290496":"",children:O}):null,g?Object(f.jsx)(j.a,{overlay:!0,text:"Sending Tip...","data-v-3d290496":""}):null,Object(f.jsx)("p",{className:"tip-modal-desc m-1","data-v-3d290496":"",children:"Please specify the amount of sats you'd like to tip this user with below."}),Object(f.jsx)(u.a,{name:"amount",onChange:D,value:_,inputMode:"decimal",small:!0,"data-v-3d290496":""}),Object(f.jsx)(d.a,{text:"SEND TIP",onClick:T,"data-v-3d290496":""})]})})}},679:function(e,t,n){},680:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(7),i=n(17),o=n(0),s=n(593),l=n(177),d=(n(681),n(6)),u=n(4);t.a=function(e){var t=e.shareData,n=e.toggleOpen,a=Object(o.useState)(""),b=Object(i.a)(a,2),j=b[0],f=b[1],p=Object(o.useState)(!1),v=Object(i.a)(p,2),O=v[0],h=v[1],m=Object(o.useState)(!1),x=Object(i.a)(m,2),g=x[0],N=x[1],k=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n){var a,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!O){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,h(!0),a=t.postID,r=t.publicKey,i={originalAuthor:r,shareDate:Date.now()},e.next=9,d.d.post("/api/gun/put",{path:"$user>sharedPosts>".concat(a),value:i});case 9:o=e.sent,o.data.ok?N(!0):f("Share operation failed"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[t,O]),C=Object(o.useCallback)((function(){n(null)}),[n]);return Object(o.useEffect)((function(){t||(h(!1),f(null),N(!1))}),[t]),Object(u.jsx)(s.a,{toggleModal:n,modalOpen:!!t,modalTitle:"Share post",blueBtn:O||j||g?(g||j)&&"OK":"SHARE",disableBlueBtn:O,onClickBlueBtn:g||j?C:k,hideXBtn:g,noFullWidth:!0,"data-v-18446f11":"",children:g?Object(u.jsxs)("div",{className:"tip-modal-success m-1","data-v-18446f11":"",children:[Object(u.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-18446f11":""}),Object(u.jsx)("p",{className:"tip-success-title","data-v-18446f11":"",children:"Post shared successfully!"})]}):Object(u.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:k,"data-v-18446f11":"",children:[j?Object(u.jsx)("p",{className:"form-error","data-v-18446f11":"",children:j}):null,j&&Object(u.jsx)("p",{className:"tip-modal-desc m-1","data-v-18446f11":"",children:"You can try again."}),O?Object(u.jsx)(l.a,{text:"Sharing...","data-v-18446f11":""}):null,!j&&!O&&Object(u.jsx)("p",{className:"tip-modal-desc m-1","data-v-18446f11":"",children:"This post will be shared on your profile"})]})})}},681:function(e,t,n){},682:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(7),i=n(17),o=n(0),s=n(37),l=n(593),d=n(611),u=n(30),b=n(177),j=(n(683),n(4));t.a=function(e){var t=e.unlockData,n=e.toggleOpen,a=Object(s.b)(),f=Object(o.useState)(""),p=Object(i.a)(f,2),v=p[0],O=p[1],h=Object(o.useState)(!1),m=Object(i.a)(h,2),x=m[0],g=m[1],N=Object(o.useState)(!1),k=Object(i.a)(N,2),C=k[0],_=k[1],y=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n){var r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!x){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,g(!0),e.next=7,Object(u.o)(100,t.publicKey,t.postID)(a);case 7:_(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),t&&(o=e.t0.message,s=null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errorMessage,O(null!==s&&void 0!==s?s:o));case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[a,x,t]);return Object(o.useEffect)((function(){t||(g(!1),O(null),_(!1))}),[t]),Object(j.jsx)(l.a,{toggleModal:n,modalOpen:!!t,modalTitle:"Unlock content","data-v-5721404d":"",children:C?Object(j.jsxs)("div",{className:"tip-modal-success","data-v-5721404d":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-5721404d":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-5721404d":"",children:"Content unlocked successfully!"})]}):Object(j.jsxs)("form",{className:"modal-form tip-form",onSubmit:y,"data-v-5721404d":"",children:[v?Object(j.jsx)("div",{className:"form-error","data-v-5721404d":"",children:v}):null,x?Object(j.jsx)(b.a,{overlay:!0,text:"Sending Tip...","data-v-5721404d":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc","data-v-5721404d":"",children:"100 sats will be sent to the owner of the post to unlock the content"}),Object(j.jsx)(d.a,{text:"UNLOCK",onClick:y,"data-v-5721404d":""})]})})}},683:function(e,t,n){},854:function(e,t,n){},855:function(e,t,n){},856:function(e,t,n){e.exports={"profile-page":"OtherUser_profile-page__OhC-_","profile-container":"OtherUser_profile-container__2oq7s","profile-cover":"OtherUser_profile-cover__3Fq6P","profile-info-container":"OtherUser_profile-info-container__3qnqN","profile-avatar":"OtherUser_profile-avatar__S6INq","profile-name":"OtherUser_profile-name__3chmC","profile-desc":"OtherUser_profile-desc__f9Dsj","config-btn":"OtherUser_config-btn__t33_B","config-btn-icon":"OtherUser_config-btn-icon__1p_6O","config-btn-text":"OtherUser_config-btn-text__1Wg_T","profile-choice-container":"OtherUser_profile-choice-container__3-xgF","profile-choice-icon":"OtherUser_profile-choice-icon__3iOE1","profile-choice-text":"OtherUser_profile-choice-text__deYLl","profile-qrcode":"OtherUser_profile-qrcode__2Ok54","profile-qrcode-desc":"OtherUser_profile-qrcode-desc__3cp0P","profile-clipboard-container":"OtherUser_profile-clipboard-container__1P_p8","profile-clipboard-icon":"OtherUser_profile-clipboard-icon__1nW2U","profile-clipboard-text":"OtherUser_profile-clipboard-text__2g4AC","publish-content-form":"OtherUser_publish-content-form__1YdVa","publish-content-title":"OtherUser_publish-content-title__3EsYE","publish-content-icon":"OtherUser_publish-content-icon__291ch","m-1":"OtherUser_m-1__1dpvP","content-container":"OtherUser_content-container__1lOOL"}},857:function(e,t,n){e.exports={container:"FollowBtn_container__2c7Cj",text:"FollowBtn_text__1o7CS"}},858:function(e,t,n){e.exports={container:"SendReqBtn_container__2nY4E",text:"SendReqBtn_text__2_2zC"}},888:function(e,t,n){"use strict";n.r(t);var a=n(46),c=n(2),r=n(17),i=n(0),o=n.n(i),s=n(664),l=n.n(s),d=n(24),u=n(85),b=n.n(u),j=n(9),f=n(78),p=n(14),v=n(65),O=n(609),h=n(614),m=n(593),x=n(177),g=n(594),N=n(665),k=n(591),C=n(29),_=n(44),y=n(6),S=n(606),w=(n(854),n(4)),U={height:100,width:100,objectFit:"contain"},B=function(e){var t=e.publicKey,n=Object(d.g)(),a=o.a.useState({}),c=Object(r.a)(a,2),i=c[0],s=c[1],l=o.a.useState(""),u=Object(r.a)(l,2),b=u[0],j=u[1];o.a.useEffect((function(){var e=Object(p.b)({query:"".concat(t,"::publishedContentPublic::map.on"),onError:function(e){j(JSON.stringify(e,null,4))},onData:function(e,n){s(Object(C.a)((function(a){_.e(e)?a[n]=e:y.g.warn("Invalid/incomplete public published content found for public key ...".concat(t.slice(-8),", might be due to pending replication or was deleted if null: ").concat(JSON.stringify(e,null,4)))})))}});return function(){e.then((function(e){return e.off()}))}}),[t]);var f=o.a.useMemo((function(){return Object.values(i).sort((function(e,t){return t.timestamp-e.timestamp}))}),[i]);return b?Object(w.jsx)("p",{"data-v-21c38d2e":"",children:b}):Object(w.jsx)(w.Fragment,{children:f.map((function(e,t){return Object(w.jsxs)("div",{className:"item",onClick:function(){n.push("/item/".concat(e.author,"/").concat(e.id))},"data-v-21c38d2e":"",children:["image/embedded"===e.type&&Object(w.jsx)("div",{style:U,"data-v-21c38d2e":"",children:Object(w.jsx)(S.a,{disableZoom:!0,hideRibbon:!0,id:e.id,index:t,item:e,postId:null,tipCounter:null,tipValue:null,style:U,"data-v-21c38d2e":""})}),"video/embedded"===e.type&&Object(w.jsx)("div",{className:"video-placeholder",style:U,"data-v-21c38d2e":"",children:Object(w.jsx)("i",{className:"fas fa-video video-icon","data-v-21c38d2e":""})}),Object(w.jsxs)("div",{className:"title-and-description","data-v-21c38d2e":"",children:[Object(w.jsx)("h2",{className:"title","data-v-21c38d2e":"",children:e.title}),Object(w.jsx)("p",{className:"description","data-v-21c38d2e":"",children:e.description||" "}),Object(w.jsx)("span",{className:"timestamp","data-v-21c38d2e":"",children:y.f(e.timestamp)})]})]},e.id)}))})},D=n(667),T=n(668),I=n.p+"static/media/logo-alone-2.512c5854.png",P=n(678),R=n(682),M=n(3),E=n.n(M),q=n(7),K=n(37),L=n(611),F=n(113),W=n(30),A=(n(855),function(e){var t=e.service,n=e.toggleOpen,a=Object(K.b)(),c=Object(i.useState)(""),o=Object(r.a)(c,2),s=o[0],l=o[1],d=Object(i.useState)(!1),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(i.useState)(null),p=Object(r.a)(f,2),v=p[0],O=p[1],h=Object(i.useState)(!1),g=Object(r.a)(h,2),N=g[0],k=g[1],C=Object(i.useCallback)(function(){var e=Object(q.a)(E.a.mark((function e(n){var c,r,i,o,s,d,u,b,f;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,c=t.servicePrice,r=t.owner,i=t.serviceID,o=t.serviceType,r&&i&&"number"===typeof Number(c)){e.next=7;break}return console.error("invalid service provided"),console.error(t),e.abrupt("return");case 7:return j(!0),e.next=10,Object(F.b)(r,i,c)(a);case 10:s=e.sent,console.log(s),O(s),"torrentSeed"===o&&Object(W.b)(s.seedUrl,s.tokens[0])(a),"streamSeed"===o&&Object(W.e)(s.seedUrl,s.tokens[0])(a),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0),t&&(b=e.t0.message,f=null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.errorMessage,l(null!==f&&void 0!==f?f:b));case 21:return e.prev=21,j(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),[a,t]);Object(i.useEffect)((function(){t||(j(!1),l(null),O(null))}),[v,t]);var _=Object(i.useCallback)((function(){navigator.clipboard.writeText(JSON.stringify(v)),k(!0)}),[v,k]);return Object(w.jsx)(m.a,{toggleModal:n,modalOpen:!!t,modalTitle:"Buy Service","data-v-4f1d3ebd":"",children:v?Object(w.jsxs)("div",{className:"tip-modal-success","data-v-4f1d3ebd":"",children:[Object(w.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-4f1d3ebd":""}),Object(w.jsx)("p",{className:"tip-success-title","data-v-4f1d3ebd":"",children:"You successfully bought this service!"}),Object(w.jsx)("p",{"data-v-4f1d3ebd":"",children:JSON.stringify(v)}),Object(w.jsx)("button",{onClick:_,"data-v-4f1d3ebd":"",children:"COPY TO CLIPBOARD"}),N&&Object(w.jsx)("p",{"data-v-4f1d3ebd":"",children:"Copied!"})]}):Object(w.jsxs)("form",{className:"modal-form tip-form",onSubmit:C,"data-v-4f1d3ebd":"",children:[s?Object(w.jsx)("div",{className:"form-error","data-v-4f1d3ebd":"",children:s}):null,b?Object(w.jsx)(x.a,{overlay:!0,text:"Sending Tip...","data-v-4f1d3ebd":""}):null,Object(w.jsxs)("p",{className:"tip-modal-desc","data-v-4f1d3ebd":"",children:[t&&t.servicePrice," sats will be sent to the owner of the service provider"]}),Object(w.jsx)(L.a,{text:"BUY",onClick:C,"data-v-4f1d3ebd":""})]})})}),z=n(680),Y=n(20),J=n(592),V=n(856),Z=n.n(V),X=n(857),H=n.n(X),$=function(e){var t=e.publicKey,n=!!Y.useSelector(Y.selectFollows).find((function(e){return e.user===t})),a=Object(i.useState)(!1),c=Object(r.a)(a,2),o=c[0],s=c[1],l=Object(i.useCallback)(Object(q.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=3;break}return e.abrupt("return");case 3:if(s(!0),a={status:-1,data:{errorMessage:""}},!n){e.next=11;break}return e.next=8,y.d.delete("/api/gun/follows/".concat(t));case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,y.d.put("/api/gun/follows/".concat(t),{});case 13:a=e.sent;case 14:if(200===a.status){e.next=16;break}throw new Error(a.data.errorMessage);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),n?alert("Could not unfollow: ".concat(e.t0.message)):alert("Could not follow: ".concat(e.t0.message));case 21:return e.prev=21,s(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])}))),[o,s,n,t]);return Object(w.jsx)("div",{className:H.a.container,onClick:l,children:Object(w.jsx)("p",{className:b()(J.C,H.a.text),children:o?"...":n?"Unfollow":"Follow"})})},G=n(47),Q=n(858),ee=n.n(Q),te=function(e){var t=e.publicKey,n=Object(K.b)(),a=Object(d.g)(),c=Y.useSelector(Y.selectIsInContact(t)),o=Object(i.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],j=Object(i.useCallback)(Object(q.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!l){e.next=3;break}return e.abrupt("return");case 3:if(!c){e.next=6;break}return a.push("/chat/".concat(t)),e.abrupt("return");case 6:return u(!0),e.next=9,n(Object(G.l)(t));case 9:u(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Could not send contact request: ".concat(e.t0.message)),y.g.error(e.t0),u(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))),[l,n,a,c,t]);return Object(w.jsx)("div",{className:b()(ee.a.container),onClick:j,children:Object(w.jsx)("p",{className:b()(J.C,ee.a.text),children:l?"...":c?"Message":"Request Contact"})})},ne=n(35),ae=n(608),ce=o.a.lazy((function(){return Promise.all([n.e(2),n.e(34)]).then(n.bind(null,632))})),re=o.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,876))})),ie={src:I,height:36,width:36,excavate:!0};t.default=function(){var e=Y.useDispatch(),t=Object(d.g)(),n=Y.useSelector((function(e){return e.node.publicKey})),o=Object(i.useState)(!1),s=Object(r.a)(o,2),u=s[0],C=s[1],_=Object(d.i)(),S=_.publicKey,U=_.selectedView,I=void 0===U?"posts":U,M=Y.useSelector(Y.selectUser(S)),E=Object(i.useState)({}),q=Object(r.a)(E,2),K=q[0],L=q[1],F=Object(i.useState)(null),W=Object(r.a)(F,2),V=W[0],X=W[1],H=Object(i.useState)(null),G=Object(r.a)(H,2),Q=G[0],ee=G[1],oe=Object(i.useState)(null),se=Object(r.a)(oe,2),le=se[0],de=se[1],ue=Object(i.useState)(null),be=Object(r.a)(ue,2),je=be[0],fe=be[1],pe=n===M.publicKey;Object(i.useEffect)((function(){return e(Object(ne.p)()),function(){e(Object(ne.r)())}}),[e]),Object(i.useEffect)((function(){return e(Object(ne.q)(S))}),[e,S]),Object(i.useEffect)((function(){return e(Object(ne.n)(S))}),[e,S]),Object(i.useEffect)((function(){return e(Object(v.b)(S))}),[e,S]),Object(i.useEffect)((function(){var e=Object(p.b)({onData:function(e,t){L((function(n){return Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},t,e))}))},query:"".concat(S,"::offeredServices::map.on"),onError:function(e){var t=y.e(e);t.startsWith("timeout of ")||"TIMEOUT_ERR"===t?y.g.warn("Could not fetch this user's (...".concat(S.slice(-8),") offered services due to a timeout error, this can be expected if the data hasn't been populated yet.")):(f.b.dark("There was an error fetching ".concat(M.displayName,"'s offered services: ").concat(t)),y.g.error(e))}});return function(){e.then((function(e){e.off()}))}}),[M.displayName,S]);var ve=Object(i.useCallback)((function(){C(!u)}),[u]),Oe=Object(i.useCallback)((function(e){!V&&e||X(null),X(e)}),[V]),he=Object(i.useCallback)((function(e){!le&&e||de(null),de(e)}),[le]),me=Object(i.useCallback)((function(e){!Q&&e||ee(null),ee(e)}),[Q]),xe=Object(i.useCallback)((function(e){console.log("share click yo"),console.log(e),!je&&e||fe(null),fe(e)}),[je]),ge=Y.useSelector(Y.selectPostsNewestToOldest(S)),Ne=Object(i.useCallback)((function(){navigator.clipboard.writeText(S)}),[S]),ke=Object(i.useCallback)((function(e){t.replace("/otherUser/".concat(S,"/").concat(e))}),[t,S]);return Object(i.useLayoutEffect)((function(){Object(ae.a)(ge.filter((function(e){return!j.o(e)})),!1)}),[ge]),Object(w.jsxs)("div",{className:b()("page-container",Z.a["profile-page"]),children:[Object(w.jsxs)("div",{className:b()(Z.a["profile-container"]),children:[Object(w.jsx)("div",{className:"profile-cover",children:M.header&&Object(w.jsx)("img",{className:"w-100",alt:"User set profile header.",src:"data:image/jpeg;base64,".concat(M.header)})}),Object(w.jsxs)("div",{className:Z.a["profile-info-container"],children:[Object(w.jsx)("div",{className:Z.a["profile-avatar"],style:{height:"".concat(122,"px"),width:"".concat(122,"px")},children:Object(w.jsx)(g.a,{height:122,publicKey:S,greyBorder:!0})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{className:Z.a["profile-name"],children:M.displayName}),Object(w.jsx)("p",{className:Z.a["profile-desc"],children:M.bio||"Lightning.Page user"}),Object(w.jsxs)("div",{className:J.z,children:[!pe&&Object(w.jsx)($,{publicKey:S}),Object(w.jsx)(k.a,{amt:24,insideRow:!0}),!pe&&Object(w.jsx)(te,{publicKey:S})]})]})]}),Object(w.jsx)(N.a,{onChange:ke,selected:I,showContentBtn:!0}),Object(w.jsxs)("div",{children:["posts"===I&&(0===ge.length?Object(w.jsx)(x.a,{text:"loading posts..."}):ge.map((function(e){return j.o(e)?Object(w.jsx)(i.Suspense,{fallback:Object(w.jsx)(x.a,{}),children:Object(w.jsx)(re,{openTipModal:Oe,openUnlockModal:me,openShareModal:xe,postID:e.originalPostID,sharerPublicKey:e.sharedBy})},e.originalPostID):Object(w.jsx)(i.Suspense,{fallback:Object(w.jsx)(x.a,{}),children:Object(w.jsx)(ce,{id:e.id,publicKey:e.authorId,openTipModal:Oe,openUnlockModal:me,openDeleteModal:null,openShareModal:xe})},e.id)}))),"services"===I&&Object.entries(K).filter((function(e){var t=Object(r.a)(e,2);return t[0],!!t[1]})).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(w.jsxs)("div",{className:Z.a.post,children:[Object(w.jsx)("strong",{children:"Service ID"}),Object(w.jsx)("p",{children:n}),Object(w.jsx)("strong",{children:"Service Tpe"}),Object(w.jsx)("p",{children:a.serviceType}),Object(w.jsx)("strong",{children:"Service Title"}),Object(w.jsx)("p",{children:a.serviceTitle}),Object(w.jsx)("strong",{children:"Service Description"}),Object(w.jsx)("p",{children:a.serviceDescription}),Object(w.jsx)("strong",{children:"Service Condition"}),Object(w.jsx)("p",{children:a.serviceCondition}),Object(w.jsx)("strong",{children:"Service Price"}),Object(w.jsx)("p",{children:a.servicePrice}),Object(w.jsx)("button",{onClick:function(){de(Object(c.a)(Object(c.a)({},a),{},{serviceID:n,owner:S}))},children:"BUY SERVICE"})]})})),"content"===I&&Object(w.jsx)("div",{className:Z.a["content-container"],children:Object(w.jsx)(B,{publicKey:S})})]}),Object(w.jsx)(k.a,{amt:200}),Object(w.jsxs)(m.a,{toggleModal:ve,modalOpen:u,contentStyle:{padding:"40px 30px"},noFullWidth:!0,children:[Object(w.jsx)(l.a,{bgColor:"#23282d",fgColor:"#64bbff",value:S,size:180,className:Z.a["profile-qrcode"],imageSettings:ie}),Object(w.jsx)("p",{className:Z.a["profile-qrcode-desc"],children:"Scan this code to contact this user"}),Object(w.jsxs)("div",{className:Z.a["profile-clipboard-container"],onClick:Ne,children:[Object(w.jsx)("img",{src:D.a,className:Z.a["profile-clipboard-icon"],alt:""}),Object(w.jsx)("p",{className:Z.a["profile-clipboard-text"],children:"Tap to copy to clipboard"})]})]}),Object(w.jsx)(P.a,{tipData:V,toggleOpen:Oe}),Object(w.jsx)(R.a,{unlockData:Q,toggleOpen:me}),Object(w.jsx)(A,{service:le,toggleOpen:he}),Object(w.jsx)(z.a,{shareData:je,toggleOpen:xe}),Object(w.jsx)(h.a,{onClick:ve,large:!0,iconURL:T.a,icon:null,label:null})]}),Object(w.jsx)(O.a,{})]})}}}]);
//# sourceMappingURL=12.04fe234e.chunk.js.map