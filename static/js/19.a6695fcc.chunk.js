(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[19],{609:function(e,t,a){"use strict";var c=a(0),n=a(88),o=a.n(n),i=a(7),s=a(183),l=(a(618),a(4)),r=function(e){var t=e.children,a=void 0===t?null:t,c=e.style,n=void 0===c?{}:c,i=e.contentClass,s=void 0===i?"":i;return Object(l.jsx)("div",{className:o()("content",s),style:n,"data-v-2f53777a":"",children:a})},d=(a(619),function(e){var t=e.title,a=void 0===t?"":t,c=e.toggleModal,n=void 0===c?i.b:c,o=e.forceRenderTitleBar,s=void 0!==o&&o,r=e.hideXBtn,d=void 0!==r&&r;return a||s?Object(l.jsxs)("div",{className:"head","data-v-dc643cd0":"",children:[Object(l.jsx)("p",{className:"head-title","data-v-dc643cd0":"",children:a}),!d&&Object(l.jsx)("div",{className:"head-close",onClick:n,"data-v-dc643cd0":"",children:Object(l.jsx)("i",{className:"fas fa-times","data-v-dc643cd0":""})})]}):null}),b=(a(620),function(e){var t=e.modalOpen,a=void 0!==t&&t,n=e.toggleModal,b=e.modalTitle,j=void 0===b?"":b,f=e.children,p=e.contentStyle,v=void 0===p?i.c:p,O=e.disableBackdropClose,h=void 0!==O&&O,m=e.forceRenderTitleBar,x=void 0!==m&&m,g=e.hideXBtn,C=void 0!==g&&g,k=e.noFullWidth,y=void 0!==k&&k,N=e.blueBtn,S=void 0===N?"":N,w=e.disableBlueBtn,B=void 0!==w&&w,_=e.onClickBlueBtn,R=void 0===_?i.b:_,I=e.redBtn,D=void 0===I?"":I,T=e.disableRedBtn,P=void 0!==T&&T,U=e.onClickRedBtn,E=void 0===U?i.b:U,H=e.contentClass,M=void 0===H?"":H,A=e.error,K=void 0===A?"":A,W=e.textIfLoading,z=void 0===W?"":W,F=Object(c.useCallback)((function(){n()}),[n]),q=Object(c.useCallback)((function(){h||n()}),[h,n]);return Object(l.jsxs)("div",{className:o()({modal:!0,open:a}),"data-v-510ca6a4":"",children:[Object(l.jsx)("div",{className:"backdrop",onClick:q,"data-v-510ca6a4":""}),Object(l.jsxs)("div",{className:o()({container:!0,"container-no-full-width":y}),"data-v-510ca6a4":"",children:[z&&Object(l.jsx)(s.a,{overlay:!0,style:u,text:z,"data-v-510ca6a4":""}),Object(l.jsx)(d,{title:j,toggleModal:F,forceRenderTitleBar:x,hideXBtn:C,"data-v-510ca6a4":""}),K&&Object(l.jsx)("div",{className:"form-error form-error-margin","data-v-510ca6a4":"",children:K}),Object(l.jsx)(r,{style:v,contentClass:M,"data-v-510ca6a4":"",children:"string"===typeof f?Object(l.jsx)("p",{className:"text-align-center","data-v-510ca6a4":"",children:f}):f}),Object(l.jsxs)("div",{className:"color-buttons","data-v-510ca6a4":"",children:[S&&Object(l.jsx)("button",{disabled:B,className:o()("color-btn","blue-btn"),onClick:R,"data-v-510ca6a4":"",children:S}),D&&Object(l.jsx)("button",{disabled:P,className:o()("color-btn","red-btn"),onClick:E,"data-v-510ca6a4":"",children:D})]})]})]})}),u={borderRadius:"15px"};t.a=Object(c.memo)(b)},618:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){},622:function(e,t,a){"use strict";var c=a(0),n=a(59),o=a(19),i=a(4),s=function(){return Object(o.useSelector)((function(e){return e.node.authToken}))?Object(i.jsxs)("div",{className:"bottom-nav-container",children:[Object(i.jsx)(n.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(i.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(i.jsx)(n.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(i.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(i.jsx)(n.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(i.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(i.jsx)(n.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(i.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]}):null};t.a=Object(c.memo)(s)},623:function(e,t,a){"use strict";var c=a(13),n=a(0),o=a(88),i=a.n(o),s=(a(627),a(4)),l=function(e){var t=e.label,a=void 0===t?null:t,o=e.icon,l=void 0===o?null:o,r=e.iconURL,d=void 0===r?null:r,b=e.onClick,u=void 0===b?void 0:b,j=e.nestedMode,f=void 0!==j&&j,p=e.large,v=void 0!==p&&p,O=e.small,h=void 0!==O&&O,m=e.relative,x=void 0!==m&&m,g=e.children,C=void 0===g?null:g,k=e.style,y=void 0===k?{}:k,N=Object(n.useState)(!1),S=Object(c.a)(N,2),w=S[0],B=S[1],_=Object(n.useCallback)((function(){f&&B(!w)}),[w,f]),R=Object(n.useMemo)((function(){return d?Object(s.jsx)("img",{src:d,className:"add-btn-icon",alt:"","data-v-06e0640d":""}):Object(s.jsx)("i",{className:"fas fa-".concat(null!==l&&void 0!==l?l:"plus"),"data-v-06e0640d":""})}),[l,d]),I=Object(n.useMemo)((function(){return a?Object(s.jsx)("p",{className:"add-btn-label","data-v-06e0640d":"",children:a}):null}),[a]);return Object(s.jsxs)("div",{className:i()({"add-btn-container":!0,"add-btn-round-container":!a,"add-btn-large":v,"add-btn-small":h}),"data-v-06e0640d":"",children:[Object(s.jsxs)("div",{className:i()({"add-btn":!0,"add-btn-round":!a,"add-btn-extended":!!a,"add-btn-relative":x,"add-btn-open":w,"add-btn-nested":f}),onClick:null!==u&&void 0!==u?u:_,style:y,"data-v-06e0640d":"",children:[R,I]}),C?Object(s.jsx)("div",{className:i()({"add-btn-options":!0,"add-btn-options-open":w}),"data-v-06e0640d":"",children:C}):null]})};t.a=Object(n.memo)(l)},624:function(e,t,a){"use strict";var c=a(0),n=a(4),o=function(e){var t=e.color,a=e.length,o=e.type,i=e.width,s=Object(c.useMemo)((function(){return"vertical"===o?{borderLeftStyle:"solid",borderLeftWidth:"".concat(i/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(i/2,"px"),borderRightColor:t,height:a}:"horizontal"===o?{borderTopStyle:"solid",borderTopWidth:i/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:i/2,borderBottomColor:t,width:a}:{}}),[t,a,o,i]);return Object(n.jsx)("div",{style:s})};t.a=Object(c.memo)(o)},627:function(e,t,a){},659:function(e,t,a){"use strict";var c=a(0),n=a(88),o=a.n(n),i=a(607),s=a(624),l=a(660),r=a.n(l),d=a(4),b=function(e){var t=e.onChange,a=e.selected,c=e.showContentBtn;return Object(d.jsxs)("div",{className:o()(i.D,i.z,i.A,i.w,r.a.container),children:[Object(d.jsx)("span",{className:o()(i.C,"posts"===a?r.a.selected:r.a.unselected),onClick:function(){t("posts")},children:"Posts"}),Object(d.jsx)("div",{className:o()(i.a,c&&r.a["left-line"]),children:Object(d.jsx)(s.a,{color:"white",length:16,type:"vertical",width:2})}),Object(d.jsx)("span",{className:o()(i.C,"services"===a?r.a.selected:r.a.unselected),onClick:function(){t("services")},children:"Services"}),c&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:o()(i.a,r.a["right-line"]),children:Object(d.jsx)(s.a,{color:"white",length:16,type:"vertical",width:2})}),Object(d.jsx)("span",{className:o()(i.C,"content"===a?r.a.selected:r.a.unselected),onClick:function(){t("content")},children:"Content"})]})]})};t.a=Object(c.memo)(b)},660:function(e,t,a){e.exports={container:"ProfileDivider_container__3ob9k",selected:"ProfileDivider_selected__3U98y",unselected:"ProfileDivider_unselected__1Z_qd","left-line":"ProfileDivider_left-line__2xjlN","right-line":"ProfileDivider_right-line__1d2KH"}},661:function(e,t,a){"use strict";t.a=a.p+"static/media/clipboard.beb19e1e.svg"},662:function(e,t,a){"use strict";t.a=a.p+"static/media/qrcode.69103c6c.svg"},734:function(e,t,a){e.exports={container:"ContentHostInputView_container__1CVAn","uri-or-token-input":"ContentHostInputView_uri-or-token-input__3vg5h","plus-or-paste-btn":"ContentHostInputView_plus-or-paste-btn__3z_k0"}},735:function(e,t,a){e.exports={"container-base":"Host_container-base__r5EJP","remove-or-cancel":"Host_remove-or-cancel__2sHhe Host_container-base__r5EJP",container:"Host_container__2hPww Host_container-base__r5EJP",pill:"Host_pill__1WzlY","display-name-or-uri":"Host_display-name-or-uri__2eaUy","price-and-status":"Host_price-and-status__3Q4n3",price:"Host_price__2oEgL",red:"Host_red__1kS00",yellow:"Host_yellow__3DLEG",blue:"Host_blue__3m2Kb"}},736:function(e,t,a){},912:function(e,t,a){"use strict";a.r(t);var c=a(49),n=a(3),o=a.n(n),i=a(5),s=a(13),l=a(0),r=a.n(l),d=a(38),b=a(653),u=a.n(b),j=a(59),f=a(88),p=a.n(f),v=a(9),O=a(7),h=a(117),m=a(607),x=a(622),g=a(623),C=a(609),k=a(183),y=a(610),N=a(23),S=a(19),w=a(68),B=a(28),_=a(734),R=a.n(_),I=a(735),D=a.n(I),T=a(4),P=function(e){var t=e.error,a=e.isBeingAddedOrDeleted,c=e.isDefault,n=e.onClickRemove,o=e.onClickWarning,i=e.price,r=e.publicKey,d=e.URI,b=S.useSelector(S.selectUser(r)),u=Object(l.useState)(!1),j=Object(s.a)(u,2),f=j[0],O=j[1],h=Object(l.useCallback)((function(){O((function(e){return!e}))}),[]),x=Object(l.useCallback)((function(){o(r||d)}),[o,r,d]),g=Object(l.useCallback)((function(){n(r||d)}),[n,r,d]),C=t&&a||r&&d||!r&&!d,k=t;return C&&(k="Malformed host provided to <Host />, it must have either a public key or an URI (though not both), and it must not have both truthy error and isAdding props at the same time: ".concat(JSON.stringify(C))),f?Object(T.jsxs)("div",{className:p()(m.z,m.e,m.D),children:[Object(T.jsx)("button",{onClick:g,className:p()(m.o),children:"Remove"}),Object(T.jsx)("button",{onClick:h,className:p()(m.o),children:"Cancel"})]}):Object(T.jsxs)("div",{className:p()(m.z,m.B,m.f,D.a.container),children:[Object(T.jsxs)("div",{className:p()(m.z,m.B,m.h,D.a.pill),children:[r?Object(T.jsx)(y.a,{height:24,publicKey:r}):Object(T.jsx)("i",{className:p()("fas fa-globe")}),Object(T.jsx)("span",{className:D.a["display-name-or-uri"],children:d&&d.toLowerCase()||b.displayName||v.g(r)}),a||k?Object(T.jsx)("div",{}):Object(T.jsx)("span",{className:"fas fa-times",onClick:h,style:{fontSize:12}})]}),Object(T.jsxs)("div",{className:p()(m.p,m.f,D.a["price-and-status"]),children:[Object(T.jsxs)("span",{className:p()(m.p,D.a.price),children:[i," sats"]}),k?Object(T.jsx)("i",{className:p()("fas fa-exclamation-triangle",m.q,D.a.yellow),onClick:x}):a?Object(T.jsx)("i",{className:p()("fas fa-hourglass-half",m.q,D.a.yellow)}):c?Object(T.jsx)("i",{className:p()("fas fa-check",m.q,D.a.blue)}):Object(T.jsx)("i",{className:p()("fas fa-link",m.q,D.a.blue)})]})]})},U=Object(l.memo)(P),E=function(e){var t,a=e.hosts,c=e.onAddHost,n=e.onRemoveHost,o=e.onRetryHost,i=Object(l.useState)({publicKeyOrServerURI:"",URIHostAwaitingForToken:""}),r=Object(s.a)(i,2),d=r[0],b=d.publicKeyOrServerURI,u=d.URIHostAwaitingForToken,j=r[1],f=Object(l.useState)(""),v=Object(s.a)(f,2),h=v[0],x=v[1],g=Object(l.useState)(!1),k=Object(s.a)(g,2),y=k[0],S=k[1],w=Object(l.useRef)(null),_=Object(l.useState)(!1),I=Object(s.a)(_,2),D=I[0],P=I[1],E=Object(l.useState)(""),H=Object(s.a)(E,2),M=H[0],A=H[1],K=Object(l.useRef)(null),W=Object(l.useState)(!1),z=Object(s.a)(W,2),F=z[0],q=z[1],L=Object(l.useMemo)((function(){return a.slice().sort((function(e,t){return t.dateAdded-e.dateAdded}))}),[a]),J=Object(l.useMemo)((function(){return L.filter((function(e){return e.isDefault}))}),[L]),V=Object(l.useMemo)((function(){return L.filter((function(e){return!e.isDefault}))}),[L]),G=Object(l.useMemo)((function(){return[].concat(Object(N.a)(J),Object(N.a)(V))}),[J,V]),X=Object(l.useCallback)((function(){S(!0)}),[]),$=Object(l.useCallback)((function(){D||(navigator.clipboard?(P(!0),navigator.clipboard.readText().then((function(e){j(Object(B.a)((function(t){t.publicKeyOrServerURI=e})))})).catch((function(e){alert("Could not paste: ".concat(e.message))})).finally((function(){P(!1)}))):w.current&&(w.current.focus(),document.execCommand("paste"),w.current.blur()))}),[D,P]),Y=Object(l.useCallback)((function(){j(Object(B.a)((function(e){var t=O.h(e.publicKeyOrServerURI);t&&(e.publicKeyOrServerURI=t,e.URIHostAwaitingForToken=t)}))),O.h(b)||c(b)}),[j,b,c]),Q=Object(l.useCallback)((function(){F||(navigator.clipboard?(q(!0),navigator.clipboard.readText().then((function(e){A(e)})).catch((function(e){alert("Could not paste: ".concat(e.message))})).finally((function(){q(!1)}))):K.current&&(K.current.focus(),document.execCommand("paste"),K.current.blur()))}),[F,q,A]),Z=Object(l.useCallback)((function(){j(Object(B.a)((function(e){e.publicKeyOrServerURI="",e.URIHostAwaitingForToken=""}))),c(b,M)}),[j,c,b,M]),ee=Object(l.useCallback)((function(e){n(e)}),[n]),te=Object(l.useCallback)((function(){x("")}),[x]),ae=Object(l.useCallback)((function(){n(h),te()}),[n,h,te]),ce=Object(l.useCallback)((function(){o(h),x("")}),[o,h,x]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:p()(m.i,m.D,R.a.container),children:[Object(T.jsxs)("div",{className:(m.y,m.e),children:[Object(T.jsx)("input",{className:p()("input-field",R.a["uri-or-token-input"]),onChange:function(e){j(Object(B.a)((function(t){t.publicKeyOrServerURI=e.target.value,t.URIHostAwaitingForToken=""}))),A("")},type:"text",value:b,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||Y()},autoCapitalize:"off",autoCorrect:"none",placeholder:"Provider Pubkey or Server URI (include https or http)",ref:w,onFocus:X}),0===b.length&&Object(T.jsx)("button",{className:p()(m.n,R.a["plus-or-paste-btn"]),disabled:D,onClick:$,children:Object(T.jsx)("i",{className:"fas fa-paste"})}),b.length>0&&b!==u&&Object(T.jsx)("button",{className:p()(m.n,R.a["plus-or-paste-btn"]),disabled:0===b.length,onClick:Y,children:"+"})]}),b.length>0&&b===u&&Object(T.jsxs)("div",{className:(m.y,m.e),children:[Object(T.jsx)("input",{className:p()("input-field",R.a["uri-or-token-input"]),onChange:function(e){A(e.target.value)},type:"text",value:M,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||Z()},autoCapitalize:"off",autoCorrect:"none",placeholder:"Token (required)",ref:K}),0===M.length&&Object(T.jsx)("button",{className:p()(m.n,R.a["plus-or-paste-btn"]),disabled:F,onClick:Q,children:Object(T.jsx)("i",{className:"fas fa-paste"})}),M.length>0&&Object(T.jsx)("button",{className:p()(m.n,R.a["plus-or-paste-btn"]),disabled:0===M.length,onClick:Z,children:"+"})]}),Object(T.jsx)("div",{className:p()(m.i),children:(y?G:J).map((function(e){return Object(T.jsx)(U,{URI:e.URI,dateAdded:0,error:e.error,isBeingAddedOrDeleted:e.isBeingAddedOrDeleted,isDefault:e.isDefault,onClickRemove:ee,onClickWarning:x,price:e.price,publicKey:e.publicKey,token:e.token},e.publicKey||e.URI)}))})]}),Object(T.jsx)(C.a,{modalOpen:!!h,forceRenderTitleBar:!0,toggleModal:te,blueBtn:"Retry",onClickBlueBtn:ce,redBtn:"Remove",onClickRedBtn:ae,noFullWidth:!0,contentClass:"p-1",hideXBtn:!0,children:Object(T.jsx)("p",{className:"text-align-center",children:null===(t=G.find((function(e){return e.publicKey===h||e.URI===h})))||void 0===t?void 0:t.error})})]})},H=Object(l.memo)(E),M=a(29),A=function(){var e=Object(d.b)(),t=S.useSelector((function(e){return e.content.seedProviderPub})),a=S.useSelector((function(e){return e.userProfiles})),c=S.useSelector((function(e){return e.content.seedInfo})),n=c.seedUrl,o=c.seedToken,i=Object(l.useState)([]),r=Object(s.a)(i,2),b=r[0],u=r[1],j=Object(l.useState)(null),f=Object(s.a)(j,2),p=f[0],v=f[1],h=Object(l.useState)(""),m=Object(s.a)(h,2),x=m[0],g=m[1],C=Object(l.useState)(0),k=Object(s.a)(C,2),y=k[0],B=k[1],_=Object(l.useState)(""),R=Object(s.a)(_,2),I=R[0],D=R[1];Object(l.useEffect)((function(){var e=a[t];e?p&&e.avatar===p.avatar&&e.offerSeedService===p.offerSeedService||v(e):v(null)}),[a,t,p,v]),Object(l.useEffect)((function(){if(p){var e=p.offerSeedService;e!==x&&g(e)}}),[p,x,g]),Object(l.useEffect)((function(){var e=[];n&&o&&e.push({URI:n,token:o,price:0,isBeingAddedOrDeleted:!1,dateAdded:Date.now(),isDefault:!0,error:null,publicKey:null}),t&&p&&e.push({dateAdded:Date.now(),isBeingAddedOrDeleted:!0,isDefault:!0,publicKey:t,price:0,URI:null,token:null,error:null}),u(e)}),[n,o,t,p,u]),Object(l.useEffect)((function(){x&&O.d.get("/api/gun/otheruser/".concat(t,"/once/offeredServices>").concat(x,">servicePrice")).then((function(e){var t=e.data;B(t.data)})).catch((function(e){D(e)}))}),[x,t,B,D]),Object(l.useEffect)((function(){var e=Object(N.a)(b),t=e.findIndex((function(e){return!e.URI}));-1!==t&&e[t].price!==y&&(e[t].isBeingAddedOrDeleted=!1,e[t].price=y,u(e))}),[y,B,b,u]),Object(l.useEffect)((function(){var e=I.message||I,t=Object(N.a)(b),a=t.findIndex((function(e){return!e.URI}));-1!==a&&e!==t[a].error&&(t[a].isBeingAddedOrDeleted=!1,t[a].error=e,u(t))}),[I,D,b,u]);var P=Object(l.useCallback)((function(t,a){try{t.startsWith("http")?Object(M.k)(t,a)(e):Object(M.l)(t)(e)}catch(c){alert("Could not add host: ".concat(c.message)),O.g.error("Could not add host: ",c)}}),[e]),U=Object(l.useCallback)((function(t){try{t.startsWith("http")?Object(M.k)("","")(e):Object(M.l)("")(e)}catch(a){alert("Could not remove host: ".concat(a.message)),O.g.error("Could not remove host: ",a)}}),[e]);Object(l.useEffect)((function(){return e(Object(w.b)(t))}),[t,e]);var E=Object(l.useMemo)((function(){return b.filter((function(e){return e}))}),[b]);return Object(T.jsx)(H,{hosts:E,onAddHost:P,onRemoveHost:U,onRetryHost:function(){}})},K=Object(l.memo)(A),W=a(659),z=a(608),F=a(661),q=a.p+"static/media/logo-alone.512c5854.png",L=a(662),J=a(15),V=(a(736),a(36)),G=a(40),X=r.a.lazy((function(){return Promise.all([a.e(1),a.e(4),a.e(2),a.e(3),a.e(11)]).then(a.bind(null,675))})),$=r.a.lazy((function(){return Promise.all([a.e(1),a.e(4),a.e(2),a.e(3),a.e(10)]).then(a.bind(null,685))})),Y=function(){var e,t=S.useDispatch(),a=Object(l.useState)(!1),n=Object(s.a)(a,2),r=n[0],b=n[1],f=Object(l.useState)(null),N=Object(s.a)(f,2),w=N[0],B=N[1],_=Object(l.useState)(!1),R=Object(s.a)(_,2),I=R[0],D=R[1],P=S.useSelector((function(e){return e.node.publicKey})),U=S.useSelector(S.selectPostsNewestToOldest(P)),E=S.useSelector((function(e){return e.node.hostIP})),H=S.useSelector((function(e){return e.orders.myServices})),M=Object(l.useState)("posts"),A=Object(s.a)(M,2),q=A[0],Y=A[1],ae=Object(d.c)(S.selectSelfUser);Object(l.useEffect)((function(){if(console.log(ae),ae.offerSeedService){var e=Object(h.e)(ae.offerSeedService)(t);return Object(J.c)(e)}}),[t,ae]),Object(l.useEffect)((function(){return t(Object(V.q)(P))}),[t,P]),Object(l.useEffect)((function(){return t(Object(V.n)(P))}),[t,P]);var ce=Object(l.useCallback)((function(){b(!r)}),[r]),ne=Object(l.useState)(!1),oe=Object(s.a)(ne,2),ie=oe[0],se=oe[1],le=S.useSelector((function(e){return e.node.webClientPrefix})),re=Object(l.useState)(le),de=Object(s.a)(re,2),be=de[0],ue=de[1],je=Object(l.useCallback)((function(){if(navigator.clipboard)navigator.clipboard.writeText(be+"/"+P);else{var e=document.querySelector("#web-client-url-holder");e.style.display="block",e.select(),document.execCommand("copy"),e.blur(),e.style.display="none"}}),[be,P]),fe=Object(l.useCallback)((function(){console.debug("Subbing to webclient prefix on hostIP --| ".concat(E," |-- and public key --| ").concat(P," |--"));var e=Object(J.b)({query:"$user::Profile>webClientPrefix::on",onData:function(e){"string"===typeof e&&e!==le&&Object(G.f)(e)(t)},onError:function(e){console.error("There was an error fetching web client prefix: ".concat(e))}});return Object(J.c)(e)}),[le,t,E,P]);Object(l.useEffect)((function(){return fe()}),[fe]);var pe=Object(l.useCallback)((function(e){Y(e)}),[]),ve=be!==le,Oe=Object(l.useCallback)((function(){se((function(e){return!e})),ue(le)}),[le]),he=Object(l.useCallback)((function(){be!==le&&(Object(G.f)(be)(t),O.d.post("/api/gun/put",{path:"$user>Profile>webClientPrefix",value:be}).catch((function(e){alert("There was an error setting your web client prefix: ".concat(e.message))}))),Oe()}),[be,le,Oe,t]),me=Object(l.useRef)(null),xe=Object(l.useState)(!1),ge=Object(s.a)(xe,2),Ce=ge[0],ke=ge[1],ye=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,c,n,i,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!Ce){e.next=4;break}return e.abrupt("return");case 4:if(ke(!0),a=t.target,0!==(c=a.files).length){e.next=8;break}return e.abrupt("return");case 8:if(1===c.length){e.next=12;break}return O.g.error("Profile -> files.length !== 1"),alert("An error occurred while trying to set a header. This has been logged."),e.abrupt("return");case 12:return n=Object(s.a)(c,1),i=n[0],e.next=15,O.j(i,800,.9);case 15:return l=e.sent,"data:image/jpeg;base64,",r=l.slice("data:image/jpeg;base64,".length),e.next=20,O.d.post("/api/gun/put",{path:"$user>profileBinary>header",value:r});case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),O.g.error("Error while trying to load new header."),O.g.error(e.t0),alert("There was an error loading the new header: ".concat(e.t0.message));case 27:return e.prev=27,ke(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,22,27,30]])})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(l.useCallback)((function(e){e.preventDefault();var t=me.current;t||(O.g.error("File input element for avatar is falsy."),alert("There was an error and it was logged.")),t.click()}),[]),Se=Object(l.useCallback)((function(e){console.log(e),!w&&e||B(null),B(e)}),[w]),we=Object(l.useCallback)((function(){B(null)}),[]),Be=Object(l.useCallback)(Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w&&w.id){e.next=3;break}return e.abrupt("return");case 3:return D(!0),console.log("deleting:"),console.log(w),a=w.shared?"sharedPosts":"posts",e.next=9,O.d.post("/api/gun/put",{path:"$user>".concat(a,">").concat(w.id),value:null});case 9:t(Object(V.c)({id:w.id,authorId:P})),Se(null),D(!1),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(0),D(!1),console.log("Error when deleting post:"),console.log(e.t0),alert("Could not delete post: ".concat(e.t0.message));case 20:case"end":return e.stop()}}),e,null,[[0,14]])}))),[w,t,P,Se,D]),_e=Object(l.useCallback)((function(){try{if(navigator.clipboard){var e="".concat(le,"/").concat(P);navigator.clipboard.writeText(e)}else{var t=document.querySelector("#public-key-holder");t.style.display="block",t.select(),document.execCommand("copy"),t.blur(),t.style.display="none",b(!1)}}catch(a){alert("Could not copy to clipboard: ".concat(a.message))}}),[le,P]),Re=Object(l.useState)(!1),Ie=Object(s.a)(Re,2),De=Ie[0],Te=Ie[1],Pe=ae.displayName,Ue=Object(l.useState)(ae.displayName||"Anon"),Ee=Object(s.a)(Ue,2),He=Ee[0],Me=Ee[1],Ae=Object(l.useState)(null),Ke=Object(s.a)(Ae,2),We=Ke[0],ze=Ke[1],Fe=Object(l.useCallback)((function(e){""!==e&&(ze(e),O.d.put("/api/gun/me",{displayName:e}).catch((function(e){ze(null),alert("There was an error setting a new display name: ".concat(e.message))})))}),[]);Object(l.useEffect)((function(){We===Pe&&(console.debug("Got display name round trip from api."),ze(null))}),[We,Pe]);var qe=Object(l.useCallback)((function(){Me(Pe),Te((function(e){return!e}))}),[Pe]),Le=Object(l.useCallback)((function(){He!==Pe&&Fe(He),qe()}),[Pe,He,Fe,qe]),Je=Object(l.useMemo)((function(){return{padding:"12px 24px"}}),[]),Ve=ae.bio,Ge=Object(l.useState)(!1),Xe=Object(s.a)(Ge,2),$e=Xe[0],Ye=Xe[1],Qe=Object(l.useState)(Ve||"bio"),Ze=Object(s.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(l.useState)(null),ct=Object(s.a)(at,2),nt=ct[0],ot=ct[1],it=Object(l.useCallback)((function(e){""!==e&&(ot(e),O.d.put("/api/gun/me",{bio:e}).catch((function(e){ot(null),alert("There was an error setting a new bio: ".concat(e.message))})))}),[]);Object(l.useEffect)((function(){nt===Ve&&(console.debug("Got bio round trip from api."),ot(null))}),[nt,Ve]);var st=Object(l.useCallback)((function(){tt(Ve),Ye((function(e){return!e}))}),[Ve]),lt=Object(l.useCallback)((function(){et!==Ve&&it(et),st()}),[Ve,et,it,st]),rt=Object(l.useMemo)((function(){return{padding:"12px 24px"}}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"page-container profile-page","data-v-35fb985d":"",children:[Object(T.jsxs)("div",{className:"profile-container","data-v-35fb985d":"",children:[Object(T.jsxs)("div",{className:p()((e={"profile-cover":!0},Object(c.a)(e,m.x,!0),Object(c.a)(e,"profile-cover-has-cover",!!ae.header),e)),onClick:Ne,"data-v-35fb985d":"",children:[ae.header&&Object(T.jsx)("img",{alt:"User set profile header.",src:"data:image/jpeg;base64,".concat(ae.header),"data-v-35fb985d":""}),Object(T.jsx)("i",{className:p()(m.b,"fas","fa-pencil-alt","cover-pencil"),"data-v-35fb985d":""})]}),Object(T.jsxs)("div",{className:"profile-info-container","data-v-35fb985d":"",children:[Object(T.jsx)("div",{className:"profile-avatar",style:{height:"".concat(122,"px"),width:"".concat(122,"px")},"data-v-35fb985d":"",children:Object(T.jsx)(y.a,{height:122,publicKey:P,setsAvatar:!0,greyBorder:!0,disableOnlineRing:!0,"data-v-35fb985d":""})}),Object(T.jsxs)("div",{className:"profile-info","data-v-35fb985d":"",children:[Object(T.jsxs)("p",{className:p()(m.C,"profile-name"),onClick:qe,"data-v-35fb985d":"",children:[We||Pe,Object(T.jsx)("i",{className:"fas fa-pencil-alt pencil-btn","data-v-35fb985d":""})]}),Object(T.jsxs)("p",{className:p()(m.C,"profile-desc"),onClick:st,"data-v-35fb985d":"",children:[nt||ae.bio||"Lightning.Page user",Object(T.jsx)("i",{className:"fas fa-pencil-alt pencil-btn","data-v-35fb985d":""})]}),Object(T.jsxs)("div",{className:"config-btn",onClick:Oe,"data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"config-btn-icon icon-solid-spending-rule","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"config-btn-text","data-v-35fb985d":"",children:"Config"})]})]})]}),Object(T.jsxs)("div",{"data-v-35fb985d":"",children:[Object(T.jsx)(j.b,{to:"/goLive",className:"profile-choice-container","data-v-35fb985d":"",children:Object(T.jsxs)("div",{style:{backgroundColor:"red",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0.2em 0.5em",borderRadius:"0.7em",fontSize:"16px",fontWeight:600},"data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"fas fa-video","data-v-35fb985d":""}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:"GO LIVE"})]})}),Object(T.jsxs)(j.b,{to:"/createPost",className:"profile-choice-container","data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-pen-square","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-choice-text","data-v-35fb985d":"",children:"Create Post"})]}),Object(T.jsxs)(j.b,{to:"/publishContent",className:"profile-choice-container","data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"profile-choice-icon fab fa-youtube","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-choice-text","data-v-35fb985d":"",children:"Publish Content"})]}),Object(T.jsxs)("button",{className:"profile-choice-container","data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-shopping-cart","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-choice-text","data-v-35fb985d":"",children:"Offer a Product"})]}),Object(T.jsxs)(j.b,{to:"/offerService",className:"profile-choice-container","data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-running","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-choice-text","data-v-35fb985d":"",children:"Offer a Service"})]})]}),Object(T.jsx)(W.a,{onChange:pe,selected:q,"data-v-35fb985d":""}),Object(T.jsxs)("div",{className:"","data-v-35fb985d":"",children:["posts"===q&&U.map((function(e){return v.o(e)?Object(T.jsx)(l.Suspense,{fallback:Object(T.jsx)(k.a,{"data-v-35fb985d":""}),"data-v-35fb985d":"",children:Object(T.jsx)($,{postID:e.originalPostID,sharerPublicKey:e.sharedBy,openTipModal:O.b,openUnlockModal:O.b,openDeleteModal:Se,openShareModal:null,"data-v-35fb985d":""})},e.shareID):Object(T.jsx)(l.Suspense,{fallback:Object(T.jsx)(k.a,{"data-v-35fb985d":""}),"data-v-35fb985d":"",children:Object(T.jsx)(X,{id:e.id,publicKey:e.authorId,openTipModal:O.b,openUnlockModal:O.b,openDeleteModal:Se,openShareModal:null,"data-v-35fb985d":""})},e.id)})),"services"===q&&function(){if(ae.offerSeedService)return Object.entries(H).filter((function(e){var t=Object(s.a)(e,2),a=t[0];return!!t[1]&&ae.offerSeedService===a})).map((function(e){var a=Object(s.a)(e,2),c=a[0],n=a[1];return Object(T.jsxs)("div",{className:"post","data-v-35fb985d":"",children:[Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service ID"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:c}),Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service Tpe"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:n.serviceType||""}),Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service Title"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:n.serviceTitle||""}),Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service Description"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:n.serviceDescription||""}),Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service Condition"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:n.serviceCondition||""}),Object(T.jsx)("strong",{"data-v-35fb985d":"",children:"Service Price"}),Object(T.jsx)("p",{"data-v-35fb985d":"",children:n.servicePrice||""}),Object(T.jsx)("button",{onClick:function(){console.log("delete wtf"),Object(h.d)(c)(t)},"data-v-35fb985d":"",children:"DELETE SERVICE"})]},c)}))}()]}),Object(T.jsx)(z.a,{amt:200,"data-v-35fb985d":""}),r&&Object(T.jsxs)(C.a,{toggleModal:ce,modalOpen:r,contentStyle:ee,noFullWidth:!0,"data-v-35fb985d":"",children:[Object(T.jsx)(u.a,{bgColor:"#23282d",fgColor:"#64bbff",value:"".concat(le,"/").concat(P),size:180,className:"profile-qrcode",imageSettings:Z,"data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-qrcode-desc","data-v-35fb985d":"",children:"Other users can scan this code to contact you"}),!navigator.clipboard&&Object(T.jsx)("input",{className:"hidden-input",id:"public-key-holder",readOnly:!0,type:"text",value:"".concat(le,"/").concat(P),"data-v-35fb985d":""}),Object(T.jsxs)("div",{className:"profile-clipboard-container",onClick:_e,"data-v-35fb985d":"",children:[Object(T.jsx)("img",{src:F.a,className:"profile-clipboard-icon",alt:"","data-v-35fb985d":""}),Object(T.jsx)("p",{className:"profile-clipboard-text","data-v-35fb985d":"",children:"Tap to copy to clipboard"})]})]}),ie&&Object(T.jsxs)(C.a,{toggleModal:Oe,modalOpen:ie,contentClass:"p-2",forceRenderTitleBar:!0,blueBtn:ve&&"Save",onClickBlueBtn:he,"data-v-35fb985d":"",children:[Object(T.jsx)("label",{htmlFor:"new-web-client-prefix","data-v-35fb985d":"",children:"Web Client"}),Object(T.jsxs)("div",{className:"web-client-prefix-picker","data-v-35fb985d":"",children:[Object(T.jsx)("i",{className:"far fa-copy",onClick:je,style:{fontSize:24},"data-v-35fb985d":""}),Object(T.jsx)("select",{onChange:function(e){ue(e.target.value)},name:"new-web-client-prefix",id:"new-web-client-prefix",value:be,"data-v-35fb985d":"",children:Q.map((function(e){return Object(T.jsx)("option",{value:e,"data-v-35fb985d":"",children:e},e)}))}),Object(T.jsx)("span",{"data-v-35fb985d":"",children:"/"}),Object(T.jsx)("span",{style:{fontSize:12},"data-v-35fb985d":"",children:P})]}),!navigator.clipboard&&Object(T.jsx)("input",{className:"hidden-input",id:"web-client-url-holder",readOnly:!0,type:"text",value:be+"/"+P,"data-v-35fb985d":""}),Object(T.jsx)("br",{"data-v-35fb985d":""}),Object(T.jsx)("label",{htmlFor:"content-host","data-v-35fb985d":"",children:"Content Host"}),Object(T.jsx)(K,{"data-v-35fb985d":""})]}),w&&Object(T.jsxs)(C.a,{toggleModal:Se,modalOpen:w,contentStyle:te,blueBtn:!I&&"Cancel",disableBlueBtn:I,onClickBlueBtn:we,redBtn:!I&&"Delete",disableRedBtn:I,onClickRedBtn:Be,noFullWidth:!0,"data-v-35fb985d":"",children:[!I&&Object(T.jsx)("span",{className:"text-align-center","data-v-35fb985d":"",children:"Are you sure?"}),I&&Object(T.jsx)(k.a,{"data-v-35fb985d":""})]}),Object(T.jsx)(g.a,{onClick:ce,large:!0,iconURL:L.a,icon:null,label:null,"data-v-35fb985d":""})]}),Object(T.jsx)(x.a,{"data-v-35fb985d":""})]}),Object(T.jsx)("input",{type:"file",id:"avatar-file",ref:me,hidden:!0,accept:"image/*",onChange:ye,"data-v-35fb985d":""}),De&&Object(T.jsx)(C.a,{contentStyle:Je,modalOpen:De,toggleModal:qe,blueBtn:"Save",disableBlueBtn:He===Pe||""===He,onClickBlueBtn:Le,noFullWidth:!0,modalTitle:"NEW DISPLAY NAME","data-v-35fb985d":"",children:Object(T.jsx)("input",{autoCapitalize:"none",autoCorrect:"off",type:"text",className:"input-field",placeholder:"New display name",name:"newDisplayName",onChange:function(e){var t=e.target.value;Me(t)},value:He,"data-v-35fb985d":""})}),$e&&Object(T.jsx)(C.a,{contentStyle:rt,modalOpen:$e,toggleModal:st,modalTitle:"NEW BIO",blueBtn:"Save",onClickBlueBtn:lt,disableBlueBtn:et===Ve||""===et,forceRenderTitleBar:!0,noFullWidth:!0,"data-v-35fb985d":"",children:Object(T.jsx)("input",{autoCapitalize:"none",autoCorrect:"off",type:"text",className:"input-field",placeholder:"New bio",name:"newBio",onChange:function(e){var t=e.target.value;tt(t)},value:et,"data-v-35fb985d":""})})]})},Q=["https://onlysats.page","https://shock.pub","https://lightning.page","https://shock.page","https://satoshi.watch"],Z={src:q,height:36,width:36,excavate:!0},ee={padding:"40px 30px"},te={padding:"2em 2em"};t.default=Object(l.memo)(Y)}}]);
//# sourceMappingURL=19.a6695fcc.chunk.js.map