(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[25],{486:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(3),a=n(72),i=n.n(a),r=n(89),s=(n(487),n(7)),l=73,o={minHeight:l};t.b=function(e){var t=e.pageTitle,n=e.drawerVisible,a=void 0!==n&&n,l=e.onHeight,u=void 0===l?r.a:l,d=Object(c.useCallback)((function(){window.history.back()}),[]),b=Object(c.useCallback)((function(e){if(e)try{u(e.getBoundingClientRect().height)}catch(t){console.log("Error inside onHeight mechanism in DialogNav:"),console.log(t)}}),[u]);return Object(s.jsxs)("div",{className:"dialog-nav-container",ref:b,style:o,children:[Object(s.jsx)("div",{className:"dialog-nav-back",onClick:d,children:Object(s.jsx)("i",{className:"icon icon-thin-back"})}),Object(s.jsx)("p",{className:"dialog-nav-title",children:t}),Object(s.jsxs)("div",{className:i()({"dialog-nav-menu-btn":!0,"dialog-nav-hidden":!a}),children:[Object(s.jsx)("div",{className:"dialog-nav-menu-dash"}),Object(s.jsx)("div",{className:"dialog-nav-menu-dash"}),Object(s.jsx)("div",{className:"dialog-nav-menu-dash"})]})]})}},487:function(e,t,n){},492:function(e,t,n){"use strict";var c=n(26),a=n(72),i=n.n(a),r=(n(494),n(7));t.a=function(e){var t=e.label,n=e.name,a=e.onChange,s=e.inputAction,l=e.actionIcon,o=e.value,u=e.inputMode,d=void 0===u?"text":u,b=e.type,j=void 0===b?"text":b,p=e.element,v=void 0===p?"input":p,m=e.small,h=void 0!==m&&m,O=e.disabled;return Object(r.jsxs)("div",{className:i()({group:!0,"group-disabled":O,"group-small":h}),children:[t?Object(r.jsx)("p",{className:"group-label",children:t}):null,Object(r.jsxs)("div",{className:i()({"group-input-container":!0,"group-input-textarea-container":"textarea"===v}),children:["textarea"===v?Object(r.jsx)("textarea",{className:"group-input group-input-textarea",name:n,onChange:a,inputMode:d,value:o,disabled:O}):Object(r.jsx)("input",{className:"group-input",type:j,name:n,onChange:a,inputMode:d,value:o,disabled:O}),s&&l?Object(r.jsx)("div",{className:"group-input-action",onClick:s,children:Object(r.jsx)("i",{className:i()(Object(c.a)({"group-input-action-icon":!0,fas:!0},l,!0)),onClick:s})}):null]})]})}},494:function(e,t,n){},754:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(6),r=n(16),s=n(3),l=n(40),o=n(486),u=n(150),d=n(492),b=n(104),j=n(22),p=n(7);t.default=function(){var e=Object(l.b)(),t=Object(j.g)(),n=Object(l.c)((function(e){return e.content.seedInfo})),c=n.seedUrl,v=n.seedToken,m=Object(l.c)((function(e){return e.node.publicKey})),h=Object(l.c)((function(e){return e.userProfiles})),O=Object(s.useState)(!1),f=Object(r.a)(O,2),x=f[0],g=f[1],k=Object(s.useState)(null),N=Object(r.a)(k,2),y=N[0],C=N[1],S=Object(s.useState)("torrentSeed"),w=Object(r.a)(S,2),T=w[0],D=w[1],P=Object(s.useState)(0),H=Object(r.a)(P,2),I=H[0],M=H[1],A=Object(s.useCallback)((function(e){var t=e.target,n=t.value,c=t.name;switch(e.preventDefault(),c){case"type":return void D(n);case"price":return void M(n);default:return}}),[D,M]),B=Object(s.useCallback)(function(){var n=Object(i.a)(a.a.mark((function n(i){var r,s,l,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),c&&v){n.next=4;break}return C("seed url and token are not set in config"),n.abrupt("return");case 4:if(!(I<=0)){n.next=7;break}return C("service price must be greater than 0"),n.abrupt("return");case 7:return n.prev=7,g(!0),r="",h[m]&&h[m].SeedServiceProvided&&(r=h[m].SeedServiceProvided),s={serviceType:T,serviceTitle:"Content Seeding",serviceDescription:"",serviceCondition:"",servicePrice:I},l={serviceSeedUrl:c,serviceSeedToken:v},n.next=15,Object(b.c)(s,l,r)(e);case 15:o=n.sent,console.log(o),g(!1),t.push("/profile"),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(7),g(!1),C(n.t0.message||n.t0);case 25:case"end":return n.stop()}}),n,null,[[7,21]])})));return function(e){return n.apply(this,arguments)}}(),[T,I,t]),J=Object(s.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),C(null),D("torrentSeed"),M(0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,D,M]);return Object(p.jsxs)("div",{className:"publish-content-form-container m-1",style:{overflow:"auto"},children:[x?Object(p.jsx)(u.a,{overlay:!0,fullScreen:!0,text:"Creating service..."}):null,Object(p.jsx)(o.b,{drawerVisible:!1,pageTitle:""}),Object(p.jsxs)("form",{className:"publish-content-form",onSubmit:B,onReset:J,children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Offer service"}),Object(p.jsx)("div",{className:"line"})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("select",{name:"type",value:T,onChange:A,children:Object(p.jsx)("option",{value:"torrentSeed",children:"Content Seeding"})}),Object(p.jsx)(d.a,{label:"Service Price",name:"price",type:"number",actionIcon:null,value:I,onChange:A,disabled:!1,inputAction:null})]}),y?Object(p.jsx)("p",{className:"error-container",children:y}):null,Object(p.jsxs)("div",{className:"flex-center",children:[Object(p.jsx)("input",{type:"reset",value:"reset",className:"shock-form-button m-1"}),Object(p.jsx)("input",{type:"submit",value:"submit",className:"shock-form-button-confirm m-1"})]})]})]})}}}]);
//# sourceMappingURL=25.445422d8.chunk.js.map