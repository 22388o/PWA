(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[30],{484:function(e,t,n){"use strict";n(3);var c=n(7);t.a=function(e){var t=e.amt,n={};return e.insideRow?n.width=t:n.height=t,Object(c.jsx)("div",{style:n})}},560:function(e,t,n){e.exports={PAD:"24px",container:"css_container__1PBSF",info:"css_info__3-BVc","lines-container":"css_lines-container__2cbF7",line:"css_line__2Yjr7","line-selected":"css_line-selected__2NoqB css_line__2Yjr7",half:"css_half__og7Px","half-left":"css_half-left__5n9sU css_half__og7Px","half-right":"css_half-right__2A-oI css_half__og7Px",picture:"css_picture__-Xnv0"}},601:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(6),i=n(16),o=n(3),r=n.n(o),l=n(72),u=n.n(l),f=n(559),j=n.n(f),_=n(25),b=n(484),h=n(20),d=n(18),p=n(560),x=n.n(p),m=n(7);t.default=function(e){e.publicKey;var t=e.onNext,n=e.onPrevious,c=e.position,o=r.a.useState(0),l=Object(i.a)(o,2),f=l[0],p=l[1],O=r.a.useState([]),g=Object(i.a)(O,2),v=g[0],N=g[1],w=v[f],k=d.useSelector((function(e){return e.node.publicKey})),y=d.useSelector((function(e){return e.userProfiles[k]})).displayName,P=d.useSelector((function(e){return e.node})).hostIP,S=r.a.useCallback(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)({query:"".concat(k,"::story::open"),onData:function(e){"object"===typeof e&&null!==e&&N(Object.values(e).filter((function(e){return"object"===typeof e&&null!==e})))},onError:function(e){console.log("Error inside story sub:"),console.log(e)}});case 2:return t=e.sent,e.abrupt("return",(function(){t.off()}));case 4:case"end":return e.stop()}}),e)}))),[P,k]);r.a.useEffect((function(){S()}),[S]),r.a.useEffect((function(){}),[f,c]);return 0===v.length?Object(m.jsx)("div",{className:u()("page-container",x.a.container)}):Object(m.jsxs)("div",{className:u()("page-container",x.a.container),children:[Object(m.jsx)("img",{alt:"Pic ".concat(f+1," out of ").concat(v.length),src:"data:image/jpeg;base64,".concat(w.data),className:x.a.picture}),Object(m.jsx)(b.a,{amt:24}),Object(m.jsx)("div",{className:x.a["lines-container"],children:v.map((function(e,t){return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(b.a,{amt:12,insideRow:!0}),Object(m.jsx)("div",{className:u()(x.a.line,t===f&&x.a["line-selected"])}),Object(m.jsx)(b.a,{amt:12,insideRow:!0})]},e.id)}))}),Object(m.jsx)(b.a,{amt:24}),Object(m.jsxs)("div",{className:x.a.info,children:[Object(m.jsx)("span",{children:y}),Object(m.jsx)(b.a,{amt:12}),Object(m.jsx)("span",{children:j()(_.k(w.timestamp)).fromNow()})]}),Object(m.jsx)("div",{className:x.a["half-left"],onClick:function(){0===f?n():p((function(e){return e-1}))}}),Object(m.jsx)("div",{className:x.a["half-right"],onClick:function(){f===v.length-1?("last"!==c&&p(0),t()):p((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=30.c670b29e.chunk.js.map