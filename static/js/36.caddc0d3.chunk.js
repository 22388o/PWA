(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[36],{752:function(a,e,t){},753:function(a,e,t){},754:function(a,e,t){},918:function(a,e,t){"use strict";t.r(e);var c=t(13),n=t(1),s=t(88),d=t.n(s),r=t(656),i=(t(752),t(613)),l=(t(753),t(4)),o=function(a){var e=a.onInputChange,t=a.amount,c=a.description;return Object(l.jsxs)("div",{className:"container","data-v-eb8a858c":"",children:[Object(l.jsxs)("div",{className:"inputs-group","data-v-eb8a858c":"",children:[Object(l.jsx)(i.a,{name:"amount",label:"Enter Amount",onChange:e,value:t,inputMode:"decimal","data-v-eb8a858c":""}),Object(l.jsxs)("select",{name:"unit",className:"unit-dropdown",onChange:e,"data-v-eb8a858c":"",children:[Object(l.jsx)("option",{value:"sats","data-v-eb8a858c":"",children:"Sats"}),Object(l.jsx)("option",{value:"msats","data-v-eb8a858c":"",children:"mSats"}),Object(l.jsx)("option",{value:"btc","data-v-eb8a858c":"",children:"BTC"})]})]}),Object(l.jsx)(i.a,{name:"description",label:"Description",element:"textarea",onChange:e,value:c,"data-v-eb8a858c":""})]})},j=t(3),u=t.n(j),v=t(5),b=t(26),p=t(661),O=t.n(p),h=t(38),m=t(183),f=t(718),x=t(27),g=(t(754),t(672)),k=t(717),N=t(608),C=function(a){var e=a.amount,t=void 0===e?0:e,s=a.description,r=void 0===s?"N/A":s,i=a.unit,o=void 0===i?"":i,j=a.prevStep,p=(Object(h.b)(),Object(b.g)()),C=Object(n.useState)(""),w=Object(c.a)(C,2),y=w[0],S=w[1],A=Object(n.useState)(""),E=Object(c.a)(A,2),T=E[0],D=E[1],I=Object(n.useState)(!1),M=Object(c.a)(I,2),q=M[0],R=M[1],F=Object(n.useState)(!1),J=Object(c.a)(F,2),L=J[0],U=J[1],z=Object(n.useState)(),B=Object(c.a)(z,2),Q=B[0],W=B[1],_=Object(n.useState)(""),G=Object(c.a)(_,2),H=G[0],K=G[1],P=Object(n.useState)(!1),V=Object(c.a)(P,2),X=V[0],Y=V[1],Z=Object(n.useCallback)(Object(v.a)(u.a.mark((function a(){var e,c,n,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,R(!0),a.next=4,x.a.post("/api/lnd/addinvoice",{value:t,memo:r,expiry:100});case 4:e=a.sent,c=e.data,S(c.payment_request),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),K(null!==(n=null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s?void 0:s.data.errorMessage)&&void 0!==n?n:"An unknown error has occurred");case 12:return a.prev=12,R(!1),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])}))),[t,r]),$=Object(n.useCallback)(Object(v.a)(u.a.mark((function a(){var e,t,c,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,R(!0),a.next=4,x.a.post("/api/lnd/newaddress",{type:"p2wkh"});case 4:e=a.sent,t=e.data,D(t.address),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),K(null!==(c=null===a.t0||void 0===a.t0||null===(n=a.t0.response)||void 0===n?void 0:n.data.errorMessage)&&void 0!==c?c:"An unknown error has occurred");case 12:return a.prev=12,R(!1),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])}))),[]),aa=Object(n.useCallback)(function(){var a=Object(v.a)(u.a.mark((function a(e){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:W(e);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){X?Z():$()}),[Z,$,X]);var ea=Object(n.useCallback)((function(){Y(!X)}),[X]),ta=Object(n.useRef)(),ca=Object(n.useCallback)((function(){try{var a=X?y:T;if(navigator.clipboard)navigator.clipboard.writeText(a);else{var e=ta.current;if(!e)throw new ReferenceError("When trying to access the ref for the placeholder input to copy, the ref was null.");e.style.display="block",e.select(),document.execCommand("copy"),e.blur(),e.style.display="none"}}catch(t){console.error(t),K(t.message)}}),[X,y,T]),na=Object(n.useCallback)(Object(v.a)(u.a.mark((function a(){var e,t,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(Q)try{U(!0),U(!1),p.push("/overview")}catch(n){K(null!==(e=null!==(t=null===n||void 0===n||null===(c=n.response)||void 0===c?void 0:c.data.errorMessage)&&void 0!==t?t:null===n||void 0===n?void 0:n.message)&&void 0!==e?e:"An unknown error has occurred"),U(!1)}case 1:case"end":return a.stop()}}),a)}))),[Q,p]);return Object(l.jsxs)("div",{className:"container","data-v-d1166aa2":"",children:[L?Object(l.jsx)(m.a,{overlay:!0,text:"Sending Invoice...","data-v-d1166aa2":""}):null,X?Q?Object(l.jsx)(g.a,{selected:!0,contact:Q,selectContact:aa,style:void 0,"data-v-d1166aa2":""}):Object(l.jsx)(k.a,{selectContact:aa,features:["contact"],"data-v-d1166aa2":""}):null,Object(l.jsxs)("div",{className:"qr-code-container","data-v-d1166aa2":"",children:[Object(l.jsx)("div",{className:"qr-code","data-v-d1166aa2":"",children:q?Object(l.jsx)(m.a,{overlay:!0,small:!0,text:"","data-v-d1166aa2":""}):Object(l.jsx)(O.a,{value:X?y:T,size:180,fgColor:X?"#f5a623":"#4285b9",bgColor:"#001220","data-v-d1166aa2":""})}),Object(l.jsxs)("div",{className:d()({mode:!0,"lightning-active":X}),onClick:ea,"data-v-d1166aa2":"",children:[Object(l.jsx)("p",{className:"switch-name on-chain-switch","data-v-d1166aa2":"",children:"On-Chain"}),Object(l.jsx)("div",{className:"switch","data-v-d1166aa2":"",children:Object(l.jsx)("div",{className:"switch-handle","data-v-d1166aa2":""})}),Object(l.jsx)("p",{className:"switch-name lightning-switch","data-v-d1166aa2":"",children:"Lightning"})]})]}),Object(l.jsxs)("div",{className:"copy-clipboard-btn",onClick:ca,"data-v-d1166aa2":"",children:[Object(l.jsx)("i",{className:"fas fa-copy","data-v-d1166aa2":""}),Object(l.jsx)("p",{className:"copy-clipboard-btn-text","data-v-d1166aa2":"",children:"Copy to Clipboard"})]}),!navigator.clipboard&&Object(l.jsx)("input",{className:N.s,readOnly:!0,ref:ta,type:"text",value:X?y:T,"data-v-d1166aa2":""}),H?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{"data-v-d1166aa2":"",children:H}),Object(l.jsx)("br",{"data-v-d1166aa2":""}),Object(l.jsx)("span",{className:"inline-link",onClick:K.bind(null,""),"data-v-d1166aa2":"",children:"Dismiss"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"details","data-v-d1166aa2":"",children:[Object(l.jsx)("p",{className:"details-change",onClick:j,"data-v-d1166aa2":"",children:"Change"}),Object(l.jsxs)("div",{className:"detail","data-v-d1166aa2":"",children:[Object(l.jsx)("p",{className:"detail-title","data-v-d1166aa2":"",children:"Amount"}),Object(l.jsxs)("p",{className:"detail-value","data-v-d1166aa2":"",children:[t," ",o.toUpperCase()]})]}),Object(l.jsxs)("div",{className:"detail","data-v-d1166aa2":"",children:[Object(l.jsx)("p",{className:"detail-title","data-v-d1166aa2":"",children:"Description"}),Object(l.jsx)("p",{className:"detail-value","data-v-d1166aa2":"",children:r})]})]}),X&&Q?Object(l.jsx)(f.a,{wrapperStyle:{padding:0,marginTop:23},slideText:"SLIDE TO SEND",onSuccess:na,disabled:!1,"data-v-d1166aa2":""}):null]})]})},w=Array.from({length:2});e.default=function(){var a=Object(n.useState)(0),e=Object(c.a)(a,2),t=e[0],s=e[1],i=Object(n.useState)(""),j=Object(c.a)(i,2),u=j[0],v=j[1],b=Object(n.useState)(0),p=Object(c.a)(b,2),O=p[0],h=p[1],m=Object(n.useState)("sats"),f=Object(c.a)(m,2),x=f[0],g=f[1],k=Object(n.useCallback)((function(a){"amount"===a.target.name&&s(a.target.value),"description"===a.target.name&&v(a.target.value),"unit"===a.target.name&&g(a.target.value)}),[]),N=Object(n.useCallback)((function(){O<1&&h(O+1)}),[O]),y=Object(n.useCallback)((function(){O>0&&h(O-1)}),[O]),S=Object(n.useCallback)((function(){return 0===O?Object(l.jsx)(o,{amount:t,description:u,onInputChange:k,"data-v-e2cffda1":""}):1===O?Object(l.jsx)(C,{amount:t,description:u,unit:x,prevStep:y,"data-v-e2cffda1":""}):void 0}),[O,t,u,k,y,x]),A=1===O;return Object(l.jsxs)(r.a,{title:"REQUEST","data-v-e2cffda1":"",children:[S(),Object(l.jsxs)("div",{className:"footer","data-v-e2cffda1":"",children:[A?null:Object(l.jsxs)("div",{className:"controls","data-v-e2cffda1":"",children:[Object(l.jsx)("div",{className:"control",onClick:N,"data-v-e2cffda1":"",children:"Skip"}),Object(l.jsx)("div",{className:"control next",onClick:N,"data-v-e2cffda1":"",children:"Next"})]}),Object(l.jsx)("div",{className:"indicators","data-v-e2cffda1":"",children:w.map((function(a,e){return Object(l.jsx)("div",{className:d()({indicator:!0,"indicator-active":e===O}),"data-v-e2cffda1":""},e)}))})]})]})}}}]);
//# sourceMappingURL=36.caddc0d3.chunk.js.map