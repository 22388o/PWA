{"version":3,"sources":["common/Modal/components/ModalContent/index.js","common/Modal/components/ModalTitle/index.js","common/Modal/index.js","common/InputGroup/index.js","common/MainNav/index.js","common/AddBtn/index.js","common/Line/index.tsx","utils/Number.js","pages/Advanced/components/Transaction/index.js","pages/Advanced/components/Channel/index.tsx","pages/Advanced/components/Peer/index.tsx","pages/Advanced/components/AddPeerModal/index.js","pages/Advanced/components/AddChannelModal/index.js","pages/Advanced/components/InfoModal/InfoModal.tsx","pages/Advanced/index.tsx"],"names":["ModalContent","children","style","contentClass","className","classNames","ModalTitle","title","toggleModal","Utils","forceRenderTitleBar","hideXBtn","onClick","Modal","modalOpen","modalTitle","contentStyle","disableBackdropClose","noFullWidth","blueBtn","disableBlueBtn","onClickBlueBtn","redBtn","disableRedBtn","onClickRedBtn","error","textIfLoading","closeModal","useCallback","handleBackdropClick","modal","open","container","Loader","overlay","OVERLAY_STYLE","text","disabled","borderRadius","memo","InputGroup","label","name","onChange","inputAction","actionIcon","value","inputMode","type","element","small","group","fas","MainNav","pageTitle","absolute","solid","enableBackButton","onHeight","dispatch","useDispatch","goBack","window","history","back","openDrawer","gunPublicKey","useSelector","node","publicKey","divRefCb","el","getBoundingClientRect","height","e","console","log","ref","AddBtn","icon","iconURL","undefined","nestedMode","large","relative","useState","optionsOpen","setOptionsOpen","toggleOptionsOpen","iconElement","useMemo","src","alt","labelElement","Line","color","length","width","borderLeftStyle","borderLeftWidth","borderLeftColor","borderRightStyle","borderRightWidth","borderRightColor","borderTopStyle","borderTopWidth","borderTopColor","borderBottomStyle","borderBottomWidth","borderBottomColor","COMMA_REGEX","SAT_DENOMINATION","_addCommas","number","test","replace","formatNumber","split","decimal","formattedNumber","formattedDecimal","convertSatsToUSD","sats","USDRate","confirmedBalanceBTC","Big","div","toString","times","Transaction","hash","date","unconfirmed","wallet","sanitizedValue","USDValue","toFixed","formattedDate","DateTime","fromSeconds","parseInt","toRelative","display","marginLeft","Channel","ip","sendable","receivable","active","pendingStatus","renderDivider","formattedSendable","React","formattedReceivable","fullIdentifier","navigator","clipboard","writeText","then","toast","dark","catch","message","Pad","amt","insideRow","Peer","sent","received","address","formattedSent","formattedReceived","AddPeerModal","loading","setLoading","host","setHost","setPublicKey","setError","onInputChange","target","useEffect","onSubmit","a","preventDefault","connectPeer","errorMessage","AddChannelModal","channelCapacity","setChannelCapacity","pushAmount","setPushAmount","loadFeeRates","openChannel","InfoModal","nodeInfo","setNodeInfo","get","res","data","LNDStatus","alert","modalContent","synced_to_chain","synced_to_graph","identity_pubkey","slice","uris","join","num_pending_channels","block_height","best_header_timestamp","version","AdvancedPage","selectedAccordion","setSelectedAccordion","page","addPeerOpen","setAddPeerOpen","addChannelOpen","setAddChannelOpen","infoModalOpen","toggleInfoModal","pendingChannels","setPendingChannels","confirmedBalance","Store","channelBalance","transactions","channels","peers","reset","fetchTransactions","fetchInvoices","fetchChannels","fetchPeers","Http","makeChanObj","ch","remote_pubkey","remote_node_pub","remote_balance","local_balance","pending","pending_open_channels","forEach","chan","channel","push","waiting_close_channels","pending_force_closing_channels","confirmedBalanceUSD","channelBalanceUSD","openAccordion","accordion","current","toggleAddPeerOpen","toggleAddChannelOpen","openTransactionsAccordion","openPeersAccordion","openChannelsAccordion","paddingBottom","content","map","transaction","time_stamp","tx_hash","amount","num_confirmations","peer","i","pub_key","sat_sent","sat_recv","find","p","thereIsMoreThanOneChannel","isLastChannel","thereArePendingChannels","chan_id"],"mappings":"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","file":"static/js/16.83ca0a01.chunk.js","sourcesContent":["import classNames from \"classnames\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalContent = ({ children = null, style = {}, contentClass = \"\" }) => (\n  <div className={classNames(\"content\", contentClass)} style={style}>\n    {children}\n  </div>\n);\n\nexport default ModalContent;\n","import * as Utils from \"../../../../utils\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalTitle = ({\n  title = \"\",\n  toggleModal = Utils.EMPTY_FN,\n  forceRenderTitleBar = false,\n  hideXBtn = false\n}) =>\n  title || forceRenderTitleBar ? (\n    <div className=\"head\">\n      <p className=\"head-title\">{title}</p>\n      {!hideXBtn && (\n        <div className=\"head-close\" onClick={toggleModal}>\n          <i className=\"fas fa-times\"></i>\n        </div>\n      )}\n    </div>\n  ) : null;\n\nexport default ModalTitle;\n","import { memo, useCallback } from \"react\";\nimport classNames from \"classnames\";\n\nimport * as Utils from \"../../utils\";\nimport Loader from \"../../common/Loader\";\n\nimport ModalContent from \"./components/ModalContent\";\nimport ModalTitle from \"./components/ModalTitle\";\n\nimport \"./css/index.scoped.css\";\n\nconst Modal = ({\n  modalOpen = false,\n  toggleModal,\n  modalTitle = \"\",\n  children,\n  contentStyle = Utils.EMPTY_OBJ,\n  disableBackdropClose = false,\n  forceRenderTitleBar = false,\n  hideXBtn = false,\n  noFullWidth = false,\n  blueBtn = \"\",\n  disableBlueBtn = false,\n  onClickBlueBtn = Utils.EMPTY_FN,\n  redBtn = \"\",\n  disableRedBtn = false,\n  onClickRedBtn = Utils.EMPTY_FN,\n  contentClass = \"\",\n  error = \"\",\n  textIfLoading = \"\"\n}) => {\n  const closeModal = useCallback(() => {\n    toggleModal();\n  }, [toggleModal]);\n  const handleBackdropClick = useCallback(() => {\n    if (!disableBackdropClose) {\n      toggleModal();\n    }\n  }, [disableBackdropClose, toggleModal]);\n  return (\n    <div className={classNames({ modal: true, open: modalOpen })}>\n      <div className=\"backdrop\" onClick={handleBackdropClick} />\n      <div\n        className={classNames({\n          container: true,\n          \"container-no-full-width\": noFullWidth\n        })}\n      >\n        {textIfLoading && (\n          <Loader overlay style={OVERLAY_STYLE} text={textIfLoading} />\n        )}\n\n        <ModalTitle\n          title={modalTitle}\n          toggleModal={closeModal}\n          forceRenderTitleBar={forceRenderTitleBar}\n          hideXBtn={hideXBtn}\n        />\n\n        {error && <div className={\"form-error form-error-margin\"}>{error}</div>}\n\n        <ModalContent style={contentStyle} contentClass={contentClass}>\n          {typeof children === \"string\" ? (\n            <p className=\"text-align-center\">{children}</p>\n          ) : (\n            children\n          )}\n        </ModalContent>\n\n        <div className=\"color-buttons\">\n          {blueBtn && (\n            <button\n              disabled={disableBlueBtn}\n              className={classNames(\"color-btn\", \"blue-btn\")}\n              onClick={onClickBlueBtn}\n            >\n              {blueBtn}\n            </button>\n          )}\n\n          {redBtn && (\n            <button\n              disabled={disableRedBtn}\n              className={classNames(\"color-btn\", \"red-btn\")}\n              onClick={onClickRedBtn}\n            >\n              {redBtn}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst OVERLAY_STYLE = {\n  borderRadius: \"15px\"\n};\n\nexport default memo(Modal);\n","import React, { memo } from \"react\";\nimport classNames from \"classnames\";\n\nimport * as Utils from \"../../utils\";\n\nimport \"./css/index.scoped.css\";\n\nconst InputGroup = ({\n  label = \"\",\n  name = \"\",\n  onChange,\n  inputAction = Utils.EMPTY_FN,\n  actionIcon = \"\",\n  value,\n  inputMode = /** @type {React.HTMLAttributes['inputMode']} */ (\"text\"),\n  type = \"text\",\n  element = \"input\",\n  small = false,\n  disabled = false\n}) => {\n  return (\n    <div\n      className={classNames({\n        group: true,\n        \"group-disabled\": disabled,\n        \"group-small\": small\n      })}\n    >\n      {label ? <p className=\"group-label\">{label}</p> : null}\n      <div\n        className={classNames({\n          \"group-input-container\": true,\n          \"group-input-textarea-container\": element === \"textarea\"\n        })}\n      >\n        {element === \"textarea\" ? (\n          <textarea\n            className=\"group-input group-input-textarea\"\n            name={name}\n            onChange={onChange}\n            inputMode={inputMode}\n            value={value}\n            disabled={disabled}\n          />\n        ) : (\n          <input\n            className=\"group-input\"\n            type={type}\n            name={name}\n            onChange={onChange}\n            inputMode={inputMode}\n            value={value}\n            disabled={disabled}\n          />\n        )}\n        {inputAction && actionIcon ? (\n          <div className=\"group-input-action\" onClick={inputAction}>\n            <i\n              className={classNames({\n                \"group-input-action-icon\": true,\n                fas: true,\n                [actionIcon]: true\n              })}\n              onClick={inputAction}\n            ></i>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(InputGroup);\n","// @ts-check\nimport { memo, useCallback } from \"react\";\n/**\n * @typedef {import('react').RefCallback<HTMLElement>} DivRefCallback\n */\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\nimport { useDispatch } from \"react-redux\";\n\nimport * as Utils from \"../../utils\";\nimport { openDrawer } from \"../../actions/DrawerActions\";\nimport ShockAvatar from \"../ShockAvatar\";\nimport { useSelector } from \"../../store\";\n\nconst MainNav = ({\n  pageTitle,\n  absolute = false,\n  solid = false,\n  enableBackButton = false,\n  onHeight = Utils.EMPTY_FN\n}) => {\n  const dispatch = useDispatch();\n  const goBack = useCallback(() => {\n    window.history.back();\n  }, []);\n\n  const open = useCallback(() => {\n    dispatch(openDrawer());\n  }, [dispatch]);\n\n  const gunPublicKey = useSelector(({ node }) => node.publicKey);\n\n  /** @type {DivRefCallback} */\n  const divRefCb = useCallback(\n    el => {\n      // https://www.pluralsight.com/tech-blog/getting-size-and-position-of-an-element-in-react/\n      if (!el) return;\n      try {\n        onHeight(el.getBoundingClientRect().height);\n      } catch (e) {\n        console.log(`Error inside onHeight mechanism in MainNav:`);\n        console.log(e);\n      }\n    },\n    [onHeight]\n  );\n\n  return (\n    <div\n      className={classNames({\n        \"main-nav-container\": true,\n        \"main-nav-absolute\": absolute,\n        \"main-nav-solid\": solid\n      })}\n      ref={divRefCb}\n    >\n      {enableBackButton ? (\n        <div className=\"main-nav-back\" onClick={goBack}>\n          <i className=\"icon icon-thin-back\"></i>\n        </div>\n      ) : (\n        <ShockAvatar height={40} publicKey={gunPublicKey} />\n      )}\n      <p className=\"main-nav-title unselectable\">{pageTitle}</p>\n      <div className=\"main-nav-menu-btn\" onClick={open}>\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(MainNav);\n","import { memo, useCallback, useMemo, useState } from \"react\";\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\n\nconst AddBtn = ({\n  label = null,\n  icon = null,\n  iconURL = null,\n  onClick = undefined,\n  nestedMode = false,\n  large = false,\n  small = false,\n  relative = false,\n  children = null,\n  style = {}\n}) => {\n  const [optionsOpen, setOptionsOpen] = useState(false);\n  const toggleOptionsOpen = useCallback(() => {\n    if (nestedMode) {\n      setOptionsOpen(!optionsOpen);\n    }\n  }, [optionsOpen, nestedMode]);\n\n  const iconElement = useMemo(() => {\n    if (iconURL) {\n      return <img src={iconURL} className=\"add-btn-icon\" alt=\"\" />;\n    }\n\n    return <i className={`fas fa-${icon ?? \"plus\"}`}></i>;\n  }, [icon, iconURL]);\n\n  const labelElement = useMemo(() => {\n    if (label) {\n      return <p className=\"add-btn-label\">{label}</p>;\n    }\n\n    return null;\n  }, [label]);\n\n  return (\n    <div\n      className={classNames({\n        \"add-btn-container\": true,\n        \"add-btn-round-container\": !label,\n        \"add-btn-large\": large,\n        \"add-btn-small\": small\n      })}\n    >\n      <div\n        className={classNames({\n          \"add-btn\": true,\n          \"add-btn-round\": !label,\n          \"add-btn-extended\": !!label,\n          \"add-btn-relative\": relative,\n          \"add-btn-open\": optionsOpen,\n          \"add-btn-nested\": nestedMode\n        })}\n        onClick={onClick ?? toggleOptionsOpen}\n        style={style}\n      >\n        {iconElement}\n        {labelElement}\n      </div>\n\n      {children ? (\n        <div\n          className={classNames({\n            \"add-btn-options\": true,\n            \"add-btn-options-open\": optionsOpen\n          })}\n        >\n          {children}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(AddBtn);\n","import { memo, useMemo } from \"react\";\n\nexport interface LineProps {\n  color: string;\n  length: number;\n  type: \"vertical\" | \"horizontal\";\n  width: number;\n}\n\nconst Line = ({ color, length, type, width }: LineProps) => {\n  const style = useMemo<React.CSSProperties>(() => {\n    if (type === \"vertical\") {\n      return {\n        borderLeftStyle: \"solid\",\n        borderLeftWidth: `${width / 2}px`,\n        borderLeftColor: color,\n        borderRightStyle: \"solid\",\n        borderRightWidth: `${width / 2}px`,\n        borderRightColor: color,\n        height: length\n      };\n    }\n\n    if (type === \"horizontal\") {\n      return {\n        borderTopStyle: \"solid\",\n        borderTopWidth: width / 2,\n        borderTopColor: color,\n        borderBottomStyle: \"solid\",\n        borderBottomWidth: width / 2,\n        borderBottomColor: color,\n        width: length\n      };\n    }\n\n    return {};\n  }, [color, length, type, width]);\n\n  return <div style={style} />;\n};\n\nexport default memo(Line);\n","// Use Big.js to avoid large number inaccuracy issues\nimport Big from \"big.js\";\n\nconst COMMA_REGEX = /(\\d+)(\\d{3})/gi;\n\nexport const SAT_DENOMINATION = 100000000;\n\nconst _addCommas = number => {\n  const test = COMMA_REGEX.test(number);\n\n  if (test) {\n    const newNumber = number.replace(COMMA_REGEX, \"$1,$2\");\n    return _addCommas(newNumber);\n  }\n\n  return number;\n};\n\nexport const formatNumber = (value = \"\") => {\n  const [number, decimal] = value.split(\".\");\n  const formattedNumber = _addCommas(number);\n  const formattedDecimal = decimal ? \".\" + decimal : \"\";\n\n  return formattedNumber + formattedDecimal;\n};\n\nexport const convertSatsToUSD = (sats, USDRate = \"0\") => {\n  //console.debug(`Converting ${sats} Sats to USD (${USDRate})`);\n  const confirmedBalanceBTC = Big(sats).div(SAT_DENOMINATION).toString();\n\n  return Big(USDRate?.toString() || \"0\").times(confirmedBalanceBTC);\n};\n","import { DateTime } from \"luxon\";\n\nimport { useSelector } from \"../../../../store\";\nimport { memo } from \"react\";\n\nimport { convertSatsToUSD, formatNumber } from \"../../../../utils/Number\";\nimport \"./css/index.scoped.css\";\n\nconst Transaction = ({ hash, value, date, unconfirmed }) => {\n  const USDRate = useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const sanitizedValue = value.replace(/,/g, \"\");\n  const USDValue = formatNumber(\n    convertSatsToUSD(sanitizedValue, USDRate).toFixed(2)\n  );\n  const formattedDate = date\n    ? DateTime.fromSeconds(parseInt(date, 10)).toRelative()\n    : \"unknown\";\n\n  return (\n    <div className=\"advanced-transaction-container\">\n      <div className=\"advanced-transaction-info\">\n        <div className=\"advanced-transaction-avatar\"></div>\n        <div className=\"advanced-transaction-author\">\n          <p className=\"advanced-transaction-author-name\">{hash}</p>\n          <div style={{ display: \"flex\" }}>\n            <p className=\"advanced-transaction-type\">Payment</p>\n            {unconfirmed && (\n              <i\n                className=\"far fa-clock\"\n                style={{ marginLeft: \"0.5rem\", color: \"red\" }}\n              ></i>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"advanced-transaction-value-container\">\n        <p className=\"advanced-transaction-time\">{formattedDate}</p>\n        <p className=\"advanced-transaction-value\">{value}</p>\n        <p className=\"advanced-transaction-usd\">{USDValue} USD</p>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Transaction);\n","import React, { memo } from \"react\";\nimport classNames from \"classnames\";\nimport { toast } from \"react-toastify\";\n\nimport * as Utils from \"../../../../utils\";\nimport Pad from \"../../../../common/Pad\";\nimport Line from \"../../../../common/Line\";\nimport { formatNumber } from \"../../../../utils/Number\";\n\nimport \"./css/index.scoped.css\";\n\nexport interface ChannelProps {\n  active: boolean;\n  publicKey: string;\n  ip: string | undefined;\n  pendingStatus?: string;\n  receivable: string;\n  sendable: string;\n  renderDivider: boolean;\n}\n\nconst Channel: React.FC<ChannelProps> = ({\n  publicKey,\n  ip,\n  sendable,\n  receivable,\n  active,\n  pendingStatus = \"\",\n  renderDivider\n}) => {\n  const formattedSendable = React.useMemo(() => formatNumber(sendable), [\n    sendable\n  ]);\n  const formattedReceivable = React.useMemo(() => formatNumber(receivable), [\n    receivable\n  ]);\n  const fullIdentifier = publicKey + (!!ip && `@${ip}`);\n\n  const onClick = React.useCallback(() => {\n    if (!navigator.clipboard) {\n      toast.dark(\n        `Could not copy to clipboard, enable clipboard access or use HTTPs.`\n      );\n      return;\n    }\n    navigator.clipboard\n      .writeText(fullIdentifier)\n      .then(() => {\n        toast.dark(\"Copied to clipboard\");\n      })\n      .catch(e => {\n        Utils.logger.error(`Error inside <Channel />.onClick -> `, e);\n        toast.dark(`Could not copy to clipboard: ${e.message}`);\n      });\n  }, [fullIdentifier]);\n\n  return (\n    <div\n      className={classNames(\"advanced-channel-container\", {\n        \"has-divider\": renderDivider\n      })}\n      onClick={onClick}\n    >\n      {/* <div className=\"advanced-channel-ip\"></div> */}\n\n      <div className=\"advanced-channel-name-container\">\n        <p style={{ marginLeft: \"0.5rem\" }}>{pendingStatus}</p>\n      </div>\n\n      <div className=\"address-and-status\">\n        <div\n          className={classNames({\n            \"advanced-channel-status\": true,\n            \"advanced-channel-status-offline\": !active\n          })}\n        ></div>\n\n        <Pad amt={12} insideRow />\n\n        <p className=\"advanced-channel-address\">{fullIdentifier}</p>\n      </div>\n\n      <Pad amt={12} />\n\n      <div className=\"advanced-channel-capacity-container\">\n        <div className=\"advanced-channel-capacity\">\n          Sendable: {formattedSendable} sats\n        </div>\n\n        <div className=\"line\">\n          <Line color=\"white\" length={16} type=\"vertical\" width={2} />\n        </div>\n\n        <div className=\"advanced-channel-capacity\">\n          Receivable: {formattedReceivable} sats\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Channel);\n","import React, { memo } from \"react\";\nimport classNames from \"classnames\";\nimport { toast } from \"react-toastify\";\n\nimport * as Utils from \"../../../../utils\";\nimport Pad from \"../../../../common/Pad\";\nimport Line from \"../../../../common/Line\";\nimport { formatNumber } from \"../../../../utils/Number\";\n\nimport \"./css/index.scoped.css\";\n\nexport interface PeerProps {\n  address: string;\n  publicKey: string;\n  received: string;\n  sent: string;\n  renderDivider: boolean;\n}\n\nconst Peer: React.FC<PeerProps> = ({\n  sent,\n  received,\n  address,\n  publicKey,\n  renderDivider\n}) => {\n  const formattedSent = formatNumber(sent.toString());\n  const formattedReceived = formatNumber(received.toString());\n\n  const onClick = React.useCallback(() => {\n    if (!navigator.clipboard) {\n      toast.dark(\n        `Could not copy to clipboard, enable clipboard access or use HTTPs.`\n      );\n      return;\n    }\n    navigator.clipboard\n      .writeText(address)\n      .then(() => {\n        toast.dark(\"Copied to clipboard\");\n      })\n      .catch(e => {\n        Utils.logger.error(`Error inside <Peer />.onClick -> `, e);\n        toast.dark(`Could not copy to clipboard: ${e.message}`);\n      });\n  }, [address]);\n\n  return (\n    <div\n      className={classNames(\"peer-container\", {\n        \"has-divider\": renderDivider\n      })}\n      onClick={onClick}\n    >\n      <h5 className=\"margin-0 padding-0\">{address}</h5>\n\n      <Pad amt={12} />\n\n      <p className=\"advanced-peer-public-key\">\n        <span>{publicKey ?? \"Unknown public key\"}</span>\n      </p>\n\n      <Pad amt={12} />\n\n      <div className=\"sent-and-received\">\n        <p className=\"advanced-peer-value\">\n          <span>\n            <span className=\"peer-value-title\">Sent:</span> {formattedSent}\n          </span>\n        </p>\n\n        <div className=\"line\">\n          <Line color=\"white\" length={16} type=\"vertical\" width={2} />\n        </div>\n\n        <p className=\"advanced-peer-value\">\n          <span>\n            <span className=\"peer-value-title\">Received:</span>{\" \"}\n            {formattedReceived}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Peer);\n","import React, { memo, useCallback, useState } from \"react\";\nimport Modal from \"../../../../common/Modal\";\nimport InputGroup from \"../../../../common/InputGroup\";\nimport \"./css/index.scoped.css\";\nimport { connectPeer } from \"../../../../actions/WalletActions\";\nimport { useDispatch } from \"react-redux\";\nimport Pad from \"../../../../common/Pad\";\n\nconst AddPeerModal = ({ open = false, toggleModal }) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [host, setHost] = useState(\"\");\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onInputChange = useCallback(e => {\n    const { name, value } = e.target;\n    if (name === \"publicKey\") {\n      setPublicKey(value);\n    }\n\n    if (name === \"host\") {\n      setHost(value);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    setHost(\"\");\n    setLoading(false);\n    setError(\"\");\n  }, [open]);\n\n  const onSubmit = useCallback(\n    async e => {\n      e.preventDefault();\n      setError(\"\");\n      setLoading(true);\n      try {\n        await dispatch(connectPeer({ publicKey, host }));\n        toggleModal();\n      } catch (err) {\n        setError(err?.errorMessage ?? err?.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [dispatch, publicKey, host, toggleModal]\n  );\n\n  return (\n    <Modal\n      toggleModal={toggleModal}\n      modalOpen={open}\n      modalTitle=\"ADD PEER\"\n      blueBtn=\"Add Peer\"\n      onClickBlueBtn={onSubmit}\n      disableBlueBtn={loading}\n      noFullWidth\n      error={error}\n      contentClass=\"p-1\"\n      textIfLoading={loading && \"Adding Peer...\"}\n    >\n      <InputGroup\n        onChange={onInputChange}\n        name=\"publicKey\"\n        label=\"Public Key\"\n        value={publicKey}\n        small\n      />\n\n      <Pad amt={16} />\n\n      <InputGroup\n        onChange={onInputChange}\n        name=\"host\"\n        label=\"Host IP\"\n        value={host}\n        small\n      />\n    </Modal>\n  );\n};\n\nexport default memo(AddPeerModal);\n","import { memo, useCallback, useState } from \"react\";\nimport Modal from \"../../../../common/Modal\";\nimport InputGroup from \"../../../../common/InputGroup\";\nimport \"./css/index.scoped.css\";\nimport { openChannel } from \"../../../../actions/WalletActions\";\nimport { useDispatch } from \"react-redux\";\nimport Loader from \"../../../../common/Loader\";\nimport Pad from \"../../../../common/Pad\";\nimport { loadFeeRates } from \"../../../../actions/FeesActions\";\n\nconst AddChannelModal = ({ open = false, toggleModal }) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [channelCapacity, setChannelCapacity] = useState(\"\");\n  const [pushAmount, setPushAmount] = useState(\"\");\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onInputChange = useCallback(e => {\n    const { name, value } = e.target;\n    if (name === \"publicKey\") {\n      setPublicKey(value);\n    }\n\n    if (name === \"pushAmount\") {\n      setPushAmount(value);\n    }\n\n    if (name === \"channelCapacity\") {\n      setChannelCapacity(value);\n    }\n  }, []);\n\n  const onSubmit = useCallback(\n    async e => {\n      e.preventDefault();\n      setLoading(true);\n      try {\n        await dispatch(loadFeeRates());\n        await dispatch(openChannel({ publicKey, channelCapacity, pushAmount }));\n        toggleModal();\n      } catch (err) {\n        setError(err?.errorMessage ?? err?.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [dispatch, publicKey, channelCapacity, pushAmount, toggleModal]\n  );\n\n  return (\n    <Modal\n      toggleModal={toggleModal}\n      modalOpen={open}\n      modalTitle=\"OPEN CHANNEL\"\n      blueBtn={!loading && \"OPEN\"}\n      onClickBlueBtn={onSubmit}\n      noFullWidth\n    >\n      <form className=\"container m-1\">\n        {error ? <div className=\"form-error\">{error}</div> : null}\n        {loading ? <Loader overlay text=\"Adding Peer...\" /> : null}\n        <div className=\"inputs\">\n          <InputGroup\n            onChange={onInputChange}\n            name=\"publicKey\"\n            label=\"Node Public Key\"\n            value={publicKey}\n            small\n          />\n          <Pad amt={16} />\n          <InputGroup\n            onChange={onInputChange}\n            name=\"channelCapacity\"\n            label=\"Channel Capacity (sats)\"\n            value={channelCapacity}\n            inputMode=\"numeric\"\n            small\n          />\n          <Pad amt={16} />\n          <InputGroup\n            onChange={onInputChange}\n            name=\"pushAmount\"\n            label=\"Push Amount (sats)\"\n            value={pushAmount}\n            inputMode=\"numeric\"\n            small\n          />\n          <Pad amt={16} />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default memo(AddChannelModal);\n","import React, { memo } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport * as Schema from \"../../../../schema\";\nimport * as Utils from \"../../../../utils\";\nimport Modal from \"../../../../common/Modal\";\nimport Pad from \"../../../../common/Pad\";\n\nimport \"./InfoModal.scoped.css\";\n\nexport interface InfoModalProps {\n  modalOpen: boolean;\n  toggleModal(): void;\n}\n\nconst InfoModal = ({ modalOpen, toggleModal }: InfoModalProps) => {\n  const [nodeInfo, setNodeInfo] = React.useState<Schema.NodeInfo | null>(null);\n\n  React.useEffect(() => {\n    if (modalOpen) {\n      Utils.Http.get(\"/healthz\")\n        .then(res => {\n          setNodeInfo(res.data.LNDStatus.message);\n        })\n        .catch(e => {\n          Utils.logger.error(\n            `Error while fetching node info inside <InfoModal /> -> `,\n            e\n          );\n          alert(`Error while fetching node info: ${e.message}`);\n        });\n    }\n  }, [modalOpen]);\n\n  let modalContent = <span>Loading...</span>;\n\n  if (nodeInfo) {\n    modalContent = (\n      <div className=\"container\">\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Synced to Chain</span>\n\n          {nodeInfo.synced_to_chain ? (\n            <i className=\"fas fa-check icon\" />\n          ) : (\n            <i className=\"far fa-clock icon\" />\n          )}\n        </div>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Synced to Graph</span>\n\n          {nodeInfo.synced_to_graph ? (\n            <i className=\"fas fa-check icon\" />\n          ) : (\n            <i className=\"far fa-clock icon\" />\n          )}\n        </div>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Lightning PubKey:</span>\n\n          <i\n            className=\"far fa-copy icon cursor-pointer\"\n            onClick={() => {\n              try {\n                navigator.clipboard.writeText(nodeInfo.identity_pubkey);\n                toast.dark(\"Copied to clipboard\");\n              } catch (e) {\n                alert(e.message);\n              }\n            }}\n          />\n        </div>\n\n        <span className=\"data pubKey\">\n          {/* poor man's ellipsis */}\n          ...{nodeInfo.identity_pubkey.slice(-14)}\n        </span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Uris</span>\n\n          <i\n            className=\"far fa-copy icon cursor-pointer\"\n            onClick={() => {\n              try {\n                navigator.clipboard.writeText(nodeInfo.uris.join(\" , \"));\n                toast.dark(\"Copied to clipboard\");\n              } catch (e) {\n                alert(e.message);\n              }\n            }}\n          />\n        </div>\n\n        <span className=\"data\">\n          {`Number of Uris: ${nodeInfo.uris.length.toString()}`}\n        </span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Pending Channels:</span>\n        </div>\n\n        <span className=\"data\">{nodeInfo.num_pending_channels.toString()}</span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Block Height:</span>\n        </div>\n\n        <span className=\"data\">{nodeInfo.block_height.toString()}</span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Block Height:</span>\n        </div>\n\n        <span className=\"data\">{nodeInfo.block_height.toString()}</span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">Best Header Timestamp:</span>\n        </div>\n\n        <span className=\"data\">{nodeInfo.best_header_timestamp}</span>\n\n        <Pad amt={45} />\n\n        <div className=\"subtitle-and-icon-holder\">\n          <span className=\"subtitle\">LND Version</span>\n        </div>\n\n        <span className=\"data\">{nodeInfo.version}</span>\n\n        <Pad amt={45} />\n\n        <div\n          className=\"btn\"\n          onClick={() => {\n            alert(\"Coming soon\");\n          }}\n        >\n          <span className=\"btn-text\">Download Backup</span>\n        </div>\n\n        <Pad amt={18} />\n\n        <span className=\"footer\">\n          <span className=\"warning\">Warning: </span> Consult documentation\n          before use.\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <Modal\n      modalOpen={modalOpen}\n      toggleModal={toggleModal}\n      modalTitle=\"Node Info\"\n    >\n      <Pad amt={50} />\n\n      {modalContent}\n    </Modal>\n  );\n};\n\nexport default memo(InfoModal);\n","import React, { memo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { Channel as IChannel } from \"shock-common\";\n\nimport {\n  fetchChannels,\n  fetchInvoices,\n  fetchPeers,\n  fetchTransactions\n} from \"../../actions/WalletActions\";\nimport { convertSatsToUSD, formatNumber } from \"../../utils/Number\";\nimport MainNav from \"../../common/MainNav\";\nimport AddBtn from \"../../common/AddBtn\";\n// import Invoice from \"./components/Invoice\";\nimport Transaction from \"./components/Transaction\";\nimport Channel from \"./components/Channel\";\nimport Peer from \"./components/Peer\";\nimport AddPeerModal from \"./components/AddPeerModal\";\nimport AddChannelModal from \"./components/AddChannelModal\";\nimport InfoModal from \"./components/InfoModal\";\nimport * as Utils from \"../../utils\";\nimport Http from \"../../utils/Http\";\nimport * as Store from \"../../store\";\nimport \"./css/index.scoped.css\";\n\ntype PendingChannel = IChannel & {\n  pendingStatus: string;\n  ip: string;\n};\n\ntype AccordionSection =\n  | \"none\"\n  | \"transactions\"\n  | \"invoices\"\n  | \"peers\"\n  | \"channels\";\n\nconst AdvancedPage: React.FC = () => {\n  const [\n    selectedAccordion,\n    setSelectedAccordion\n  ] = React.useState<AccordionSection>(\"channels\");\n  const [page] = React.useState(1);\n  const [addPeerOpen, setAddPeerOpen] = React.useState(false);\n  const [addChannelOpen, setAddChannelOpen] = React.useState(false);\n  const [infoModalOpen, toggleInfoModal] = Utils.useBooleanState(false);\n\n  const [pendingChannels, setPendingChannels] = React.useState<\n    PendingChannel[]\n  >([]);\n\n  const dispatch = useDispatch();\n  const confirmedBalance = Store.useSelector(\n    ({ wallet }) => wallet.confirmedBalance\n  );\n  const channelBalance = Store.useSelector(\n    ({ wallet }) => wallet.channelBalance\n  );\n  const transactions = Store.useSelector(({ wallet }) => wallet.transactions);\n  // const invoices = Store.useSelector(({ wallet }) => wallet.invoices);\n  const channels = Store.useSelector(({ wallet }) => wallet.channels);\n  const peers = Store.useSelector(({ wallet }) => wallet.peers);\n  const USDRate = Store.useSelector(({ wallet }) => wallet.USDRate);\n\n  React.useEffect(() => {\n    const reset = page === 1;\n    dispatch(fetchTransactions({ page, reset }));\n    dispatch(fetchInvoices({ page, reset }));\n    dispatch(fetchChannels());\n    dispatch(fetchPeers());\n  }, [page, dispatch]);\n\n  //effect to load pending channels, no need to keep them in redux\n  React.useEffect(() => {\n    Http.get(\"/api/lnd/pendingchannels\").then(({ data }) => {\n      console.log(\"pending channels:\");\n      console.log(data);\n      const makeChanObj = (ch, pendingStatus) => ({\n        remote_pubkey: ch.remote_node_pub,\n        remote_balance: ch.remote_balance,\n        local_balance: ch.local_balance,\n        ip: \"\",\n        active: false,\n        pendingStatus\n      });\n      const pending = [];\n      data.pending_open_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Open\"));\n      });\n      data.waiting_close_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Close\"));\n      });\n      data.pending_force_closing_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Force Close\"));\n      });\n      setPendingChannels(pending);\n    });\n  }, []);\n\n  const confirmedBalanceUSD = React.useMemo(\n    () => formatNumber(convertSatsToUSD(confirmedBalance, USDRate).toFixed(2)),\n    [USDRate, confirmedBalance]\n  );\n  const channelBalanceUSD = React.useMemo(\n    () => formatNumber(convertSatsToUSD(channelBalance, USDRate).toFixed(2)),\n    [USDRate, channelBalance]\n  );\n\n  const openAccordion = React.useCallback((accordion: AccordionSection) => {\n    setSelectedAccordion(current => {\n      return current === accordion ? \"none\" : accordion;\n    });\n  }, []);\n\n  const toggleAddPeerOpen = React.useCallback(() => {\n    setAddPeerOpen(!addPeerOpen);\n  }, [addPeerOpen]);\n\n  const toggleAddChannelOpen = React.useCallback(() => {\n    setAddChannelOpen(!addChannelOpen);\n  }, [addChannelOpen]);\n\n  const openTransactionsAccordion = React.useCallback(() => {\n    openAccordion(\"transactions\");\n  }, [openAccordion]);\n\n  const openPeersAccordion = React.useCallback(() => {\n    openAccordion(\"peers\");\n  }, [openAccordion]);\n\n  // const openInvoicesAccordion = useCallback(() => {\n  //   openAccordion(\"invoices\");\n  // }, [openAccordion]);\n\n  const openChannelsAccordion = React.useCallback(() => {\n    openAccordion(\"channels\");\n  }, [openAccordion]);\n\n  return (\n    <div className=\"page-container advanced-page\">\n      <div className=\"advanced-header\">\n        <MainNav absolute pageTitle=\"ADVANCED\" enableBackButton={false} />\n        <div className=\"advanced-balance-container\">\n          <div className=\"advanced-balance-icon-container\">\n            <i className=\"advanced-balance-icon fas fa-link\"></i>\n          </div>\n          <div className=\"advanced-balance-btc-container\">\n            <p className=\"advanced-balance-btc\">\n              {formatNumber(confirmedBalance)}\n            </p>\n            <p className=\"advanced-balance-usd\">{confirmedBalanceUSD} USD</p>\n          </div>\n        </div>\n        <div\n          className=\"advanced-balance-container\"\n          style={{ paddingBottom: 25 }}\n        >\n          <div className=\"advanced-balance-icon-container\">\n            <i className=\"advanced-balance-icon fas fa-bolt\"></i>\n          </div>\n          <div className=\"advanced-balance-btc-container\">\n            <p className=\"advanced-balance-btc\">\n              {formatNumber(channelBalance)}\n            </p>\n            <p className=\"advanced-balance-usd\">{channelBalanceUSD} USD</p>\n          </div>\n        </div>\n        <span className=\"open-info-btn\" onClick={toggleInfoModal}>\n          Node Info <i className=\"fas fa-info-circle\" />\n        </span>\n      </div>\n      <div className=\"accordion\">\n        <div\n          className={classNames({\n            \"accordion-section\": true,\n            \"section-open\": selectedAccordion === \"transactions\"\n          })}\n        >\n          <div className=\"section-header\" onClick={openTransactionsAccordion}>\n            <p className=\"header-title\">Transactions</p>\n          </div>\n          <div className=\"section-content\">\n            <div className=\"content-inner\">\n              {transactions.content.length === 0 && (\n                <span className=\"content-inner-empty\">No transactions yet</span>\n              )}\n              {transactions.content.map(transaction => (\n                <Transaction\n                  date={transaction.time_stamp}\n                  hash={transaction.tx_hash}\n                  value={formatNumber(transaction.amount)}\n                  key={transaction.tx_hash}\n                  unconfirmed={transaction.num_confirmations === 0}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n        <div\n          className={classNames({\n            \"accordion-section\": true,\n            \"section-open\": selectedAccordion === \"peers\"\n          })}\n        >\n          <div className=\"section-header\" onClick={openPeersAccordion}>\n            <p className=\"header-title\">Peers</p>\n          </div>\n          <div className=\"section-content\">\n            <div className=\"content-inner\">\n              {peers.length === 0 && (\n                <span className=\"content-inner-empty\">No peers connected</span>\n              )}\n              {peers.map((peer, i) => {\n                return (\n                  <Peer\n                    address={peer.address}\n                    publicKey={peer.pub_key}\n                    sent={peer.sat_sent}\n                    received={peer.sat_recv}\n                    key={peer.address + peer.pub_key}\n                    renderDivider={peers.length > 1 && i !== peers.length - 1}\n                  />\n                );\n              })}\n            </div>\n            {selectedAccordion === \"peers\" && (\n              <AddBtn nestedMode relative>\n                <AddBtn\n                  label=\"ADD PEER\"\n                  onClick={toggleAddPeerOpen}\n                  icon=\"link\"\n                />\n              </AddBtn>\n            )}\n          </div>\n        </div>\n        {/* <div\n          className={classNames({\n            \"accordion-section\": true,\n            \"section-open\": selectedAccordion === \"invoices\"\n          })}\n        >\n          <div\n            className=\"section-header\"\n            onClick={openInvoicesAccordion}\n          >\n            <p className=\"header-title\">Invoices</p>\n          </div>\n          <div className=\"section-content\">\n            <div className=\"content-inner\">\n              {invoices.content\n                .slice()\n                .reverse()\n                .map(invoice => (\n                  <Invoice\n                    paymentRequest={invoice.payment_request}\n                    date={invoice.creation_date}\n                    value={formatNumber(invoice.value)}\n                    message={invoice.memo}\n                    key={invoice.payment_request}\n                  />\n                ))}\n            </div>\n          </div>\n        </div> */}\n        <div\n          className={classNames({\n            \"accordion-section\": true,\n            \"section-open\": selectedAccordion === \"channels\"\n          })}\n        >\n          <div className=\"section-header\" onClick={openChannelsAccordion}>\n            <p className=\"header-title\">Channels</p>\n          </div>\n          <div className=\"section-content\">\n            <div className=\"content-inner\">\n              {channels.length === 0 && pendingChannels.length === 0 && (\n                <span className=\"content-inner-empty\">No channels</span>\n              )}\n              {channels.map((channel, i) => {\n                const ip = peers.find(p => p.pub_key)?.address;\n                const thereIsMoreThanOneChannel = channels.length > 1;\n                const isLastChannel = i === channels.length - 1;\n                const thereArePendingChannels = pendingChannels.length > 0;\n                const renderDivider =\n                  (thereIsMoreThanOneChannel && !isLastChannel) ||\n                  thereArePendingChannels;\n\n                return (\n                  <Channel\n                    publicKey={channel.remote_pubkey}\n                    ip={ip}\n                    receivable={channel.remote_balance}\n                    sendable={channel.local_balance}\n                    active={channel.active}\n                    key={channel.chan_id}\n                    renderDivider={renderDivider}\n                  />\n                );\n              })}\n              {pendingChannels.map((channel, i) => {\n                const ip = peers.find(p => p.pub_key)?.address;\n\n                return (\n                  <Channel\n                    publicKey={channel.remote_pubkey}\n                    ip={ip}\n                    receivable={channel.remote_balance}\n                    sendable={channel.local_balance}\n                    active={channel.active}\n                    key={channel.chan_id}\n                    pendingStatus={channel.pendingStatus}\n                    renderDivider={\n                      pendingChannels.length > 1 &&\n                      i !== pendingChannels.length - 1\n                    }\n                  />\n                );\n              })}\n              {selectedAccordion === \"channels\" && (\n                <AddBtn nestedMode relative>\n                  <AddBtn\n                    label=\"ADD CHANNEL\"\n                    small\n                    onClick={toggleAddChannelOpen}\n                    icon=\"exchange-alt\"\n                  />\n                </AddBtn>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      {addPeerOpen && (\n        <AddPeerModal open={addPeerOpen} toggleModal={toggleAddPeerOpen} />\n      )}\n      {addChannelOpen && (\n        <AddChannelModal\n          open={addChannelOpen}\n          toggleModal={toggleAddChannelOpen}\n        />\n      )}\n      {infoModalOpen && (\n        <InfoModal modalOpen={infoModalOpen} toggleModal={toggleInfoModal} />\n      )}\n    </div>\n  );\n};\n\nexport default memo(AdvancedPage);\n"],"sourceRoot":""}