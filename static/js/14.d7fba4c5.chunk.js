(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[14],{566:function(e,t,a){"use strict";var c=a(3),n=a(81),r=a.n(n),i=(a(574),a(4)),s=function(e){var t=e.children,a=e.style;return Object(i.jsx)("div",{className:"content",style:a,"data-v-e8c2a3a4":"",children:t})},o=(a(575),function(e){var t=e.title,a=e.toggleModal;return t?Object(i.jsxs)("div",{className:"head","data-v-23abbd18":"",children:[Object(i.jsx)("p",{className:"head-title","data-v-23abbd18":"",children:t}),Object(i.jsx)("div",{className:"head-close",onClick:a,"data-v-23abbd18":"",children:Object(i.jsx)("i",{className:"fas fa-times","data-v-23abbd18":""})})]}):null});a(576),t.a=function(e){var t=e.modalOpen,a=void 0!==t&&t,n=e.toggleModal,l=e.modalTitle,d=void 0===l?"":l,u=e.children,b=e.contentStyle,j=void 0===b?{}:b,p=Object(c.useCallback)((function(){n()}),[n]);return Object(i.jsxs)("div",{className:r()({modal:!0,open:a}),"data-v-60ba06fc":"",children:[Object(i.jsx)("div",{className:"backdrop",onClick:p,"data-v-60ba06fc":""}),Object(i.jsxs)("div",{className:"container","data-v-60ba06fc":"",children:[Object(i.jsx)(o,{title:d,toggleModal:p,"data-v-60ba06fc":""}),Object(i.jsx)(s,{style:j,"data-v-60ba06fc":"",children:u})]})]})}},569:function(e,t,a){"use strict";var c=a(26),n=a(81),r=a.n(n),i=(a(577),a(4));t.a=function(e){var t=e.label,a=e.name,n=e.onChange,s=e.inputAction,o=e.actionIcon,l=e.value,d=e.inputMode,u=void 0===d?"text":d,b=e.type,j=void 0===b?"text":b,p=e.element,f=void 0===p?"input":p,v=e.small,O=void 0!==v&&v,h=e.disabled;return Object(i.jsxs)("div",{className:r()({group:!0,"group-disabled":h,"group-small":O}),"data-v-b091aa3b":"",children:[t?Object(i.jsx)("p",{className:"group-label","data-v-b091aa3b":"",children:t}):null,Object(i.jsxs)("div",{className:r()({"group-input-container":!0,"group-input-textarea-container":"textarea"===f}),"data-v-b091aa3b":"",children:["textarea"===f?Object(i.jsx)("textarea",{className:"group-input group-input-textarea",name:a,onChange:n,inputMode:u,value:l,disabled:h,"data-v-b091aa3b":""}):Object(i.jsx)("input",{className:"group-input",type:j,name:a,onChange:n,inputMode:u,value:l,disabled:h,"data-v-b091aa3b":""}),s&&o?Object(i.jsx)("div",{className:"group-input-action",onClick:s,"data-v-b091aa3b":"",children:Object(i.jsx)("i",{className:r()(Object(c.a)({"group-input-action-icon":!0,fas:!0},o,!0)),onClick:s,"data-v-b091aa3b":""})}):null]})]})}},574:function(e,t,a){},575:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){},578:function(e,t,a){"use strict";var c=a(0),n=a(12),r=a(3),i=a(872),s=a(174),o=(a(603),a(581),a(4));t.a=function(e){var t=e.id,a=void 0===t?"":t,l=e.item,d=e.index,u=void 0===d?0:d,b=e.postId,j=void 0===b?"":b,p=e.tipValue,f=void 0===p?0:p,v=e.tipCounter,O=void 0===v?0:v,h=e.hideRibbon,m=void 0!==h&&h,x=e.width,g=void 0===x?null:x,N=e.disableZoom,_=void 0!==N&&N,k=e.style,y=void 0===k?{}:k,C=Object(r.useState)(!1),S=Object(n.a)(C,2),w=S[0],U=S[1],P=Object(r.useState)(!1),M=Object(n.a)(P,2),D=M[0],I=M[1],T=Object(r.useState)(!0),E=Object(n.a)(T,2),q=E[0],R=E[1],K=Object(r.useState)(null),B=Object(n.a)(K,2),L=B[0],A=B[1],F=Object(r.useCallback)((function(e){if(clearTimeout(L),U(e),!e&&D){I(!1);var t=setTimeout((function(){R(!0)}),200);A(t)}e&&R(!1)}),[L,D,U,I,R,A]),V=decodeURIComponent(l.magnetURI.replace(/.*(ws=)/gi,"")),z=Object(c.a)(Object(c.a)({},y),{},{opacity:q?1:0});g&&(z.width=g);var Y=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("img",{className:"image torrent-img torrent-img-".concat(j,"-").concat(a),alt:"Post Media","data-torrent":l.magnetURI,"data-file-key":u,style:z,src:V,"data-v-6f778a54":""}),Object(o.jsx)("img",{className:"image enlarged-img enlarged-img-".concat(j,"-").concat(a),alt:"Post Media","data-file-key":u,onLoad:function(){I(!0)},style:{opacity:w?1:0,display:w?"block":"none"},src:V,"data-v-6f778a54":""}),!m&&Object(o.jsx)(s.a,{tipCounter:O,tipValue:f,zoomed:w,"data-v-6f778a54":""})]});return Object(o.jsx)("div",{className:"media-container","data-v-6f778a54":"",children:_?Y:Object(o.jsx)(i.a,{isZoomed:w,onZoomChange:F,overlayBgColorStart:"#16191c00",overlayBgColorEnd:"#16191c","data-v-6f778a54":"",children:Y})})}},579:function(e,t,a){"use strict";a(3),a(601),a(602);var c=a(4);t.a=function(e){var t=e.text,a=void 0===t?"Submit":t,n=e.onClick;return Object(c.jsx)("div",{className:"submit-btn",onClick:n,"data-v-3f2beb0d":"",children:Object(c.jsx)("p",{className:"submit-btn-text","data-v-3f2beb0d":"",children:a})})}},580:function(e,t,a){"use strict";var c=a(58),n=a(4);t.a=function(){return Object(n.jsxs)("div",{className:"bottom-nav-container",children:[Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},581:function(e,t,a){},588:function(e,t,a){"use strict";var c=a(12),n=a(3),r=a(81),i=a.n(r),s=(a(589),a(4));t.a=function(e){var t=e.label,a=void 0===t?null:t,r=e.icon,o=void 0===r?null:r,l=e.iconURL,d=void 0===l?null:l,u=e.onClick,b=void 0===u?void 0:u,j=e.nestedMode,p=void 0!==j&&j,f=e.large,v=void 0!==f&&f,O=e.small,h=void 0!==O&&O,m=e.relative,x=void 0!==m&&m,g=e.children,N=void 0===g?null:g,_=e.style,k=void 0===_?{}:_,y=Object(n.useState)(!1),C=Object(c.a)(y,2),S=C[0],w=C[1],U=Object(n.useCallback)((function(){p&&w(!S)}),[S,p]),P=Object(n.useMemo)((function(){return d?Object(s.jsx)("img",{src:d,className:"add-btn-icon",alt:"","data-v-34ee7299":""}):Object(s.jsx)("i",{className:"fas fa-".concat(null!==o&&void 0!==o?o:"plus"),"data-v-34ee7299":""})}),[o,d]),M=Object(n.useMemo)((function(){return a?Object(s.jsx)("p",{className:"add-btn-label","data-v-34ee7299":"",children:a}):null}),[a]);return Object(s.jsxs)("div",{className:i()({"add-btn-container":!0,"add-btn-round-container":!a,"add-btn-large":v,"add-btn-small":h}),"data-v-34ee7299":"",children:[Object(s.jsxs)("div",{className:i()({"add-btn":!0,"add-btn-round":!a,"add-btn-extended":!!a,"add-btn-relative":x,"add-btn-open":S,"add-btn-nested":p}),onClick:null!==b&&void 0!==b?b:U,style:k,"data-v-34ee7299":"",children:[P,M]}),N?Object(s.jsx)("div",{className:i()({"add-btn-options":!0,"add-btn-options-open":S}),"data-v-34ee7299":"",children:N}):null]})}},589:function(e,t,a){},598:function(e,t,a){"use strict";var c=a(3),n=a(4);t.a=function(e){var t=e.color,a=e.length,r=e.type,i=e.width,s=Object(c.useMemo)((function(){return"vertical"===r?{borderLeftStyle:"solid",borderLeftWidth:"".concat(i/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(i/2,"px"),borderRightColor:t,height:a}:"horizontal"===r?{borderTopStyle:"solid",borderTopWidth:i/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:i/2,borderBottomColor:t,width:a}:{}}),[t,a,r,i]);return Object(n.jsx)("div",{style:s})}},601:function(e,t,a){},602:function(e,t,a){},614:function(e,t,a){"use strict";var c=a(81),n=a.n(c),r=a(564),i=a(598),s=a(615),o=a.n(s),l=a(4);t.a=function(e){var t=e.onChange,a=e.selected,c=e.showContentBtn;return Object(l.jsxs)("div",{className:n()(r.D,r.z,r.A,r.w,o.a.container),children:[Object(l.jsx)("span",{className:n()(r.C,"posts"===a?o.a.selected:o.a.unselected),onClick:function(){t("posts")},children:"Posts"}),Object(l.jsx)("div",{className:n()(r.a,c&&o.a["left-line"]),children:Object(l.jsx)(i.a,{color:"white",length:16,type:"vertical",width:2})}),Object(l.jsx)("span",{className:n()(r.C,"services"===a?o.a.selected:o.a.unselected),onClick:function(){t("services")},children:"Services"}),c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:n()(r.a,o.a["right-line"]),children:Object(l.jsx)(i.a,{color:"white",length:16,type:"vertical",width:2})}),Object(l.jsx)("span",{className:n()(r.C,"content"===a?o.a.selected:o.a.unselected),onClick:function(){t("content")},children:"Content"})]})]})}},615:function(e,t,a){e.exports={container:"ProfileDivider_container__3ob9k",selected:"ProfileDivider_selected__3U98y",unselected:"ProfileDivider_unselected__1Z_qd","left-line":"ProfileDivider_left-line__2xjlN","right-line":"ProfileDivider_right-line__1d2KH"}},616:function(e,t,a){"use strict";t.a=a.p+"static/media/clipboard.beb19e1e.svg"},617:function(e,t,a){"use strict";t.a=a.p+"static/media/qrcode.69103c6c.svg"},651:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),i=a(12),s=a(3),o=a(44),l=a(566),d=a(579),u=a(569),b=a(54),j=a(172),p=(a(652),a(4));t.a=function(e){var t=e.tipData,a=e.toggleOpen,c=Object(o.b)(),f=Object(s.useState)(""),v=Object(i.a)(f,2),O=v[0],h=v[1],m=Object(s.useState)(!1),x=Object(i.a)(m,2),g=x[0],N=x[1],_=Object(s.useState)(0),k=Object(i.a)(_,2),y=k[0],C=k[1],S=Object(s.useState)(!1),w=Object(i.a)(S,2),U=w[0],P=w[1],M=Object(s.useCallback)((function(e){"amount"===e.target.name&&C(e.target.value)}),[]),D=Object(s.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var r,i,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,N(!0),e.next=5,c(Object(b.d)({amount:y,publicKey:t.publicKey,postId:t.postID}));case 5:P(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t&&(s=e.t0.message,o=null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errorMessage,h(null!==o&&void 0!==o?o:s));case 12:return e.prev=12,N(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[c,y,t]);return Object(s.useEffect)((function(){t||(N(!1),h(null),P(!1))}),[t]),Object(p.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Send Tip","data-v-28142ba3":"",children:U?Object(p.jsxs)("div",{className:"tip-modal-success m-1","data-v-28142ba3":"",children:[Object(p.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-28142ba3":""}),Object(p.jsx)("p",{className:"tip-success-title","data-v-28142ba3":"",children:"Post tipped successfully!"}),Object(p.jsx)("p",{className:"tip-success-desc","data-v-28142ba3":""})]}):Object(p.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:D,"data-v-28142ba3":"",children:[O?Object(p.jsx)("div",{className:"form-error","data-v-28142ba3":"",children:O}):null,g?Object(p.jsx)(j.a,{overlay:!0,text:"Sending Tip...","data-v-28142ba3":""}):null,Object(p.jsx)("p",{className:"tip-modal-desc m-1","data-v-28142ba3":"",children:"Please specify the amount of sats you'd like to tip this user with below."}),Object(p.jsx)(u.a,{name:"amount",onChange:M,value:y,inputMode:"decimal",small:!0,"data-v-28142ba3":""}),Object(p.jsx)(d.a,{text:"SEND TIP",onClick:D,"data-v-28142ba3":""})]})})}},652:function(e,t,a){},653:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),i=a(12),s=a(3),o=a(44),l=a(566),d=a(579),u=a(172),b=(a(654),a(19)),j=a(4);t.a=function(e){var t=e.shareData,a=e.toggleOpen,c=Object(o.b)(),p=Object(s.useState)(""),f=Object(i.a)(p,2),v=f[0],O=f[1],h=Object(s.useState)(!1),m=Object(i.a)(h,2),x=m[0],g=m[1],N=Object(s.useState)(!1),_=Object(i.a)(N,2),k=_[0],y=_[1],C=Object(s.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var c,r,i,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,g(!0),c=t.postID,r=t.publicKey,i={originalAuthor:r,shareDate:Date.now()},e.next=7,b.b.post("/api/gun/put",{path:"$user>sharedPosts>".concat(c),value:i});case 7:s=e.sent,s.data.ok?y(!0):O("Share operation failed"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);return Object(s.useEffect)((function(){t||(g(!1),O(null),y(!1))}),[t]),Object(j.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Share post","data-v-d471e65e":"",children:k?Object(j.jsxs)("div",{className:"tip-modal-success m-1","data-v-d471e65e":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-d471e65e":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-d471e65e":"",children:"Post shared successfully!"})]}):Object(j.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:C,"data-v-d471e65e":"",children:[v?Object(j.jsx)("div",{className:"form-error","data-v-d471e65e":"",children:v}):null,x?Object(j.jsx)(u.a,{overlay:!0,text:"Sharing...","data-v-d471e65e":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc m-1","data-v-d471e65e":"",children:"This post will be shared on your profile"}),Object(j.jsx)(d.a,{text:"SHARE",onClick:C,"data-v-d471e65e":""})]})})}},654:function(e,t,a){},655:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),i=a(12),s=a(3),o=a(44),l=a(566),d=a(579),u=a(28),b=a(172),j=(a(656),a(4));t.a=function(e){var t=e.unlockData,a=e.toggleOpen,c=Object(o.b)(),p=Object(s.useState)(""),f=Object(i.a)(p,2),v=f[0],O=f[1],h=Object(s.useState)(!1),m=Object(i.a)(h,2),x=m[0],g=m[1],N=Object(s.useState)(!1),_=Object(i.a)(N,2),k=_[0],y=_[1],C=Object(s.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var r,i,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,g(!0),e.next=5,Object(u.o)(100,t.publicKey,t.postID)(c);case 5:y(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t&&(s=e.t0.message,o=null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errorMessage,O(null!==o&&void 0!==o?o:s));case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);return Object(s.useEffect)((function(){t||(g(!1),O(null),y(!1))}),[t]),Object(j.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Unlock content","data-v-c80ce132":"",children:k?Object(j.jsxs)("div",{className:"tip-modal-success","data-v-c80ce132":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-c80ce132":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-c80ce132":"",children:"Content unlocked successfully!"})]}):Object(j.jsxs)("form",{className:"modal-form tip-form",onSubmit:C,"data-v-c80ce132":"",children:[v?Object(j.jsx)("div",{className:"form-error","data-v-c80ce132":"",children:v}):null,x?Object(j.jsx)(b.a,{overlay:!0,text:"Sending Tip...","data-v-c80ce132":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc","data-v-c80ce132":"",children:"100 sats will be sent to the owner of the post to unlock the content"}),Object(j.jsx)(d.a,{text:"UNLOCK",onClick:C,"data-v-c80ce132":""})]})})}},656:function(e,t,a){},829:function(e,t,a){},830:function(e,t,a){},831:function(e,t,a){e.exports={"profile-page":"OtherUser_profile-page__OhC-_","profile-container":"OtherUser_profile-container__2oq7s","profile-cover":"OtherUser_profile-cover__3Fq6P","profile-info-container":"OtherUser_profile-info-container__3qnqN","profile-avatar":"OtherUser_profile-avatar__S6INq","profile-name":"OtherUser_profile-name__3chmC","profile-desc":"OtherUser_profile-desc__f9Dsj","config-btn":"OtherUser_config-btn__t33_B","config-btn-icon":"OtherUser_config-btn-icon__1p_6O","config-btn-text":"OtherUser_config-btn-text__1Wg_T","profile-choice-container":"OtherUser_profile-choice-container__3-xgF","profile-choice-icon":"OtherUser_profile-choice-icon__3iOE1","profile-choice-text":"OtherUser_profile-choice-text__deYLl","profile-qrcode":"OtherUser_profile-qrcode__2Ok54","profile-qrcode-desc":"OtherUser_profile-qrcode-desc__3cp0P","profile-clipboard-container":"OtherUser_profile-clipboard-container__1P_p8","profile-clipboard-icon":"OtherUser_profile-clipboard-icon__1nW2U","profile-clipboard-text":"OtherUser_profile-clipboard-text__2g4AC","publish-content-form":"OtherUser_publish-content-form__1YdVa","publish-content-title":"OtherUser_publish-content-title__3EsYE","publish-content-icon":"OtherUser_publish-content-icon__291ch","m-1":"OtherUser_m-1__1dpvP","content-container":"OtherUser_content-container__1lOOL"}},832:function(e,t,a){e.exports={container:"FollowBtn_container__2c7Cj",text:"FollowBtn_text__1o7CS"}},833:function(e,t,a){e.exports={container:"SendReqBtn_container__2nY4E",text:"SendReqBtn_text__2_2zC"}},860:function(e,t,a){"use strict";a.r(t);var c=a(23),n=a(2),r=a.n(n),i=a(0),s=a(5),o=a(12),l=a(3),d=a.n(l),u=a(44),b=a(613),j=a.n(b),p=a(25),f=a(81),v=a.n(f),O=a(100),h=a(14),m=a(88),x=a(53),g=a(13),N=a(580),_=a(588),k=a(566),y=a(172),C=a(565),S=a(614),w=a(563),U=a(37),P=a(45),M=a(19),D=a(578),I=(a(829),a(4)),T={height:100,width:100,objectFit:"contain"},E=function(e){var t=e.publicKey,a=Object(p.g)(),c=d.a.useState({}),n=Object(o.a)(c,2),r=n[0],i=n[1],s=d.a.useState(""),l=Object(o.a)(s,2),u=l[0],b=l[1];d.a.useEffect((function(){var e=Object(g.e)({query:"".concat(t,"::publishedContentPublic::map.on"),onError:function(e){b(JSON.stringify(e,null,4))},onData:function(e,a){i(Object(U.a)((function(c){P.b(e)?c[a]=e:M.e.warn("Invalid/incomplete public published content found for public key ...".concat(t.slice(-8),", might be due to pending replication or was deleted if null: ").concat(JSON.stringify(e,null,4)))})))}});return function(){e.then((function(e){return e.off()}))}}),[t]);var j=d.a.useMemo((function(){return Object.values(r).sort((function(e,t){return t.timestamp-e.timestamp}))}),[r]);return u?Object(I.jsx)("p",{"data-v-be1f21e5":"",children:u}):Object(I.jsx)(I.Fragment,{children:j.map((function(e,t){return Object(I.jsxs)("div",{className:"item",onClick:function(){a.push("/item/".concat(e.author,"/").concat(e.id))},"data-v-be1f21e5":"",children:["image/embedded"===e.type&&Object(I.jsx)("div",{style:T,"data-v-be1f21e5":"",children:Object(I.jsx)(D.a,{disableZoom:!0,hideRibbon:!0,id:e.id,index:t,item:e,postId:null,tipCounter:null,tipValue:null,style:T,"data-v-be1f21e5":""})}),"video/embedded"===e.type&&Object(I.jsx)("div",{className:"video-placeholder",style:T,"data-v-be1f21e5":"",children:Object(I.jsx)("i",{className:"fas fa-video video-icon","data-v-be1f21e5":""})}),Object(I.jsxs)("div",{className:"title-and-description","data-v-be1f21e5":"",children:[Object(I.jsx)("h2",{className:"title","data-v-be1f21e5":"",children:e.title}),Object(I.jsx)("p",{className:"description","data-v-be1f21e5":"",children:e.description||" "}),Object(I.jsx)("span",{className:"timestamp","data-v-be1f21e5":"",children:M.c(e.timestamp)})]})]},e.id)}))})},q=a(616),R=a(617),K=a(651),B=a(655),L=a(579),A=a(113),F=a(28),V=(a(830),function(e){var t=e.service,a=e.toggleOpen,c=Object(u.b)(),n=Object(l.useState)(""),i=Object(o.a)(n,2),d=i[0],b=i[1],j=Object(l.useState)(!1),p=Object(o.a)(j,2),f=p[0],v=p[1],O=Object(l.useState)(null),h=Object(o.a)(O,2),m=h[0],x=h[1],g=Object(l.useState)(!1),N=Object(o.a)(g,2),_=N[0],C=N[1],S=Object(l.useCallback)(function(){var e=Object(s.a)(r.a.mark((function e(a){var n,i,s,o,l,d,u,j,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,n=t.servicePrice,i=t.owner,s=t.serviceID,o=t.serviceType,i&&s&&"number"===typeof Number(n)){e.next=7;break}return console.error("invalid service provided"),console.error(t),e.abrupt("return");case 7:return v(!0),e.next=10,Object(A.b)(i,s,n)(c);case 10:l=e.sent,console.log(l),x(l),"torrentSeed"===o&&Object(F.b)(l.seedUrl,l.tokens[0])(c),"streamSeed"===o&&Object(F.e)(l.seedUrl,l.tokens[0])(c),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0),t&&(j=e.t0.message,p=null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.errorMessage,b(null!==p&&void 0!==p?p:j));case 21:return e.prev=21,v(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);Object(l.useEffect)((function(){t||(v(!1),b(null),x(null))}),[m]);var w=Object(l.useCallback)((function(){navigator.clipboard.writeText(JSON.stringify(m)),C(!0)}),[m,C]);return Object(I.jsx)(k.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Buy Service","data-v-21c3fbdb":"",children:m?Object(I.jsxs)("div",{className:"tip-modal-success","data-v-21c3fbdb":"",children:[Object(I.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-21c3fbdb":""}),Object(I.jsx)("p",{className:"tip-success-title","data-v-21c3fbdb":"",children:"You successfully bought this service!"}),Object(I.jsx)("p",{"data-v-21c3fbdb":"",children:JSON.stringify(m)}),Object(I.jsx)("button",{onClick:w,"data-v-21c3fbdb":"",children:"COPY TO CLIPBOARD"}),_&&Object(I.jsx)("p",{"data-v-21c3fbdb":"",children:"Copied!"})]}):Object(I.jsxs)("form",{className:"modal-form tip-form",onSubmit:S,"data-v-21c3fbdb":"",children:[d?Object(I.jsx)("div",{className:"form-error","data-v-21c3fbdb":"",children:d}):null,f?Object(I.jsx)(y.a,{overlay:!0,text:"Sending Tip...","data-v-21c3fbdb":""}):null,Object(I.jsxs)("p",{className:"tip-modal-desc","data-v-21c3fbdb":"",children:[t&&t.servicePrice," sats will be sent to the owner of the service provider"]}),Object(I.jsx)(L.a,{text:"BUY",onClick:S,"data-v-21c3fbdb":""})]})})}),z=a(653),Y=a(18),J=a(564),W=a(831),Z=a.n(W),H=a(832),$=a.n(H),G=function(e){var t=e.publicKey,a=!!Y.useSelector(Y.selectFollows).find((function(e){return e.user===t})),c=Object(l.useState)(!1),n=Object(o.a)(c,2),i=n[0],d=n[1],u=Object(l.useCallback)(Object(s.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=3;break}return e.abrupt("return");case 3:if(d(!0),c={status:-1,data:{errorMessage:""}},!a){e.next=11;break}return e.next=8,M.b.delete("/api/gun/follows/".concat(t));case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,M.b.put("/api/gun/follows/".concat(t),{});case 13:c=e.sent;case 14:if(200===c.status){e.next=16;break}throw new Error(c.data.errorMessage);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a?alert("Could not unfollow: ".concat(e.t0.message)):alert("Could not follow: ".concat(e.t0.message));case 21:return e.prev=21,d(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])}))),[i,d,a,t]);return Object(I.jsx)("div",{className:$.a.container,onClick:u,children:Object(I.jsx)("p",{className:v()(J.C,$.a.text),children:i?"...":a?"Unfollow":"Follow"})})},Q=a(29),X=a(833),ee=a.n(X),te=function(e){var t=e.publicKey,a=Object(u.b)(),c=Object(p.g)(),n=Y.useSelector(Y.selectIsInContact(t)),i=Object(l.useState)(!1),d=Object(o.a)(i,2),b=d[0],j=d[1],f=Object(l.useCallback)(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=3;break}return e.abrupt("return");case 3:if(!n){e.next=6;break}return c.push("/chat/".concat(t)),e.abrupt("return");case 6:return j(!0),e.next=9,a(Object(Q.g)(t));case 9:j(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Could not send contact request: ".concat(e.t0.message)),M.e.error(e.t0),j(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))),[b,a,c,n,t]);return Object(I.jsx)("div",{className:v()(ee.a.container),onClick:f,children:Object(I.jsx)("p",{className:v()(J.C,ee.a.text),children:b?"...":n?"Message":"Request Contact"})})},ae=a(54),ce=d.a.lazy((function(){return Promise.all([a.e(2),a.e(36)]).then(a.bind(null,585))})),ne=d.a.lazy((function(){return Promise.all([a.e(2),a.e(3),a.e(16)]).then(a.bind(null,659))}));t.default=function(){var e=Object(u.b)(),t=Object(p.g)(),a=Y.useSelector((function(e){return e.node.publicKey})),n=Object(l.useState)(!1),d=Object(o.a)(n,2),b=d[0],f=d[1],U=Object(u.c)((function(e){return e.userProfiles})),P=Object(p.i)(),M=P.publicKey,D=P.selectedView,T=void 0===D?"posts":D,L=Y.useSelector(Y.selectUser(M)),A=Object(l.useState)([]),F=Object(o.a)(A,2),W=F[0],H=F[1],$=Object(l.useState)([]),Q=Object(o.a)($,2),X=Q[0],ee=Q[1],re=Object(l.useState)([]),ie=Object(o.a)(re,2),se=ie[0],oe=ie[1],le=Object(l.useState)({}),de=Object(o.a)(le,2),ue=de[0],be=de[1],je=Object(l.useState)(null),pe=Object(o.a)(je,2),fe=pe[0],ve=pe[1],Oe=Object(l.useState)(null),he=Object(o.a)(Oe,2),me=he[0],xe=he[1],ge=Object(l.useState)(null),Ne=Object(o.a)(ge,2),_e=Ne[0],ke=Ne[1],ye=Object(l.useState)(null),Ce=Object(o.a)(ye,2),Se=Ce[0],we=Ce[1],Ue=a===L.publicKey;Object(l.useEffect)((function(){return e(Object(ae.e)()),function(){e(Object(ae.h)())}}),[e]);var Pe=Object(l.useCallback)((function(){var e="".concat(M,"::posts::on"),t=Object(g.e)({query:e,reconnect:!1,onData:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,c,n,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.entries(t),c=a.filter((function(e){var t=Object(o.a)(e,2),a=t[0];return null!==t[1]&&!O.a.includes(a)})).map((function(e){return Object(o.a)(e,1)[0]})),n=c.map(function(){var e=Object(s.a)(r.a.mark((function e(t){var a,c,n,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/gun/otheruser/".concat(M,"/load/posts>").concat(t));case 2:return a=e.sent,c=a.data,n=c.data.tipsSet?Object.values(c.data.tipsSet):[],s=n.length,o=s>0?n.reduce((function(e,t){return Number(t)+Number(e)})):0,e.abrupt("return",Object(i.a)(Object(i.a)({},c.data),{},{id:t,authorId:M,tipCounter:s,tipValue:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.allSettled(n);case 5:l=e.sent,d=l.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),H(d);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(g.f)(t)}),[M]),Me=Object(l.useCallback)((function(){var e="".concat(M,"::sharedPosts::on"),t=Object(g.e)({query:e,reconnect:!1,onData:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,c,n,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.entries(t),c=a.filter((function(e){var t=Object(o.a)(e,2),a=t[0];return null!==t[1]&&!O.a.includes(a)})).map((function(e){return Object(o.a)(e,1)[0]})),n=c.map(function(){var e=Object(s.a)(r.a.mark((function e(t){var a,c,n,s,o,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/gun/otheruser/".concat(M,"/load/sharedPosts>").concat(t));case 2:if(a=e.sent,(c=a.data).data&&c.data.originalAuthor){e.next=6;break}throw new Error("invalid shared post provided for user "+M);case 6:return e.next=8,h.a.get("/api/gun/otheruser/".concat(c.data.originalAuthor,"/load/posts>").concat(t));case 8:return n=e.sent,s=n.data,o=s.data.tipsSet?Object.values(s.data.tipsSet):[],l=o.length,d=l>0?o.reduce((function(e,t){return Number(t)+Number(e)})):0,e.abrupt("return",Object(i.a)(Object(i.a)({},c.data),{},{originalPost:Object(i.a)(Object(i.a)({},s.data),{},{id:t,tipCounter:l,tipValue:d}),authorId:M,type:"shared"}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.allSettled(n);case 5:l=e.sent,d=l.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),ee(d);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(g.f)(t)}),[M]);Object(l.useEffect)((function(){return e(Object(x.b)(M))}),[e,M]),Object(l.useEffect)((function(){return Pe()}),[Pe]),Object(l.useEffect)((function(){return Me()}),[Me]),Object(l.useEffect)((function(){var t=[].concat(Object(c.a)(W),Object(c.a)(X)).sort((function(e,t){return t.date-e.date}));oe(t);var a=X.filter((function(e){return!U[e.originalAuthor]})).map((function(t){var a=t.originalAuthor;return e(Object(x.b)(a)),function(){e(Object(x.c)(a))}}));return function(){a.forEach((function(e){return e()}))}}),[e,W,U,X]),Object(l.useEffect)((function(){h.a.get("/api/gun/otheruser/".concat(M,"/load/offeredServices")).then((function(e){var t=e.data;be(t.data)}))}),[M]);var De=Object(l.useCallback)((function(){f(!b)}),[b]),Ie=Object(l.useCallback)((function(e){!fe&&e||ve(null),ve(e)}),[fe]),Te=Object(l.useCallback)((function(e){!_e&&e||ke(null),ke(e)}),[_e]),Ee=Object(l.useCallback)((function(e){!me&&e||xe(null),xe(e)}),[me]),qe=Object(l.useCallback)((function(e){console.log("share click yo"),console.log(e),!Se&&e||we(null),we(e)}),[Se]),Re=Object(l.useCallback)((function(){navigator.clipboard.writeText(M)}),[M]),Ke=Object(l.useCallback)((function(e){t.replace("/otherUser/".concat(M,"/").concat(e))}),[t,M]);return Object(I.jsxs)("div",{className:v()("page-container",Z.a["profile-page"]),children:[Object(I.jsxs)("div",{className:v()(Z.a["profile-container"]),children:[Object(I.jsx)("div",{className:"profile-cover",children:L.header&&Object(I.jsx)("img",{className:"w-100",alt:"User set profile header.",src:"data:image/jpeg;base64,".concat(L.header)})}),Object(I.jsxs)("div",{className:Z.a["profile-info-container"],children:[Object(I.jsx)("div",{className:Z.a["profile-avatar"],style:{height:"".concat(122,"px"),width:"".concat(122,"px")},children:Object(I.jsx)(C.a,{height:122,publicKey:M,greyBorder:!0})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{className:Z.a["profile-name"],children:L.displayName}),Object(I.jsx)("p",{className:Z.a["profile-desc"],children:L.bio||"Shockwallet user"}),Object(I.jsxs)("div",{className:J.z,children:[!Ue&&Object(I.jsx)(G,{publicKey:M}),Object(I.jsx)(w.a,{amt:24,insideRow:!0}),!Ue&&Object(I.jsx)(te,{publicKey:M})]})]})]}),Object(I.jsx)(S.a,{onChange:Ke,selected:T,showContentBtn:!0}),Object(I.jsxs)("div",{children:["posts"===T&&(0===se.length?Object(I.jsx)(y.a,{text:"loading posts..."}):se.map((function(e,t){var a=U[e.authorId];if("shared"===e.type){if(!e.originalPost)return null;var c,n,r=Object.entries(e.originalPost.contentItems).find((function(e){var t=Object(o.a)(e,2);return t[0],"stream/embedded"===t[1].type}));if(r){var i=Object(o.a)(r,2);c=i[0],n=i[1]}if(n){if(!n.liveStatus)return null;if("waiting"===n.liveStatus)return null;if("wasLive"===n.liveStatus){if(!n.playbackMagnet)return null;e.originalPost.contentItems[c].type="video/embedded",e.originalPost.contentItems[c].magnetURI=n.playbackMagnet}}var s=e.originalAuthor,d=U[s];return Object(I.jsx)(l.Suspense,{fallback:Object(I.jsx)(y.a,{}),children:Object(I.jsx)(ne,{originalPost:e.originalPost,originalPostProfile:d,sharedTimestamp:e.shareDate,sharerProfile:a,postPublicKey:s,openTipModal:Ie,openUnlockModal:Ee,openDeleteModal:null,openShareModal:qe})},t)}var u,b,j=Object.entries(e.contentItems).find((function(e){var t=Object(o.a)(e,2);return t[0],"stream/embedded"===t[1].type}));if(j){var p=Object(o.a)(j,2);u=p[0],b=p[1]}if(b){if(!b.liveStatus)return null;if("waiting"===b.liveStatus)return null;if("wasLive"===b.liveStatus){if(!b.playbackMagnet)return null;e.contentItems[u].type="video/embedded",e.contentItems[u].magnetURI=b.playbackMagnet}}return Object(I.jsx)(l.Suspense,{fallback:Object(I.jsx)(y.a,{}),children:Object(I.jsx)(ce,{id:e.id,timestamp:e.date,contentItems:e.contentItems,username:Object(m.b)(null===a||void 0===a?void 0:a.user,null===a||void 0===a?void 0:a.displayName),publicKey:e.authorId,openTipModal:Ie,openUnlockModal:Ee,tipCounter:e.tipCounter||0,tipValue:e.tipValue||0,openDeleteModal:null,openShareModal:qe})},t)}))),"services"===T&&Object.entries(ue).filter((function(e){var t=Object(o.a)(e,2);return t[0],!!t[1]})).map((function(e){var t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(I.jsxs)("div",{className:Z.a.post,children:[Object(I.jsx)("strong",{children:"Service ID"}),Object(I.jsx)("p",{children:a}),Object(I.jsx)("strong",{children:"Service Tpe"}),Object(I.jsx)("p",{children:c.serviceType}),Object(I.jsx)("strong",{children:"Service Title"}),Object(I.jsx)("p",{children:c.serviceTitle}),Object(I.jsx)("strong",{children:"Service Description"}),Object(I.jsx)("p",{children:c.serviceDescription}),Object(I.jsx)("strong",{children:"Service Condition"}),Object(I.jsx)("p",{children:c.serviceCondition}),Object(I.jsx)("strong",{children:"Service Price"}),Object(I.jsx)("p",{children:c.servicePrice}),Object(I.jsx)("button",{onClick:function(){ke(Object(i.a)(Object(i.a)({},c),{},{serviceID:a,owner:M}))},children:"BUY SERVICE"})]})})),"content"===T&&Object(I.jsx)("div",{className:Z.a["content-container"],children:Object(I.jsx)(E,{publicKey:M})})]}),Object(I.jsx)(w.a,{amt:200}),Object(I.jsxs)(k.a,{toggleModal:De,modalOpen:b,contentStyle:{padding:"40px 30px"},children:[Object(I.jsx)(j.a,{bgColor:"#23282d",fgColor:"#4285b9",value:M,size:180,className:Z.a["profile-qrcode"]}),Object(I.jsx)("p",{className:Z.a["profile-qrcode-desc"],children:"Scan this code to contact this user"}),Object(I.jsxs)("div",{className:Z.a["profile-clipboard-container"],onClick:Re,children:[Object(I.jsx)("img",{src:q.a,className:Z.a["profile-clipboard-icon"],alt:""}),Object(I.jsx)("p",{className:Z.a["profile-clipboard-text"],children:"Tap to copy to clipboard"})]})]}),Object(I.jsx)(K.a,{tipData:fe,toggleOpen:Ie}),Object(I.jsx)(B.a,{unlockData:me,toggleOpen:Ee}),Object(I.jsx)(V,{service:_e,toggleOpen:Te}),Object(I.jsx)(z.a,{shareData:Se,toggleOpen:qe}),Object(I.jsx)(_.a,{onClick:De,large:!0,iconURL:R.a,icon:null,label:null})]}),Object(I.jsx)(N.a,{})]})}}}]);
//# sourceMappingURL=14.d7fba4c5.chunk.js.map