{"version":3,"sources":["common/Modal/components/ModalContent/index.js","common/Modal/components/ModalTitle/index.js","common/Modal/index.js","common/BottomBar/index.js","common/AddBtn/index.js","common/Line/index.tsx","common/ProfileDivider/index.tsx","common/ProfileDivider/css/ProfileDivider.module.css","images/clipboard.svg","images/qrcode.svg","common/ContentHostInput/components/ContentHostInputView.module.css","common/ContentHostInput/components/Host.module.css","common/ContentHostInput/components/Host.tsx","common/ContentHostInput/components/ContentHostInputView.tsx","common/ContentHostInput/ContentHostInput.tsx","common/ContentHostInput/index.ts","images/logo-alone.png","pages/Profile/index.tsx"],"names":["ModalContent","children","style","contentClass","className","classNames","ModalTitle","title","toggleModal","Utils","forceRenderTitleBar","hideXBtn","onClick","Modal","modalOpen","modalTitle","contentStyle","disableBackdropClose","noFullWidth","blueBtn","disableBlueBtn","onClickBlueBtn","redBtn","disableRedBtn","onClickRedBtn","error","textIfLoading","closeModal","useCallback","handleBackdropClick","modal","open","container","Loader","overlay","OVERLAY_STYLE","text","disabled","borderRadius","memo","BottomBar","useSelector","node","authToken","to","activeClassName","AddBtn","label","icon","iconURL","undefined","nestedMode","large","small","relative","useState","optionsOpen","setOptionsOpen","toggleOptionsOpen","iconElement","useMemo","src","alt","labelElement","Line","color","length","type","width","borderLeftStyle","borderLeftWidth","borderLeftColor","borderRightStyle","borderRightWidth","borderRightColor","height","borderTopStyle","borderTopWidth","borderTopColor","borderBottomStyle","borderBottomWidth","borderBottomColor","ProfileDivider","onChange","selected","showContentBtn","gStyles","styles","unselected","module","exports","Host","hostError","isBeingAddedOrDeleted","isDefault","onClickRemove","onClickWarning","price","publicKey","URI","user","Store","isConfirmingRemoval","setIsConfirmingRemoval","toggleConfirmingRemoval","confirming","handleClickOnWarning","handleRemovalConfirmation","malformedHost","JSON","stringify","pill","ShockAvatar","toLowerCase","displayName","Common","fontSize","yellow","blue","ContentHostInputView","unorderedHosts","hosts","onAddHost","onRemoveHost","onRetryHost","publicKeyOrServerURI","URIHostAwaitingForToken","setPublicKeyOrServerURIData","hostForErrorDialog","setHostForErrorDialog","setOpen","input","useRef","isPasting","setIsPasting","token","setToken","tokenInput","isPastingToken","setIsPastingToken","sortedHosts","slice","sort","a","b","dateAdded","defaultHosts","filter","h","nonDefaultHosts","handleFocus","onClickPaste","navigator","clipboard","readText","then","txt","produce","data","catch","e","alert","message","finally","current","focus","document","execCommand","blur","onClickAdd","url","handleTokenPaste","handleTokenAdd","handleHostRemoval","publicKeyOrURI","closeErrorDialog","handleRemovalOfHostWithError","handleHostRetry","target","value","onKeyUp","key","keyCode","autoCapitalize","autoCorrect","placeholder","ref","onFocus","map","host","find","ContentHostInput","dispatch","useDispatch","seedProviderPub","content","userProfiles","seedInfo","seedUrl","seedToken","setHosts","providerProfile","setProviderProfile","providedService","setProvidedService","priceToUpdate","setPriceToUpdate","providerError","setProviderError","useEffect","provProfile","avatar","offerSeedService","toSet","push","Date","now","Http","get","tmpHosts","providerIndex","findIndex","err","addHost","startsWith","setSeedInfo","setSeedProviderPub","removeHost","subscribeUserProfile","filteredHosts","Post","React","lazy","SharedPost","ProfilePage","profileModalOpen","setProfileModalOpen","deletePostModalData","setDeletePostModalData","deletePostModalLoading","setDeletePostModalLoading","posts","hostIP","myServices","orders","selectedView","setSelectedView","console","log","subscription","subscribeMyServices","rifleCleanup","subscribeUserPosts","subSharedPosts","profileConfigModalOpen","setProfileConfigModalOpen","currWebClientPrefix","webClientPrefix","newWebClientPrefix","setNewWebClientPrefix","copyWebClientUrlToClipboard","writeText","placeholderEl","querySelector","display","select","subscribeClientPrefix","debug","socket","rifle","query","onData","webClientPrefixReceived","setWebclientPrefix","onError","errorMessage","handleViewChange","view","somethingInsideConfigModalChanged","toggleConfigModal","onConfigSubmit","post","path","headerImageFileInput","settingHeader","setSettingHeader","onSelectedHeaderFile","preventDefault","files","file","imageObtained","base64","onPressHeader","click","toggleDeleteModal","deleteData","closeDeleteModal","deletePost","id","shared","deleteUserPost","authorId","copyClipboard","dnModalOpen","setDnModalOpen","newDisplayName","setNewDisplayName","newDnIfBeingSaved","setNewDnIfBeingSaved","saveNewDisplayName","toBeSaved","put","toggleDnModal","handleOkDnChange","dnModalStyle","padding","bio","bioModalOpen","setBioModalOpen","newBio","setNewBio","newBioIfBeingSaved","setNewBioIfBeingSaved","saveNewBio","toggleBioModal","handleOkBioChange","bioModalStyle","c","header","setsAvatar","greyBorder","disableOnlineRing","backgroundColor","flexDirection","justifyContent","alignItems","fontWeight","fallback","postID","originalPostID","sharerPublicKey","sharedBy","openTipModal","openUnlockModal","openDeleteModal","openShareModal","shareID","Object","entries","service","serviceType","serviceTitle","serviceDescription","serviceCondition","servicePrice","deleteService","renderServices","Pad","amt","PROFILE_MODAL_CONTENT_STYLE","bgColor","fgColor","size","imageSettings","QR_IMAGE_SETTINGS","readOnly","ClipboardIcon","htmlFor","name","AVAILABLE_WEB_CLIENT_PREFIXES","prefix","DELETE_MODAL_CONTENT_STYLE","QRCodeIcon","hidden","accept","logoAlone","excavate"],"mappings":"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","file":"static/js/19.98e0a235.chunk.js","sourcesContent":["import classNames from \"classnames\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalContent = ({ children = null, style = {}, contentClass = \"\" }) => (\n  <div className={classNames(\"content\", contentClass)} style={style}>\n    {children}\n  </div>\n);\n\nexport default ModalContent;\n","import * as Utils from \"../../../../utils\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalTitle = ({\n  title = \"\",\n  toggleModal = Utils.EMPTY_FN,\n  forceRenderTitleBar = false,\n  hideXBtn = false\n}) =>\n  title || forceRenderTitleBar ? (\n    <div className=\"head\">\n      <p className=\"head-title\">{title}</p>\n      {!hideXBtn && (\n        <div className=\"head-close\" onClick={toggleModal}>\n          <i className=\"fas fa-times\"></i>\n        </div>\n      )}\n    </div>\n  ) : null;\n\nexport default ModalTitle;\n","import { memo, useCallback } from \"react\";\nimport classNames from \"classnames\";\n\nimport * as Utils from \"../../utils\";\nimport Loader from \"../../common/Loader\";\n\nimport ModalContent from \"./components/ModalContent\";\nimport ModalTitle from \"./components/ModalTitle\";\n\nimport \"./css/index.scoped.css\";\n\nconst Modal = ({\n  modalOpen = false,\n  toggleModal,\n  modalTitle = \"\",\n  children,\n  contentStyle = Utils.EMPTY_OBJ,\n  disableBackdropClose = false,\n  forceRenderTitleBar = false,\n  hideXBtn = false,\n  noFullWidth = false,\n  blueBtn = \"\",\n  disableBlueBtn = false,\n  onClickBlueBtn = Utils.EMPTY_FN,\n  redBtn = \"\",\n  disableRedBtn = false,\n  onClickRedBtn = Utils.EMPTY_FN,\n  contentClass = \"\",\n  error = \"\",\n  textIfLoading = \"\"\n}) => {\n  const closeModal = useCallback(() => {\n    toggleModal();\n  }, [toggleModal]);\n  const handleBackdropClick = useCallback(() => {\n    if (!disableBackdropClose) {\n      toggleModal();\n    }\n  }, [disableBackdropClose, toggleModal]);\n  return (\n    <div className={classNames({ modal: true, open: modalOpen })}>\n      <div className=\"backdrop\" onClick={handleBackdropClick} />\n      <div\n        className={classNames({\n          container: true,\n          \"container-no-full-width\": noFullWidth\n        })}\n      >\n        {textIfLoading && (\n          <Loader overlay style={OVERLAY_STYLE} text={textIfLoading} />\n        )}\n\n        <ModalTitle\n          title={modalTitle}\n          toggleModal={closeModal}\n          forceRenderTitleBar={forceRenderTitleBar}\n          hideXBtn={hideXBtn}\n        />\n\n        {error && <div className={\"form-error form-error-margin\"}>{error}</div>}\n\n        <ModalContent style={contentStyle} contentClass={contentClass}>\n          {typeof children === \"string\" ? (\n            <p className=\"text-align-center\">{children}</p>\n          ) : (\n            children\n          )}\n        </ModalContent>\n\n        <div className=\"color-buttons\">\n          {blueBtn && (\n            <button\n              disabled={disableBlueBtn}\n              className={classNames(\"color-btn\", \"blue-btn\")}\n              onClick={onClickBlueBtn}\n            >\n              {blueBtn}\n            </button>\n          )}\n\n          {redBtn && (\n            <button\n              disabled={disableRedBtn}\n              className={classNames(\"color-btn\", \"red-btn\")}\n              onClick={onClickRedBtn}\n            >\n              {redBtn}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst OVERLAY_STYLE = {\n  borderRadius: \"15px\"\n};\n\nexport default memo(Modal);\n","import { memo } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"../../store\";\n\nconst BottomBar = () => {\n  const authenticated = useSelector(({ node }) => node.authToken);\n\n  if (!authenticated) {\n    return null;\n  }\n\n  return (\n    <div className=\"bottom-nav-container\">\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/overview\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-wallet\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/chat\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-chat\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/profile\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-profile\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/feed\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-feed\"></i>\n      </NavLink>\n    </div>\n  );\n};\n\nexport default memo(BottomBar);\n","import { memo, useCallback, useMemo, useState } from \"react\";\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\n\nconst AddBtn = ({\n  label = null,\n  icon = null,\n  iconURL = null,\n  onClick = undefined,\n  nestedMode = false,\n  large = false,\n  small = false,\n  relative = false,\n  children = null,\n  style = {}\n}) => {\n  const [optionsOpen, setOptionsOpen] = useState(false);\n  const toggleOptionsOpen = useCallback(() => {\n    if (nestedMode) {\n      setOptionsOpen(!optionsOpen);\n    }\n  }, [optionsOpen, nestedMode]);\n\n  const iconElement = useMemo(() => {\n    if (iconURL) {\n      return <img src={iconURL} className=\"add-btn-icon\" alt=\"\" />;\n    }\n\n    return <i className={`fas fa-${icon ?? \"plus\"}`}></i>;\n  }, [icon, iconURL]);\n\n  const labelElement = useMemo(() => {\n    if (label) {\n      return <p className=\"add-btn-label\">{label}</p>;\n    }\n\n    return null;\n  }, [label]);\n\n  return (\n    <div\n      className={classNames({\n        \"add-btn-container\": true,\n        \"add-btn-round-container\": !label,\n        \"add-btn-large\": large,\n        \"add-btn-small\": small\n      })}\n    >\n      <div\n        className={classNames({\n          \"add-btn\": true,\n          \"add-btn-round\": !label,\n          \"add-btn-extended\": !!label,\n          \"add-btn-relative\": relative,\n          \"add-btn-open\": optionsOpen,\n          \"add-btn-nested\": nestedMode\n        })}\n        onClick={onClick ?? toggleOptionsOpen}\n        style={style}\n      >\n        {iconElement}\n        {labelElement}\n      </div>\n\n      {children ? (\n        <div\n          className={classNames({\n            \"add-btn-options\": true,\n            \"add-btn-options-open\": optionsOpen\n          })}\n        >\n          {children}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(AddBtn);\n","import { memo, useMemo } from \"react\";\n\nexport interface LineProps {\n  color: string;\n  length: number;\n  type: \"vertical\" | \"horizontal\";\n  width: number;\n}\n\nconst Line = ({ color, length, type, width }: LineProps) => {\n  const style = useMemo<React.CSSProperties>(() => {\n    if (type === \"vertical\") {\n      return {\n        borderLeftStyle: \"solid\",\n        borderLeftWidth: `${width / 2}px`,\n        borderLeftColor: color,\n        borderRightStyle: \"solid\",\n        borderRightWidth: `${width / 2}px`,\n        borderRightColor: color,\n        height: length\n      };\n    }\n\n    if (type === \"horizontal\") {\n      return {\n        borderTopStyle: \"solid\",\n        borderTopWidth: width / 2,\n        borderTopColor: color,\n        borderBottomStyle: \"solid\",\n        borderBottomWidth: width / 2,\n        borderBottomColor: color,\n        width: length\n      };\n    }\n\n    return {};\n  }, [color, length, type, width]);\n\n  return <div style={style} />;\n};\n\nexport default memo(Line);\n","import { memo } from \"react\";\nimport classNames from \"classnames\";\n\nimport * as gStyles from \"../../styles\";\nimport Line from \"../Line\";\n\nimport styles from \"./css/ProfileDivider.module.css\";\n\nexport interface ProfileDividerProps {\n  onChange(newlySelected: \"posts\" | \"services\" | \"content\"): void;\n  selected: \"posts\" | \"services\" | \"content\";\n  showContentBtn?: boolean;\n}\n\nconst ProfileDivider = ({\n  onChange,\n  selected,\n  showContentBtn\n}: ProfileDividerProps) => {\n  return (\n    <div\n      className={classNames(\n        gStyles.width100,\n        gStyles.rowCentered,\n        gStyles.spaceAround,\n        gStyles.padding12,\n        styles.container\n      )}\n    >\n      <span\n        className={classNames(\n          gStyles.unselectable,\n          selected === \"posts\" ? styles.selected : styles.unselected\n        )}\n        onClick={() => {\n          onChange(\"posts\");\n        }}\n      >\n        Posts\n      </span>\n\n      <div\n        className={classNames(\n          gStyles.absolute,\n          showContentBtn && styles[\"left-line\"]\n        )}\n      >\n        <Line color=\"white\" length={16} type=\"vertical\" width={2} />\n      </div>\n\n      <span\n        className={classNames(\n          gStyles.unselectable,\n          selected === \"services\" ? styles.selected : styles.unselected\n        )}\n        onClick={() => {\n          onChange(\"services\");\n        }}\n      >\n        Services\n      </span>\n\n      {showContentBtn && (\n        <>\n          <div className={classNames(gStyles.absolute, styles[\"right-line\"])}>\n            <Line color=\"white\" length={16} type=\"vertical\" width={2} />\n          </div>\n\n          <span\n            className={classNames(\n              gStyles.unselectable,\n              selected === \"content\" ? styles.selected : styles.unselected\n            )}\n            onClick={() => {\n              onChange(\"content\");\n            }}\n          >\n            Content\n          </span>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default memo(ProfileDivider);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileDivider_container__3ob9k\",\"selected\":\"ProfileDivider_selected__3U98y\",\"unselected\":\"ProfileDivider_unselected__1Z_qd\",\"left-line\":\"ProfileDivider_left-line__2xjlN\",\"right-line\":\"ProfileDivider_right-line__1d2KH\"};","export default __webpack_public_path__ + \"static/media/clipboard.beb19e1e.svg\";","export default __webpack_public_path__ + \"static/media/qrcode.69103c6c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContentHostInputView_container__1CVAn\",\"uri-or-token-input\":\"ContentHostInputView_uri-or-token-input__3vg5h\",\"plus-or-paste-btn\":\"ContentHostInputView_plus-or-paste-btn__3z_k0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container-base\":\"Host_container-base__r5EJP\",\"remove-or-cancel\":\"Host_remove-or-cancel__2sHhe Host_container-base__r5EJP\",\"container\":\"Host_container__2hPww Host_container-base__r5EJP\",\"pill\":\"Host_pill__1WzlY\",\"display-name-or-uri\":\"Host_display-name-or-uri__2eaUy\",\"price-and-status\":\"Host_price-and-status__3Q4n3\",\"price\":\"Host_price__2oEgL\",\"red\":\"Host_red__1kS00\",\"yellow\":\"Host_yellow__3DLEG\",\"blue\":\"Host_blue__3m2Kb\"};","import { memo, useCallback, useState } from \"react\";\nimport * as Common from \"shock-common\";\nimport classNames from \"classnames\";\n\nimport ShockAvatar from \"../../ShockAvatar\";\nimport * as gStyles from \"../../../styles\";\nimport * as Store from \"../../../store\";\n\nimport styles from \"./Host.module.css\";\n\nexport interface IHost {\n  /**\n   * Can be empty if publicKey is provided.\n   */\n  URI: string | null;\n  /**\n   * Unix timestamp.\n   */\n  dateAdded: number;\n  /**\n   * An empty string means no error. If there's an error adding the host,\n   * instead of making it disappear, have it show up with a warning the user can\n   * interact with, after the user clicks on it the actual error message will\n   * show up in a dialog.\n   */\n  error: string;\n  /**\n   * The host will be rendered with an indication that it is being added as\n   * opposed to being added already.\n   */\n  isBeingAddedOrDeleted: boolean;\n  /**\n   * Will render a check mark.\n   */\n  isDefault: boolean;\n  /**\n   * In sats.\n   */\n  price: number;\n  /**\n   * Can be empty if URI is provided.\n   */\n  publicKey: string | null;\n  /**\n   * Token for the service.\n   */\n  token: string;\n}\n\nexport interface HostProps extends IHost {\n  onClickRemove(publicKeyOrURI: string): void;\n  /**\n   * Called when clicking on the warning icon on a host with an error set.\n   */\n  onClickWarning(publicKeyOrURI: string): void;\n}\n\nconst Host = ({\n  error: hostError,\n  isBeingAddedOrDeleted,\n  isDefault,\n  onClickRemove,\n  onClickWarning,\n  price,\n  publicKey,\n  URI\n}: HostProps) => {\n  const user = Store.useSelector(Store.selectUser(publicKey));\n  const [isConfirmingRemoval, setIsConfirmingRemoval] = useState<boolean>(\n    false\n  );\n  const toggleConfirmingRemoval = useCallback(() => {\n    setIsConfirmingRemoval(confirming => !confirming);\n  }, []);\n\n  const handleClickOnWarning = useCallback(() => {\n    onClickWarning(publicKey || URI);\n  }, [onClickWarning, publicKey, URI]);\n\n  const handleRemovalConfirmation = useCallback(() => {\n    onClickRemove(publicKey || URI);\n  }, [onClickRemove, publicKey, URI]);\n\n  const malformedHost =\n    (hostError && isBeingAddedOrDeleted) ||\n    (publicKey && URI) ||\n    (!publicKey && !URI);\n\n  let error = hostError;\n\n  if (malformedHost) {\n    error = `Malformed host provided to <Host />, it must have either a public key or an URI (though not both), and it must not have both truthy error and isAdding props at the same time: ${JSON.stringify(\n      malformedHost\n    )}`;\n  }\n\n  if (isConfirmingRemoval) {\n    return (\n      <div\n        className={classNames(\n          gStyles.rowCentered,\n          gStyles.centerJustify,\n          gStyles.width100\n        )}\n      >\n        <button\n          onClick={handleRemovalConfirmation}\n          className={classNames(gStyles.flatBtnFullWidth)}\n        >\n          Remove\n        </button>\n\n        <button\n          onClick={toggleConfirmingRemoval}\n          className={classNames(gStyles.flatBtnFullWidth)}\n        >\n          Cancel\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={classNames(\n        gStyles.rowCentered,\n        gStyles.spaceBetween,\n        gStyles.childrenSpaced24,\n        styles.container\n      )}\n    >\n      <div\n        className={classNames(\n          gStyles.rowCentered,\n          gStyles.spaceBetween,\n          gStyles.childrenSpaced8,\n          styles.pill\n        )}\n      >\n        {publicKey ? (\n          <ShockAvatar height={24} publicKey={publicKey} />\n        ) : (\n          <i className={classNames(\"fas fa-globe\")}></i>\n        )}\n\n        <span className={styles[\"display-name-or-uri\"]}>\n          {(URI && URI.toLowerCase()) ||\n            user.displayName ||\n            Common.defaultName(publicKey)}\n        </span>\n\n        {isBeingAddedOrDeleted || error ? (\n          <div />\n        ) : (\n          <span\n            className=\"fas fa-times\"\n            onClick={toggleConfirmingRemoval}\n            style={{\n              fontSize: 12\n            }}\n          />\n        )}\n      </div>\n\n      <div\n        className={classNames(\n          gStyles.flex,\n          gStyles.childrenSpaced24,\n          styles[\"price-and-status\"]\n        )}\n      >\n        <span className={classNames(gStyles.flex, styles.price)}>\n          {price} sats\n        </span>\n\n        {(() => {\n          if (error) {\n            return (\n              <i\n                className={classNames(\n                  \"fas fa-exclamation-triangle\",\n                  gStyles.fontSize12,\n                  styles.yellow\n                )}\n                onClick={handleClickOnWarning}\n              />\n            );\n          }\n\n          if (isBeingAddedOrDeleted) {\n            return (\n              <i\n                className={classNames(\n                  \"fas fa-hourglass-half\",\n                  gStyles.fontSize12,\n                  styles.yellow\n                )}\n              />\n            );\n          }\n\n          if (isDefault) {\n            return (\n              <i\n                className={classNames(\n                  \"fas fa-check\",\n                  gStyles.fontSize12,\n                  styles.blue\n                )}\n              />\n            );\n          }\n\n          return (\n            <i\n              className={classNames(\n                \"fas fa-link\",\n                gStyles.fontSize12,\n                styles.blue\n              )}\n            ></i>\n          );\n        })()}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Host);\n","import { memo, useCallback, useMemo, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport produce from \"immer\";\n\nimport * as gStyles from \"../../../styles\";\nimport Modal from \"../../Modal\";\nimport * as Utils from \"../../../utils\";\n\nimport styles from \"./ContentHostInputView.module.css\";\nimport Host, { IHost as _IHost } from \"./Host\";\n\nexport type IHost = _IHost;\n\nexport interface ContentHostInputViewProps {\n  hosts: IHost[];\n  /**\n   * A token will be provided if the content host being added is a URI, the\n   * token will be required from the user before calling this callback.\n   */\n  onAddHost(publicKeyOrServerURI: string, token?: string): void;\n  onRemoveHost(publicKeyOrServerURI: string): void;\n  /**\n   * If a host has an error set, the user will be offered to retry adding it.\n   */\n  onRetryHost(publicKeyOrServerURI: string): void;\n}\n\nconst ContentHostInputView = ({\n  hosts: unorderedHosts,\n  onAddHost,\n  onRemoveHost,\n  onRetryHost\n}: ContentHostInputViewProps) => {\n  type PublicKeyOrServerURIData = {\n    publicKeyOrServerURI: string;\n    URIHostAwaitingForToken: string;\n  };\n  const [\n    { publicKeyOrServerURI, URIHostAwaitingForToken },\n    setPublicKeyOrServerURIData\n  ] = useState<PublicKeyOrServerURIData>({\n    publicKeyOrServerURI: \"\",\n    URIHostAwaitingForToken: \"\"\n  });\n  const [hostForErrorDialog, setHostForErrorDialog] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const input = useRef<HTMLInputElement>(null);\n  const [isPasting, setIsPasting] = useState(false);\n  const [token, setToken] = useState(\"\");\n  const tokenInput = useRef<HTMLInputElement>(null);\n  const [isPastingToken, setIsPastingToken] = useState(false);\n\n  const sortedHosts = useMemo(\n    () =>\n      unorderedHosts.slice().sort((a, b) => {\n        return b.dateAdded - a.dateAdded;\n      }),\n    [unorderedHosts]\n  );\n\n  const defaultHosts = useMemo(() => sortedHosts.filter(h => h.isDefault), [\n    sortedHosts\n  ]);\n\n  const nonDefaultHosts = useMemo(() => sortedHosts.filter(h => !h.isDefault), [\n    sortedHosts\n  ]);\n\n  const hosts = useMemo(() => [...defaultHosts, ...nonDefaultHosts], [\n    defaultHosts,\n    nonDefaultHosts\n  ]);\n\n  const handleFocus = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  const onClickPaste = useCallback(() => {\n    if (isPasting) {\n      return;\n    }\n\n    if (navigator.clipboard) {\n      setIsPasting(true);\n      navigator.clipboard\n        .readText()\n        .then(txt => {\n          setPublicKeyOrServerURIData(\n            produce((data: PublicKeyOrServerURIData) => {\n              data.publicKeyOrServerURI = txt;\n            })\n          );\n        })\n        .catch(e => {\n          alert(`Could not paste: ${e.message}`);\n        })\n        .finally(() => {\n          setIsPasting(false);\n        });\n    } else {\n      if (input.current) {\n        input.current.focus();\n        document.execCommand(\"paste\");\n        input.current.blur();\n      }\n    }\n  }, [isPasting, setIsPasting]);\n\n  const onClickAdd = useCallback(() => {\n    setPublicKeyOrServerURIData(\n      produce((data: PublicKeyOrServerURIData) => {\n        const url = Utils.normalizeURL(data.publicKeyOrServerURI);\n\n        if (url) {\n          data.publicKeyOrServerURI = url;\n          data.URIHostAwaitingForToken = url;\n        }\n      })\n    );\n\n    const url = Utils.normalizeURL(publicKeyOrServerURI);\n\n    if (!url) {\n      onAddHost(publicKeyOrServerURI);\n    }\n  }, [setPublicKeyOrServerURIData, publicKeyOrServerURI, onAddHost]);\n\n  const handleTokenPaste = useCallback(() => {\n    if (isPastingToken) {\n      return;\n    }\n\n    if (navigator.clipboard) {\n      setIsPastingToken(true);\n      navigator.clipboard\n        .readText()\n        .then(txt => {\n          setToken(txt);\n        })\n        .catch(e => {\n          alert(`Could not paste: ${e.message}`);\n        })\n        .finally(() => {\n          setIsPastingToken(false);\n        });\n    } else {\n      if (tokenInput.current) {\n        tokenInput.current.focus();\n        document.execCommand(\"paste\");\n        tokenInput.current.blur();\n      }\n    }\n  }, [isPastingToken, setIsPastingToken, setToken]);\n\n  const handleTokenAdd = useCallback(() => {\n    setPublicKeyOrServerURIData(\n      produce((data: PublicKeyOrServerURIData) => {\n        data.publicKeyOrServerURI = \"\";\n        data.URIHostAwaitingForToken = \"\";\n      })\n    );\n\n    onAddHost(publicKeyOrServerURI, token);\n  }, [setPublicKeyOrServerURIData, onAddHost, publicKeyOrServerURI, token]);\n\n  const handleHostRemoval = useCallback(\n    (publicKeyOrURI: string) => {\n      onRemoveHost(publicKeyOrURI);\n    },\n    [onRemoveHost]\n  );\n\n  const closeErrorDialog = useCallback(() => {\n    setHostForErrorDialog(\"\");\n  }, [setHostForErrorDialog]);\n\n  const handleRemovalOfHostWithError = useCallback(() => {\n    onRemoveHost(hostForErrorDialog);\n    closeErrorDialog();\n  }, [onRemoveHost, hostForErrorDialog, closeErrorDialog]);\n\n  const handleHostRetry = useCallback(() => {\n    onRetryHost(hostForErrorDialog);\n    setHostForErrorDialog(\"\");\n  }, [onRetryHost, hostForErrorDialog, setHostForErrorDialog]);\n\n  return (\n    <>\n      <div\n        className={classNames(gStyles.col, gStyles.width100, styles.container)}\n      >\n        <div className={(gStyles.row, gStyles.centerJustify)}>\n          {/* https://stackoverflow.com/a/15314433 */}\n          <input\n            className={classNames(\"input-field\", styles[\"uri-or-token-input\"])}\n            onChange={e => {\n              setPublicKeyOrServerURIData(\n                produce((data: PublicKeyOrServerURIData) => {\n                  data.publicKeyOrServerURI = e.target.value;\n                  data.URIHostAwaitingForToken = \"\";\n                })\n              );\n\n              setToken(\"\");\n            }}\n            type=\"text\"\n            value={publicKeyOrServerURI}\n            onKeyUp={e => {\n              if (e.key === \"Enter\" || e.keyCode === 13) {\n                onClickAdd();\n              }\n            }}\n            autoCapitalize=\"off\"\n            autoCorrect=\"none\"\n            placeholder=\"Provider Pubkey or Server URI (include https or http)\"\n            ref={input}\n            onFocus={handleFocus}\n          />\n\n          {publicKeyOrServerURI.length === 0 && (\n            <button\n              className={classNames(\n                gStyles.flatBtn,\n                styles[\"plus-or-paste-btn\"]\n              )}\n              disabled={isPasting}\n              onClick={onClickPaste}\n            >\n              <i className=\"fas fa-paste\"></i>\n            </button>\n          )}\n\n          {publicKeyOrServerURI.length > 0 &&\n            publicKeyOrServerURI !== URIHostAwaitingForToken && (\n              <button\n                className={classNames(\n                  gStyles.flatBtn,\n                  styles[\"plus-or-paste-btn\"]\n                )}\n                disabled={publicKeyOrServerURI.length === 0}\n                onClick={onClickAdd}\n              >\n                +\n              </button>\n            )}\n        </div>\n\n        {publicKeyOrServerURI.length > 0 &&\n          publicKeyOrServerURI === URIHostAwaitingForToken && (\n            <div className={(gStyles.row, gStyles.centerJustify)}>\n              <input\n                className={classNames(\n                  \"input-field\",\n                  styles[\"uri-or-token-input\"]\n                )}\n                onChange={e => {\n                  setToken(e.target.value);\n                }}\n                type=\"text\"\n                value={token}\n                onKeyUp={e => {\n                  if (e.key === \"Enter\" || e.keyCode === 13) {\n                    handleTokenAdd();\n                  }\n                }}\n                autoCapitalize=\"off\"\n                autoCorrect=\"none\"\n                placeholder=\"Token (required)\"\n                ref={tokenInput}\n              />\n\n              {token.length === 0 && (\n                <button\n                  className={classNames(\n                    gStyles.flatBtn,\n                    styles[\"plus-or-paste-btn\"]\n                  )}\n                  disabled={isPastingToken}\n                  onClick={handleTokenPaste}\n                >\n                  <i className=\"fas fa-paste\"></i>\n                </button>\n              )}\n\n              {token.length > 0 && (\n                <button\n                  className={classNames(\n                    gStyles.flatBtn,\n                    styles[\"plus-or-paste-btn\"]\n                  )}\n                  disabled={token.length === 0}\n                  onClick={handleTokenAdd}\n                >\n                  +\n                </button>\n              )}\n            </div>\n          )}\n\n        <div className={classNames(gStyles.col)}>\n          {(open ? hosts : defaultHosts).map(host => (\n            <Host\n              URI={host.URI}\n              dateAdded={0}\n              error={host.error}\n              isBeingAddedOrDeleted={host.isBeingAddedOrDeleted}\n              isDefault={host.isDefault}\n              key={host.publicKey || host.URI}\n              onClickRemove={handleHostRemoval}\n              onClickWarning={setHostForErrorDialog}\n              price={host.price}\n              publicKey={host.publicKey}\n              token={host.token}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* TODO: change to global modal */}\n      <Modal\n        modalOpen={!!hostForErrorDialog}\n        forceRenderTitleBar\n        toggleModal={closeErrorDialog}\n        blueBtn=\"Retry\"\n        onClickBlueBtn={handleHostRetry}\n        redBtn=\"Remove\"\n        onClickRedBtn={handleRemovalOfHostWithError}\n        noFullWidth\n        contentClass=\"p-1\"\n        hideXBtn\n      >\n        <p className=\"text-align-center\">\n          {\n            hosts.find(\n              h =>\n                h.publicKey === hostForErrorDialog ||\n                h.URI === hostForErrorDialog\n            )?.error\n          }\n        </p>\n      </Modal>\n    </>\n  );\n};\n\nexport default memo(ContentHostInputView);\n","import { memo, useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport * as Store from \"../../store\";\nimport { subscribeUserProfile } from \"../../actions/UserProfilesActions\";\n\nimport ContentHostInputView, { IHost } from \"./components/ContentHostInputView\";\nimport { Http } from \"../../utils\";\nimport { setSeedInfo, setSeedProviderPub } from \"../../actions/ContentActions\";\nimport * as Utils from \"../../utils\";\n\nconst ContentHostInput = () => {\n  const dispatch = useDispatch();\n  const seedProviderPub = Store.useSelector(\n    ({ content }) => content.seedProviderPub\n  );\n  const userProfiles = Store.useSelector(({ userProfiles }) => userProfiles);\n  const { seedUrl, seedToken } = Store.useSelector(\n    ({ content }) => content.seedInfo\n  );\n  const [hosts, setHosts] = useState<IHost[]>([]);\n  const [providerProfile, setProviderProfile] = useState(null);\n  const [providedService, setProvidedService] = useState(\"\");\n  const [priceToUpdate, setPriceToUpdate] = useState(0);\n  const [providerError, setProviderError] = useState(\"\");\n  //effect for user profile\n  useEffect(() => {\n    const provProfile = userProfiles[seedProviderPub];\n    if (!provProfile) {\n      setProviderProfile(null);\n      return;\n    }\n    if (!providerProfile) {\n      setProviderProfile(provProfile);\n      return;\n    }\n    if (provProfile.avatar !== providerProfile.avatar) {\n      setProviderProfile(provProfile);\n      return;\n    }\n    if (\n      // @ts-expect-error\n      provProfile.offerSeedService !== providerProfile.offerSeedService\n    ) {\n      setProviderProfile(provProfile);\n      return;\n    }\n  }, [userProfiles, seedProviderPub, providerProfile, setProviderProfile]);\n  //effect to check provided service\n  useEffect(() => {\n    if (!providerProfile) {\n      return;\n    }\n    const { offerSeedService } = providerProfile;\n    if (offerSeedService !== providedService) {\n      setProvidedService(offerSeedService);\n    }\n  }, [providerProfile, providedService, setProvidedService]);\n  //effect to populate the hosts\n  useEffect(() => {\n    let toSet: IHost[] = [];\n    if (seedUrl && seedToken) {\n      toSet.push({\n        URI: seedUrl,\n        token: seedToken,\n        price: 0,\n        isBeingAddedOrDeleted: false,\n        dateAdded: Date.now(),\n        isDefault: true,\n        error: null,\n        publicKey: null\n      });\n    }\n    if (seedProviderPub && providerProfile) {\n      toSet.push({\n        dateAdded: Date.now(),\n        isBeingAddedOrDeleted: true,\n        isDefault: true,\n        publicKey: seedProviderPub,\n        price: 0,\n        URI: null,\n        token: null,\n        error: null\n      });\n    }\n    setHosts(toSet);\n  }, [seedUrl, seedToken, seedProviderPub, providerProfile, setHosts]);\n  //effect to fetch provided service\n  useEffect(() => {\n    if (!providedService) {\n      return;\n    }\n    Http.get(\n      `/api/gun/otheruser/${seedProviderPub}/once/offeredServices>${providedService}>servicePrice`\n    )\n      .then(({ data }) => {\n        setPriceToUpdate(data.data);\n      })\n      .catch(e => {\n        setProviderError(e);\n      });\n  }, [providedService, seedProviderPub, setPriceToUpdate, setProviderError]);\n  //effect to update service\n  useEffect(() => {\n    const tmpHosts = [...hosts];\n    const providerIndex = tmpHosts.findIndex(host => !host.URI);\n    if (\n      providerIndex === -1 ||\n      tmpHosts[providerIndex].price === priceToUpdate\n    ) {\n      return;\n    }\n    tmpHosts[providerIndex].isBeingAddedOrDeleted = false;\n    tmpHosts[providerIndex].price = priceToUpdate;\n    setHosts(tmpHosts);\n  }, [priceToUpdate, setPriceToUpdate, hosts, setHosts]);\n  //effect to update error\n  useEffect(() => {\n    //@ts-expect-error\n    const err = providerError.message || providerError;\n    const tmpHosts = [...hosts];\n    const providerIndex = tmpHosts.findIndex(host => !host.URI);\n    if (providerIndex === -1 || err === tmpHosts[providerIndex].error) {\n      return;\n    }\n    tmpHosts[providerIndex].isBeingAddedOrDeleted = false;\n    tmpHosts[providerIndex].error = err;\n    setHosts(tmpHosts);\n  }, [providerError, setProviderError, hosts, setHosts]);\n\n  const addHost = useCallback(\n    (publicKeyOrURI: string, token?: string) => {\n      try {\n        if (publicKeyOrURI.startsWith(\"http\")) {\n          setSeedInfo(publicKeyOrURI, token!)(dispatch);\n        } else {\n          setSeedProviderPub(publicKeyOrURI)(dispatch);\n        }\n      } catch (e) {\n        alert(`Could not add host: ${e.message}`);\n        Utils.logger.error(\"Could not add host: \", e);\n      }\n    },\n    [dispatch]\n  );\n\n  const removeHost = useCallback(\n    (publicKeyOrURI: string) => {\n      try {\n        if (publicKeyOrURI.startsWith(\"http\")) {\n          setSeedInfo(\"\", \"\")(dispatch);\n        } else {\n          setSeedProviderPub(\"\")(dispatch);\n        }\n      } catch (e) {\n        alert(`Could not remove host: ${e.message}`);\n        Utils.logger.error(\"Could not remove host: \", e);\n      }\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    const unsubscribe = (dispatch(\n      subscribeUserProfile(seedProviderPub)\n    ) as unknown) as () => void;\n\n    return unsubscribe;\n  }, [seedProviderPub, dispatch]);\n  const filteredHosts = useMemo(() => {\n    return hosts.filter(h => h);\n  }, [hosts]);\n  return (\n    <ContentHostInputView\n      hosts={filteredHosts}\n      onAddHost={addHost}\n      onRemoveHost={removeHost}\n      onRetryHost={() => {}}\n    />\n  );\n};\n\nexport default memo(ContentHostInput);\n","import ContentHostInput from \"./ContentHostInput\";\n\nexport default ContentHostInput;\n","export default __webpack_public_path__ + \"static/media/logo-alone.512c5854.png\";","import React, {\n  Suspense,\n  memo,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n  useRef,\n  InputHTMLAttributes\n} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport QRCode, { ImageSettings } from \"qrcode.react\";\nimport { Link } from \"react-router-dom\";\nimport c from \"classnames\";\nimport * as Common from \"shock-common\";\n\nimport * as Utils from \"../../utils\";\nimport {\n  deleteService,\n  subscribeMyServices\n} from \"../../actions/OrdersActions\";\nimport * as gStyles from \"../../styles\";\n\nimport BottomBar from \"../../common/BottomBar\";\nimport AddBtn from \"../../common/AddBtn\";\nimport Modal from \"../../common/Modal\";\nimport Loader from \"../../common/Loader\";\nimport ShockAvatar from \"../../common/ShockAvatar\";\nimport ContentHostInput from \"../../common/ContentHostInput\";\nimport ProfileDivider from \"../../common/ProfileDivider\";\nimport Pad from \"../../common/Pad\";\n\nimport ClipboardIcon from \"../../images/clipboard.svg\";\nimport logoAlone from \"../../images/logo-alone.png\";\nimport QRCodeIcon from \"../../images/qrcode.svg\";\nimport * as Store from \"../../store\";\nimport { rifle, rifleCleanup } from \"../../utils/WebSocket\";\n\nimport \"./css/index.scoped.css\";\nimport {\n  deleteUserPost,\n  subSharedPosts,\n  subscribeUserPosts\n} from \"../../actions/FeedActions\";\nimport { setWebclientPrefix } from \"../../actions/NodeActions\";\n\nconst Post = React.lazy(() => import(\"../../common/Post\"));\nconst SharedPost = React.lazy(() => import(\"../../common/Post/SharedPost\"));\n\nexport type WebClientPrefix =\n  | \"https://onlysats.page\"\n  | \"https://shock.pub\"\n  | \"https://lightning.page\"\n  | \"https://shock.page\"\n  | \"https://satoshi.watch\";\n\nconst ProfilePage = () => {\n  const dispatch = Store.useDispatch();\n  const [profileModalOpen, setProfileModalOpen] = useState(false);\n  const [deletePostModalData, setDeletePostModalData] = useState(null);\n  const [deletePostModalLoading, setDeletePostModalLoading] = useState(false);\n\n  const publicKey = Store.useSelector(({ node }) => node.publicKey);\n  const posts = Store.useSelector(Store.selectPostsNewestToOldest(publicKey));\n  const hostIP = Store.useSelector(({ node }) => node.hostIP);\n\n  const myServices = Store.useSelector(({ orders }) => orders.myServices);\n  const [selectedView, setSelectedView] = useState<\"posts\" | \"services\">(\n    \"posts\"\n  );\n  const user = useSelector(Store.selectSelfUser);\n\n  useEffect(() => {\n    console.log(user);\n    //@ts-expect-error\n    if (!user.offerSeedService) {\n      return;\n    }\n    //@ts-expect-error\n    const subscription = subscribeMyServices(user.offerSeedService)(dispatch);\n\n    return rifleCleanup(subscription);\n  }, [dispatch, user]);\n\n  useEffect(() => dispatch(subscribeUserPosts(publicKey)), [\n    dispatch,\n    publicKey\n  ]);\n\n  useEffect(() => dispatch(subSharedPosts(publicKey)), [dispatch, publicKey]);\n\n  const toggleModal = useCallback(() => {\n    setProfileModalOpen(!profileModalOpen);\n  }, [profileModalOpen]);\n\n  // ------------------------------------------------------------------------ //\n  // CONFIG MODAL\n\n  const [profileConfigModalOpen, setProfileConfigModalOpen] = useState(false);\n  const currWebClientPrefix = Store.useSelector(\n    ({ node }) => node.webClientPrefix\n  );\n  const [newWebClientPrefix, setNewWebClientPrefix] = useState<WebClientPrefix>(\n    currWebClientPrefix\n  );\n\n  const copyWebClientUrlToClipboard = useCallback(() => {\n    // some browsers/platforms don't support navigator.clipboard\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(newWebClientPrefix + \"/\" + publicKey);\n    } else {\n      const placeholderEl = document.querySelector(\n        \"#web-client-url-holder\"\n      ) as HTMLInputElement;\n      placeholderEl.style.display = \"block\";\n      placeholderEl.select();\n      document.execCommand(\"copy\");\n      placeholderEl.blur();\n      placeholderEl.style.display = \"none\";\n    }\n  }, [newWebClientPrefix, publicKey]);\n\n  const subscribeClientPrefix = useCallback(() => {\n    // Extraneous logs but helps us not having eslint complain about these\n    // \"unnecessary\" dependencies below without disabling the\n    console.debug(\n      `Subbing to webclient prefix on hostIP --| ${hostIP} |-- and public key --| ${publicKey} |--`\n    );\n    const query = `$user::Profile>webClientPrefix::on`;\n\n    const socket = rifle({\n      query,\n      onData: (webClientPrefixReceived: unknown) => {\n        if (\n          typeof webClientPrefixReceived === \"string\" &&\n          webClientPrefixReceived !== currWebClientPrefix\n        ) {\n          setWebclientPrefix(webClientPrefixReceived as WebClientPrefix)(\n            dispatch\n          );\n        }\n      },\n      onError: (errorMessage: string) => {\n        console.error(\n          `There was an error fetching web client prefix: ${errorMessage}`\n        );\n      }\n    });\n\n    return rifleCleanup(socket);\n  }, [\n    currWebClientPrefix,\n    dispatch,\n    hostIP,\n    publicKey /* handles alias/hostIP switch */\n  ]);\n\n  useEffect(() => {\n    const unsubscribe = subscribeClientPrefix();\n\n    return unsubscribe;\n  }, [subscribeClientPrefix]);\n\n  const handleViewChange = useCallback((view: \"posts\" | \"services\") => {\n    setSelectedView(view);\n  }, []);\n  //#region configModal ----------------------------------------------------- //\n  const somethingInsideConfigModalChanged =\n    newWebClientPrefix !== currWebClientPrefix;\n\n  const toggleConfigModal = useCallback(() => {\n    setProfileConfigModalOpen(open => !open);\n    setNewWebClientPrefix(currWebClientPrefix);\n  }, [currWebClientPrefix]);\n\n  const onConfigSubmit = useCallback(() => {\n    if (newWebClientPrefix !== currWebClientPrefix) {\n      setWebclientPrefix(newWebClientPrefix)(dispatch);\n      Utils.Http.post(`/api/gun/put`, {\n        path: \"$user>Profile>webClientPrefix\",\n        value: newWebClientPrefix\n      }).catch(e => {\n        alert(\n          `There was an error setting your web client prefix: ${e.message}`\n        );\n      });\n    }\n    toggleConfigModal();\n  }, [newWebClientPrefix, currWebClientPrefix, toggleConfigModal, dispatch]);\n  //#endregion configModal -------------------------------------------------- //\n  //#region header ---------------------------------------------------------- //\n  const headerImageFileInput = useRef<HTMLInputElement>(null);\n  const [settingHeader, setSettingHeader] = useState<boolean>(false);\n\n  const onSelectedHeaderFile: InputHTMLAttributes<{}>[\"onChange\"] = async e => {\n    try {\n      e.preventDefault();\n      if (settingHeader) {\n        return;\n      }\n\n      setSettingHeader(true);\n\n      const { files } = (e.target as unknown) as {\n        files: readonly Utils.File[];\n      };\n\n      if (files.length === 0) {\n        return;\n      }\n\n      if (files.length !== 1) {\n        Utils.logger.error(`Profile -> files.length !== 1`);\n        alert(\n          `An error occurred while trying to set a header. This has been logged.`\n        );\n        return;\n      }\n\n      const [file] = files;\n\n      const imageObtained = await Utils.processImageFile(file, 800, 0.9);\n\n      const DATA_URL_TYPE_PREFIX = \"data:image/jpeg;base64,\";\n      const base64 = imageObtained.slice(DATA_URL_TYPE_PREFIX.length);\n\n      await Utils.Http.post(`/api/gun/put`, {\n        path: \"$user>profileBinary>header\",\n        value: base64\n      });\n    } catch (e) {\n      Utils.logger.error(`Error while trying to load new header.`);\n      Utils.logger.error(e);\n      alert(`There was an error loading the new header: ${e.message}`);\n    } finally {\n      setSettingHeader(false);\n    }\n  };\n\n  const onPressHeader = useCallback(e => {\n    e.preventDefault();\n    const { current } = headerImageFileInput;\n    if (!current) {\n      Utils.logger.error(\"File input element for avatar is falsy.\");\n      alert(\"There was an error and it was logged.\");\n    }\n    current.click();\n  }, []);\n  //#endregion header ------------------------------------------------------- //\n  //#region deleteModal------------------------------------------------------ //\n  const toggleDeleteModal = useCallback(\n    deleteData => {\n      console.log(deleteData);\n      if (deletePostModalData || !deleteData) {\n        setDeletePostModalData(null);\n      }\n      setDeletePostModalData(deleteData);\n    },\n    [deletePostModalData]\n  );\n  const closeDeleteModal = useCallback(() => {\n    setDeletePostModalData(null);\n  }, []);\n\n  const deletePost = useCallback(async () => {\n    try {\n      if (!deletePostModalData || !deletePostModalData.id) {\n        return;\n      }\n      setDeletePostModalLoading(true);\n      console.log(\"deleting:\");\n      console.log(deletePostModalData);\n      const key = deletePostModalData.shared ? \"sharedPosts\" : \"posts\";\n      await Utils.Http.post(\"/api/gun/put\", {\n        path: `$user>${key}>${deletePostModalData.id}`,\n        value: null\n      });\n      dispatch(\n        deleteUserPost({\n          id: deletePostModalData.id,\n          authorId: publicKey\n        })\n      );\n      toggleDeleteModal(null);\n      setDeletePostModalLoading(false);\n    } catch (e) {\n      setDeletePostModalLoading(false);\n      console.log(`Error when deleting post:`);\n      console.log(e);\n      alert(`Could not delete post: ${e.message}`);\n    }\n  }, [\n    deletePostModalData,\n    dispatch,\n    publicKey,\n    toggleDeleteModal,\n    setDeletePostModalLoading\n  ]);\n  const copyClipboard = useCallback(() => {\n    try {\n      // some browsers/platforms don't support navigator.clipboard\n      if (navigator.clipboard) {\n        const text = `${currWebClientPrefix}/${publicKey}`;\n        navigator.clipboard.writeText(text);\n      } else {\n        const placeholderEl = document.querySelector(\n          \"#public-key-holder\"\n        ) as HTMLInputElement;\n        placeholderEl.style.display = \"block\";\n        placeholderEl.select();\n        document.execCommand(\"copy\");\n        placeholderEl.blur();\n        placeholderEl.style.display = \"none\";\n        setProfileModalOpen(false);\n      }\n    } catch (e) {\n      alert(`Could not copy to clipboard: ${e.message}`);\n    }\n  }, [currWebClientPrefix, publicKey]);\n\n  const AVATAR_SIZE = 122;\n\n  const renderPosts = () => {\n    return posts.map(post => {\n      if (Common.isSharedPost(post)) {\n        return (\n          <Suspense fallback={<Loader />} key={post.shareID}>\n            <SharedPost\n              postID={post.originalPostID}\n              sharerPublicKey={post.sharedBy}\n              openTipModal={Utils.EMPTY_FN}\n              openUnlockModal={Utils.EMPTY_FN}\n              openDeleteModal={toggleDeleteModal}\n              openShareModal={null}\n            />\n          </Suspense>\n        );\n      }\n\n      return (\n        <Suspense fallback={<Loader />} key={post.id}>\n          <Post\n            id={post.id}\n            publicKey={post.authorId}\n            openTipModal={Utils.EMPTY_FN}\n            openUnlockModal={Utils.EMPTY_FN}\n            openDeleteModal={toggleDeleteModal}\n            openShareModal={null}\n          />\n        </Suspense>\n      );\n    });\n  };\n  const renderServices = () => {\n    /*@ts-expect-error*/\n    if (!user.offerSeedService) {\n      return;\n    }\n    return (\n      Object.entries(myServices)\n        /*@ts-expect-error*/\n        .filter(([id, service]) => !!service && user.offerSeedService === id)\n        .map(([id, serv]) => {\n          const service = serv as Record<string, string>;\n          const deleteCB = () => {\n            console.log(\"delete wtf\");\n            deleteService(id)(dispatch);\n          };\n          return (\n            <div className=\"post\" key={id}>\n              <strong>Service ID</strong>\n              <p>{id}</p>\n              <strong>Service Tpe</strong>\n              <p>{service.serviceType || \"\"}</p>\n              <strong>Service Title</strong>\n              <p>{service.serviceTitle || \"\"}</p>\n              <strong>Service Description</strong>\n              <p>{service.serviceDescription || \"\"}</p>\n              <strong>Service Condition</strong>\n              <p>{service.serviceCondition || \"\"}</p>\n              <strong>Service Price</strong>\n              <p>{service.servicePrice || \"\"}</p>\n              <button onClick={deleteCB}>DELETE SERVICE</button>\n            </div>\n          );\n        })\n    );\n  };\n  //#endregion deleteModal------------------------------------------------------ //\n  //#region displayName ----------------------------------------------------- //\n  const [dnModalOpen, setDnModalOpen] = useState(false);\n  const { displayName } = user;\n  // stores the display name input value\n  const [newDisplayName, setNewDisplayName] = useState(\n    user.displayName || \"Anon\"\n  );\n  // stores the new display name while it's being uploaded\n  const [newDnIfBeingSaved, setNewDnIfBeingSaved] = useState<string | null>(\n    null\n  );\n  const saveNewDisplayName = useCallback((toBeSaved: string) => {\n    if (toBeSaved === \"\") {\n      return;\n    }\n    setNewDnIfBeingSaved(toBeSaved); // optimistically render new display name\n    Utils.Http.put(\"/api/gun/me\", {\n      displayName: toBeSaved\n    }).catch(e => {\n      setNewDnIfBeingSaved(null); // reverts to existing display name\n      alert(`There was an error setting a new display name: ${e.message}`);\n    });\n  }, []);\n  useEffect(() => {\n    // set placeholder display name back to null after getting the round trip\n    // from api\n    if (newDnIfBeingSaved === displayName) {\n      console.debug(`Got display name round trip from api.`);\n      setNewDnIfBeingSaved(null);\n    }\n  }, [newDnIfBeingSaved, displayName]);\n  const toggleDnModal = useCallback(() => {\n    setNewDisplayName(displayName);\n    setDnModalOpen(open => !open);\n  }, [displayName]);\n  const handleOkDnChange = useCallback(() => {\n    if (newDisplayName !== displayName) {\n      saveNewDisplayName(newDisplayName);\n    }\n    toggleDnModal();\n  }, [displayName, newDisplayName, saveNewDisplayName, toggleDnModal]);\n  const dnModalStyle = useMemo<React.CSSProperties>(\n    () => ({\n      padding: \"12px 24px\"\n    }),\n    []\n  );\n  const handleNewDisplayNameChange = ({ target: { value } }) => {\n    setNewDisplayName(value);\n  };\n  //#endregion displayName -------------------------------------------------- //\n  //#region bio ------------------------------------------------------------- //\n  const { bio } = user;\n  const [bioModalOpen, setBioModalOpen] = useState(false);\n  // stores the bio input value\n  const [newBio, setNewBio] = useState(bio || \"bio\");\n  // stores the new bio while it's being uploaded\n  const [newBioIfBeingSaved, setNewBioIfBeingSaved] = useState<string | null>(\n    null\n  );\n  const saveNewBio = useCallback((toBeSaved: string) => {\n    if (toBeSaved === \"\") {\n      return;\n    }\n    setNewBioIfBeingSaved(toBeSaved); // optimistically render new bio\n    Utils.Http.put(\"/api/gun/me\", {\n      bio: toBeSaved\n    }).catch(e => {\n      setNewBioIfBeingSaved(null); // reverts to existing bio\n      alert(`There was an error setting a new bio: ${e.message}`);\n    });\n  }, []);\n  useEffect(() => {\n    // set placeholder bio back to null after getting the round trip\n    // from api\n    if (newBioIfBeingSaved === bio) {\n      console.debug(`Got bio round trip from api.`);\n      setNewBioIfBeingSaved(null);\n    }\n  }, [newBioIfBeingSaved, bio]);\n  const toggleBioModal = useCallback(() => {\n    setNewBio(bio);\n    setBioModalOpen(open => !open);\n  }, [bio]);\n  const handleOkBioChange = useCallback(() => {\n    if (newBio !== bio) {\n      saveNewBio(newBio);\n    }\n    toggleBioModal();\n  }, [bio, newBio, saveNewBio, toggleBioModal]);\n  const bioModalStyle = useMemo<React.CSSProperties>(\n    () => ({\n      padding: \"12px 24px\"\n    }),\n    []\n  );\n  const handleNewBioChange = ({ target: { value } }) => {\n    setNewBio(value);\n  };\n  //#endregion bio ---------------------------------------------------------- //\n\n  return (\n    <>\n      <div className=\"page-container profile-page\">\n        <div className=\"profile-container\">\n          <div\n            className={c({\n              \"profile-cover\": true,\n              [gStyles.relative]: true,\n              \"profile-cover-has-cover\": !!user.header\n            })}\n            onClick={onPressHeader}\n          >\n            {user.header && (\n              <img\n                alt=\"User set profile header.\"\n                src={`data:image/jpeg;base64,${user.header}`}\n              />\n            )}\n\n            <i\n              className={c(\n                gStyles.absoluteDeadCenter,\n                \"fas\",\n                \"fa-pencil-alt\",\n                \"cover-pencil\"\n              )}\n            />\n          </div>\n          <div className=\"profile-info-container\">\n            <div\n              className=\"profile-avatar\"\n              style={{\n                height: `${AVATAR_SIZE}px`,\n                width: `${AVATAR_SIZE}px`\n              }}\n            >\n              <ShockAvatar\n                height={AVATAR_SIZE}\n                publicKey={publicKey}\n                setsAvatar\n                greyBorder\n                disableOnlineRing\n              />\n            </div>\n\n            <div className=\"profile-info\">\n              <p\n                className={c(gStyles.unselectable, \"profile-name\")}\n                onClick={toggleDnModal}\n              >\n                {newDnIfBeingSaved || displayName}\n\n                <i className=\"fas fa-pencil-alt pencil-btn\" />\n              </p>\n              <p\n                className={c(gStyles.unselectable, \"profile-desc\")}\n                onClick={toggleBioModal}\n              >\n                {newBioIfBeingSaved || user.bio || \"Lightning.Page user\"}\n\n                <i className=\"fas fa-pencil-alt pencil-btn\" />\n              </p>\n              <div className=\"config-btn\" onClick={toggleConfigModal}>\n                <i className=\"config-btn-icon icon-solid-spending-rule\" />\n                <p className=\"config-btn-text\">Config</p>\n              </div>\n            </div>\n          </div>\n          <div>\n            <Link to={\"/goLive\"} className=\"profile-choice-container\">\n              <div\n                style={{\n                  backgroundColor: \"red\",\n                  color: \"white\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  padding: \"0.2em 0.5em\",\n                  borderRadius: \"0.7em\",\n                  fontSize: \"16px\",\n                  fontWeight: 600\n                }}\n              >\n                <i className=\"fas fa-video\"></i>\n                <p>GO LIVE</p>\n              </div>\n            </Link>\n            <Link to={\"/createPost\"} className=\"profile-choice-container\">\n              <i className=\"profile-choice-icon fas fa-pen-square\"></i>\n              <p className=\"profile-choice-text\">Create Post</p>\n            </Link>\n            <Link to={\"/publishContent\"} className=\"profile-choice-container\">\n              <i className=\"profile-choice-icon fab fa-youtube\"></i>\n              <p className=\"profile-choice-text\">Publish Content</p>\n            </Link>\n            <button className=\"profile-choice-container\">\n              <i className=\"profile-choice-icon fas fa-shopping-cart\"></i>\n              <p className=\"profile-choice-text\">Offer a Product</p>\n            </button>\n            <Link to={\"/offerService\"} className=\"profile-choice-container\">\n              <i className=\"profile-choice-icon fas fa-running\"></i>\n              <p className=\"profile-choice-text\">Offer a Service</p>\n            </Link>\n          </div>\n\n          <ProfileDivider onChange={handleViewChange} selected={selectedView} />\n          <div className=\"\">\n            {selectedView === \"posts\" && renderPosts()}\n            {selectedView === \"services\" && renderServices()}\n          </div>\n\n          {/* Allow some wiggle room to avoid the QR btn covering the view selector */}\n          <Pad amt={200} />\n\n          {profileModalOpen && (\n            <Modal\n              toggleModal={toggleModal}\n              modalOpen={profileModalOpen}\n              contentStyle={PROFILE_MODAL_CONTENT_STYLE}\n              noFullWidth\n            >\n              <QRCode\n                bgColor=\"#23282d\"\n                fgColor=\"#64bbff\"\n                value={`${currWebClientPrefix}/${publicKey}`}\n                size={180}\n                className=\"profile-qrcode\"\n                imageSettings={QR_IMAGE_SETTINGS}\n              />\n              <p className=\"profile-qrcode-desc\">\n                Other users can scan this code to contact you\n              </p>\n\n              {!navigator.clipboard && (\n                <input\n                  className=\"hidden-input\"\n                  id=\"public-key-holder\"\n                  readOnly\n                  type=\"text\"\n                  value={`${currWebClientPrefix}/${publicKey}`}\n                ></input>\n              )}\n              <div\n                className=\"profile-clipboard-container\"\n                onClick={copyClipboard}\n              >\n                <img\n                  src={ClipboardIcon}\n                  className=\"profile-clipboard-icon\"\n                  alt=\"\"\n                />\n                <p className=\"profile-clipboard-text\">\n                  Tap to copy to clipboard\n                </p>\n              </div>\n            </Modal>\n          )}\n\n          {profileConfigModalOpen && (\n            <Modal\n              toggleModal={toggleConfigModal}\n              modalOpen={profileConfigModalOpen}\n              contentClass=\"p-2\"\n              forceRenderTitleBar\n              blueBtn={somethingInsideConfigModalChanged && \"Save\"}\n              onClickBlueBtn={onConfigSubmit}\n            >\n              <label htmlFor=\"new-web-client-prefix\">Web Client</label>\n\n              <div className=\"web-client-prefix-picker\">\n                <i\n                  className=\"far fa-copy\"\n                  onClick={copyWebClientUrlToClipboard}\n                  style={{ fontSize: 24 }}\n                />\n\n                <select\n                  onChange={e => {\n                    setNewWebClientPrefix(e.target.value as WebClientPrefix);\n                  }}\n                  name=\"new-web-client-prefix\"\n                  id=\"new-web-client-prefix\"\n                  value={newWebClientPrefix}\n                >\n                  {AVAILABLE_WEB_CLIENT_PREFIXES.map(prefix => (\n                    <option key={prefix} value={prefix}>\n                      {prefix}\n                    </option>\n                  ))}\n                </select>\n\n                <span>/</span>\n\n                <span style={{ fontSize: 12 }}>{publicKey}</span>\n              </div>\n\n              {!navigator.clipboard && (\n                <input\n                  className=\"hidden-input\"\n                  id=\"web-client-url-holder\"\n                  readOnly\n                  type=\"text\"\n                  value={newWebClientPrefix + \"/\" + publicKey}\n                ></input>\n              )}\n\n              <br></br>\n\n              <label htmlFor=\"content-host\">Content Host</label>\n\n              <ContentHostInput />\n            </Modal>\n          )}\n\n          {deletePostModalData && (\n            <Modal\n              toggleModal={toggleDeleteModal}\n              modalOpen={deletePostModalData}\n              contentStyle={DELETE_MODAL_CONTENT_STYLE}\n              blueBtn={!deletePostModalLoading && \"Cancel\"}\n              disableBlueBtn={deletePostModalLoading}\n              onClickBlueBtn={closeDeleteModal}\n              redBtn={!deletePostModalLoading && \"Delete\"}\n              disableRedBtn={deletePostModalLoading}\n              onClickRedBtn={deletePost}\n              noFullWidth\n            >\n              {!deletePostModalLoading && (\n                <span className=\"text-align-center\">Are you sure?</span>\n              )}\n              {deletePostModalLoading && <Loader />}\n            </Modal>\n          )}\n\n          <AddBtn\n            onClick={toggleModal}\n            large\n            iconURL={QRCodeIcon}\n            icon={null}\n            label={null}\n          />\n        </div>\n\n        <BottomBar />\n      </div>\n\n      <input\n        type=\"file\"\n        id=\"avatar-file\"\n        ref={headerImageFileInput}\n        hidden\n        accept=\"image/*\"\n        onChange={onSelectedHeaderFile}\n      />\n\n      {\n        //#region displayNameModal\n      }\n      {dnModalOpen && (\n        <Modal\n          contentStyle={dnModalStyle}\n          modalOpen={dnModalOpen}\n          toggleModal={toggleDnModal}\n          blueBtn=\"Save\"\n          disableBlueBtn={\n            newDisplayName === displayName || newDisplayName === \"\"\n          }\n          onClickBlueBtn={handleOkDnChange}\n          noFullWidth\n          modalTitle=\"NEW DISPLAY NAME\"\n        >\n          <input\n            autoCapitalize=\"none\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            className=\"input-field\"\n            placeholder={\"New display name\"}\n            name=\"newDisplayName\"\n            onChange={handleNewDisplayNameChange}\n            value={newDisplayName}\n          />\n        </Modal>\n      )}\n\n      {\n        //#endregion displayNameModal\n      }\n\n      {\n        //#region bioModal\n      }\n      {bioModalOpen && (\n        <Modal\n          contentStyle={bioModalStyle}\n          modalOpen={bioModalOpen}\n          toggleModal={toggleBioModal}\n          modalTitle=\"NEW BIO\"\n          blueBtn=\"Save\"\n          onClickBlueBtn={handleOkBioChange}\n          disableBlueBtn={newBio === bio || newBio === \"\"}\n          forceRenderTitleBar\n          noFullWidth\n        >\n          <input\n            autoCapitalize=\"none\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            className=\"input-field\"\n            placeholder={\"New bio\"}\n            name=\"newBio\"\n            onChange={handleNewBioChange}\n            value={newBio}\n          />\n        </Modal>\n      )}\n      {\n        //#endregion bioModal\n      }\n    </>\n  );\n};\n\nconst AVAILABLE_WEB_CLIENT_PREFIXES: readonly WebClientPrefix[] = [\n  \"https://onlysats.page\",\n  \"https://shock.pub\",\n  \"https://lightning.page\",\n  \"https://shock.page\",\n  \"https://satoshi.watch\"\n];\n\nconst QR_IMAGE_SETTINGS: ImageSettings = {\n  src: logoAlone,\n  height: 36,\n  width: 36,\n  excavate: true\n};\n\nconst PROFILE_MODAL_CONTENT_STYLE = {\n  padding: \"40px 30px\"\n};\n\nconst DELETE_MODAL_CONTENT_STYLE = {\n  padding: \"2em 2em\"\n};\n\nexport default memo(ProfilePage);\n"],"sourceRoot":""}