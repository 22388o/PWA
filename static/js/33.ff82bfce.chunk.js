(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[33],{746:function(e,a,t){},747:function(e,a,t){},748:function(e,a,t){},917:function(e,a,t){"use strict";t.r(a);var c=t(13),n=t(0),s=t(88),d=t.n(s),r=t(645),i=(t(746),t(613)),l=(t(747),t(4)),o=function(e){var a=e.onInputChange,t=e.amount,c=e.description;return Object(l.jsxs)("div",{className:"container","data-v-f75274bb":"",children:[Object(l.jsxs)("div",{className:"inputs-group","data-v-f75274bb":"",children:[Object(l.jsx)(i.a,{name:"amount",label:"Enter Amount",onChange:a,value:t,inputMode:"decimal","data-v-f75274bb":""}),Object(l.jsxs)("select",{name:"unit",className:"unit-dropdown",onChange:a,"data-v-f75274bb":"",children:[Object(l.jsx)("option",{value:"sats","data-v-f75274bb":"",children:"Sats"}),Object(l.jsx)("option",{value:"msats","data-v-f75274bb":"",children:"mSats"}),Object(l.jsx)("option",{value:"btc","data-v-f75274bb":"",children:"BTC"})]})]}),Object(l.jsx)(i.a,{name:"description",label:"Description",element:"textarea",onChange:a,value:c,"data-v-f75274bb":""})]})},b=Object(n.memo)(o),j=t(3),u=t.n(j),v=t(5),p=t(26),O=t(653),h=t.n(O),f=t(183),m=t(712),x=t(30),g=(t(748),t(664)),k=t(711),N=t(607),C=function(e){var a=e.amount,t=void 0===a?0:a,s=e.description,r=void 0===s?"N/A":s,i=e.unit,o=void 0===i?"":i,b=e.prevStep,j=Object(p.g)(),O=Object(n.useState)(""),C=Object(c.a)(O,2),w=C[0],y=C[1],S=Object(n.useState)(""),A=Object(c.a)(S,2),E=A[0],T=A[1],D=Object(n.useState)(!1),I=Object(c.a)(D,2),M=I[0],q=I[1],R=Object(n.useState)(!1),F=Object(c.a)(R,2),J=F[0],L=F[1],U=Object(n.useState)(),z=Object(c.a)(U,2),B=z[0],Q=z[1],W=Object(n.useState)(""),_=Object(c.a)(W,2),G=_[0],H=_[1],K=Object(n.useState)(!1),P=Object(c.a)(K,2),V=P[0],X=P[1],Y=Object(n.useCallback)(Object(v.a)(u.a.mark((function e(){var a,c,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,x.a.post("/api/lnd/addinvoice",{value:t,memo:r,expiry:100});case 4:a=e.sent,c=a.data,y(c.payment_request),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),H(null!==(n=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data.errorMessage)&&void 0!==n?n:"An unknown error has occurred");case 12:return e.prev=12,q(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[t,r]),Z=Object(n.useCallback)(Object(v.a)(u.a.mark((function e(){var a,t,c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,x.a.post("/api/lnd/newaddress",{type:"p2wkh"});case 4:a=e.sent,t=a.data,T(t.address),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),H(null!==(c=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data.errorMessage)&&void 0!==c?c:"An unknown error has occurred");case 12:return e.prev=12,q(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),$=Object(n.useCallback)(function(){var e=Object(v.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){V?Y():Z()}),[Y,Z,V]);var ee=Object(n.useCallback)((function(){X(!V)}),[V]),ae=Object(n.useRef)(),te=Object(n.useCallback)((function(){try{var e=V?w:E;if(navigator.clipboard)navigator.clipboard.writeText(e);else{var a=ae.current;if(!a)throw new ReferenceError("When trying to access the ref for the placeholder input to copy, the ref was null.");a.style.display="block",a.select(),document.execCommand("copy"),a.blur(),a.style.display="none"}}catch(t){console.error(t),H(t.message)}}),[V,w,E]),ce=Object(n.useCallback)(Object(v.a)(u.a.mark((function e(){var a,t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B)try{L(!0),L(!1),j.push("/overview")}catch(n){H(null!==(a=null!==(t=null===n||void 0===n||null===(c=n.response)||void 0===c?void 0:c.data.errorMessage)&&void 0!==t?t:null===n||void 0===n?void 0:n.message)&&void 0!==a?a:"An unknown error has occurred"),L(!1)}case 1:case"end":return e.stop()}}),e)}))),[B,j]);return Object(l.jsxs)("div",{className:"container","data-v-184dab1d":"",children:[J?Object(l.jsx)(f.a,{overlay:!0,text:"Sending Invoice...","data-v-184dab1d":""}):null,V?B?Object(l.jsx)(g.a,{selected:!0,contact:B,selectContact:$,style:void 0,"data-v-184dab1d":""}):Object(l.jsx)(k.a,{selectContact:$,features:["contact"],"data-v-184dab1d":""}):null,Object(l.jsxs)("div",{className:"qr-code-container","data-v-184dab1d":"",children:[Object(l.jsx)("div",{className:"qr-code","data-v-184dab1d":"",children:M?Object(l.jsx)(f.a,{overlay:!0,small:!0,text:"","data-v-184dab1d":""}):Object(l.jsx)(h.a,{value:V?w:E,size:180,fgColor:V?"#f5a623":"#4285b9",bgColor:"#001220","data-v-184dab1d":""})}),Object(l.jsxs)("div",{className:d()({mode:!0,"lightning-active":V}),onClick:ee,"data-v-184dab1d":"",children:[Object(l.jsx)("p",{className:"switch-name on-chain-switch","data-v-184dab1d":"",children:"On-Chain"}),Object(l.jsx)("div",{className:"switch","data-v-184dab1d":"",children:Object(l.jsx)("div",{className:"switch-handle","data-v-184dab1d":""})}),Object(l.jsx)("p",{className:"switch-name lightning-switch","data-v-184dab1d":"",children:"Lightning"})]})]}),Object(l.jsxs)("div",{className:"copy-clipboard-btn",onClick:te,"data-v-184dab1d":"",children:[Object(l.jsx)("i",{className:"fas fa-copy","data-v-184dab1d":""}),Object(l.jsx)("p",{className:"copy-clipboard-btn-text","data-v-184dab1d":"",children:"Copy to Clipboard"})]}),!navigator.clipboard&&Object(l.jsx)("input",{className:N.s,readOnly:!0,ref:ae,type:"text",value:V?w:E,"data-v-184dab1d":""}),G?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{"data-v-184dab1d":"",children:G}),Object(l.jsx)("br",{"data-v-184dab1d":""}),Object(l.jsx)("span",{className:"inline-link",onClick:H.bind(null,""),"data-v-184dab1d":"",children:"Dismiss"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"details","data-v-184dab1d":"",children:[Object(l.jsx)("p",{className:"details-change",onClick:b,"data-v-184dab1d":"",children:"Change"}),Object(l.jsxs)("div",{className:"detail","data-v-184dab1d":"",children:[Object(l.jsx)("p",{className:"detail-title","data-v-184dab1d":"",children:"Amount"}),Object(l.jsxs)("p",{className:"detail-value","data-v-184dab1d":"",children:[t," ",o.toUpperCase()]})]}),Object(l.jsxs)("div",{className:"detail","data-v-184dab1d":"",children:[Object(l.jsx)("p",{className:"detail-title","data-v-184dab1d":"",children:"Description"}),Object(l.jsx)("p",{className:"detail-value","data-v-184dab1d":"",children:r})]})]}),V&&B?Object(l.jsx)(m.a,{wrapperStyle:{padding:0,marginTop:23},slideText:"SLIDE TO SEND",onSuccess:ce,disabled:!1,"data-v-184dab1d":""}):null]})]})},w=Object(n.memo)(C),y=Array.from({length:2}),S=function(){var e=Object(n.useState)(0),a=Object(c.a)(e,2),t=a[0],s=a[1],i=Object(n.useState)(""),o=Object(c.a)(i,2),j=o[0],u=o[1],v=Object(n.useState)(0),p=Object(c.a)(v,2),O=p[0],h=p[1],f=Object(n.useState)("sats"),m=Object(c.a)(f,2),x=m[0],g=m[1],k=Object(n.useCallback)((function(e){"amount"===e.target.name&&s(e.target.value),"description"===e.target.name&&u(e.target.value),"unit"===e.target.name&&g(e.target.value)}),[]),N=Object(n.useCallback)((function(){O<1&&h(O+1)}),[O]),C=Object(n.useCallback)((function(){O>0&&h(O-1)}),[O]),S=Object(n.useCallback)((function(){return 0===O?Object(l.jsx)(b,{amount:t,description:j,onInputChange:k,"data-v-e2cffda1":""}):1===O?Object(l.jsx)(w,{amount:t,description:j,unit:x,prevStep:C,"data-v-e2cffda1":""}):void 0}),[O,t,j,k,C,x]),A=1===O;return Object(l.jsxs)(r.a,{title:"REQUEST","data-v-e2cffda1":"",children:[S(),Object(l.jsxs)("div",{className:"footer","data-v-e2cffda1":"",children:[A?null:Object(l.jsxs)("div",{className:"controls","data-v-e2cffda1":"",children:[Object(l.jsx)("div",{className:"control",onClick:N,"data-v-e2cffda1":"",children:"Skip"}),Object(l.jsx)("div",{className:"control next",onClick:N,"data-v-e2cffda1":"",children:"Next"})]}),Object(l.jsx)("div",{className:"indicators","data-v-e2cffda1":"",children:y.map((function(e,a){return Object(l.jsx)("div",{className:d()({indicator:!0,"indicator-active":a===O}),"data-v-e2cffda1":""},a)}))})]})]})};a.default=Object(n.memo)(S)}}]);
//# sourceMappingURL=33.ff82bfce.chunk.js.map