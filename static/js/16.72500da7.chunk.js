(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[16],{482:function(e,t,n){"use strict";var c=n(3),a=n(73),i=n.n(a),o=(n(484),n(7)),s=function(e){var t=e.children,n=e.style;return Object(o.jsx)("div",{className:"modal-content",style:n,children:t})},r=(n(485),function(e){var t=e.title,n=e.toggleModal;return t?Object(o.jsxs)("div",{className:"modal-head",children:[Object(o.jsx)("p",{className:"modal-head-title",children:t}),Object(o.jsx)("div",{className:"modal-head-close",onClick:n,children:Object(o.jsx)("i",{className:"fas fa-times"})})]}):null});n(486),t.a=function(e){var t=e.modalOpen,n=void 0!==t&&t,a=e.toggleModal,l=e.modalTitle,d=void 0===l?"":l,u=e.children,b=e.contentStyle,j=void 0===b?{}:b,p=Object(c.useCallback)((function(){a()}),[a]);return Object(o.jsxs)("div",{className:i()({modal:!0,"modal-open":n}),children:[Object(o.jsx)("div",{className:"modal-backdrop",onClick:p}),Object(o.jsxs)("div",{className:"modal-container",children:[Object(o.jsx)(r,{title:d,toggleModal:p}),Object(o.jsx)(s,{style:j,children:u})]})]})}},484:function(e,t,n){},485:function(e,t,n){},486:function(e,t,n){},493:function(e,t,n){"use strict";var c=n(53),a=n(7);t.a=function(){return Object(a.jsxs)("div",{className:"bottom-nav-container",children:[Object(a.jsx)(c.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(a.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(a.jsx)(c.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(a.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(a.jsx)(c.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(a.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(a.jsx)(c.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(a.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},500:function(e,t,n){"use strict";var c=n(17),a=n(3),i=n(73),o=n.n(i),s=(n(501),n(7));t.a=function(e){var t=e.label,n=void 0===t?null:t,i=e.icon,r=void 0===i?null:i,l=e.iconURL,d=void 0===l?null:l,u=e.onClick,b=void 0===u?void 0:u,j=e.nestedMode,p=void 0!==j&&j,f=e.large,h=void 0!==f&&f,O=e.small,m=void 0!==O&&O,v=e.relative,x=void 0!==v&&v,g=e.children,y=void 0===g?null:g,N=e.style,k=void 0===N?{}:N,C=Object(a.useState)(!1),w=Object(c.a)(C,2),S=w[0],_=w[1],R=Object(a.useCallback)((function(){p&&_(!S)}),[S,p]),D=Object(a.useMemo)((function(){return d?Object(s.jsx)("img",{src:d,className:"add-btn-icon",alt:""}):Object(s.jsx)("i",{className:"fas fa-".concat(null!==r&&void 0!==r?r:"plus")})}),[r,d]),I=Object(a.useMemo)((function(){return n?Object(s.jsx)("p",{className:"add-btn-label",children:n}):null}),[n]);return Object(s.jsxs)("div",{className:o()({"add-btn-container":!0,"add-btn-round-container":!n,"add-btn-large":h,"add-btn-small":m}),children:[Object(s.jsxs)("div",{className:o()({"add-btn":!0,"add-btn-round":!n,"add-btn-extended":!!n,"add-btn-relative":x,"add-btn-open":S,"add-btn-nested":p}),onClick:null!==b&&void 0!==b?b:R,style:k,children:[D,I]}),y?Object(s.jsx)("div",{className:o()({"add-btn-options":!0,"add-btn-options-open":S}),children:y}):null]})}},501:function(e,t,n){},502:function(e,t,n){},526:function(e,t,n){e.exports={container:"ProfileDivider_container__3ob9k",selected:"ProfileDivider_selected__3U98y",unselected:"ProfileDivider_unselected__1Z_qd",divider:"ProfileDivider_divider__1IzYV"}},527:function(e,t,n){"use strict";t.a=n.p+"static/media/clipboard.beb19e1e.svg"},528:function(e,t,n){"use strict";t.a=n.p+"static/media/qrcode.69103c6c.svg"},573:function(e,t,n){"use strict";var c=n(73),a=n.n(c),i=n(491),o=n(3),s=n(7),r=function(e){var t=e.color,n=e.length,c=e.type,a=e.width,i=Object(o.useMemo)((function(){return"vertical"===c?{borderLeftStyle:"solid",borderLeftWidth:"".concat(a/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(a/2,"px"),borderRightColor:t,height:n}:"horizontal"===c?{borderTopStyle:"solid",borderTopWidth:a/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:a/2,borderBottomColor:t,width:n}:{}}),[t,n,c,a]);return Object(s.jsx)("div",{style:i})},l=n(526),d=n.n(l);t.a=function(e){var t=e.onChange,n=e.selected;return Object(s.jsxs)("div",{className:a()(i.w,i.s,i.t,i.q,d.a.container),children:[Object(s.jsx)("span",{className:a()(i.v,"posts"===n&&d.a.selected,"services"===n&&d.a.unselected),onClick:function(){t("posts")},children:"Posts"}),Object(s.jsx)("div",{className:i.a,children:Object(s.jsx)(r,{color:"white",length:16,type:"vertical",width:2})}),Object(s.jsx)("span",{className:a()(i.v,"services"===n&&d.a.selected,"posts"===n&&d.a.unselected),onClick:function(){t("services")},children:"Services"})]})}},627:function(e,t,n){e.exports={container:"ContentHostInputView_container__1CVAn","uri-or-token-input":"ContentHostInputView_uri-or-token-input__3vg5h","plus-or-paste-btn":"ContentHostInputView_plus-or-paste-btn__3z_k0"}},628:function(e,t,n){e.exports={"container-base":"Host_container-base__r5EJP","remove-or-cancel":"Host_remove-or-cancel__2sHhe Host_container-base__r5EJP",container:"Host_container__2hPww Host_container-base__r5EJP",pill:"Host_pill__1WzlY","display-name-or-uri":"Host_display-name-or-uri__2eaUy","price-and-status":"Host_price-and-status__3Q4n3",price:"Host_price__2oEgL",red:"Host_red__1kS00",yellow:"Host_yellow__3DLEG",blue:"Host_blue__3m2Kb"}},753:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(5),o=n(17),s=n(3),r=n.n(s),l=n(37),d=n(525),u=n.n(d),b=n(53),j=n(92),p=n(60),f=n(105),h=n(493),O=n(500),m=n(482),v=n(150),x=n(492),g=n(20),y=n(34),N=n(15),k=n(73),C=n.n(k),w=n(84),S=n(491),_=n(627),R=n.n(_),D=n(22),I=n(628),P=n.n(I),T=n(7),U=function(e){var t=e.error,n=e.isBeingAddedOrDeleted,c=e.isDefault,a=e.onClickRemove,i=e.onClickWarning,r=e.price,l=e.publicKey,d=e.URI,u=g.useSelector(g.selectUser(l)),b=Object(s.useState)(!1),j=Object(o.a)(b,2),p=j[0],f=j[1],h=Object(s.useCallback)((function(){f((function(e){return!e}))}),[]),O=Object(s.useCallback)((function(){i(l||d)}),[i,l,d]),m=Object(s.useCallback)((function(){a(l||d)}),[a,l,d]),v=t&&n||l&&d||!l&&!d,y=t;return v&&(y="Malformed host provided to <Host />, it must have either a public key or an URI (though not both), and it must not have both truthy error and isAdding props at the same time: ".concat(JSON.stringify(v))),p?Object(T.jsxs)("div",{className:C()(S.s,S.d,S.w),children:[Object(T.jsx)("button",{onClick:m,className:C()(S.j),children:"Remove"}),Object(T.jsx)("button",{onClick:h,className:C()(S.j),children:"Cancel"})]}):Object(T.jsxs)("div",{className:C()(S.s,S.u,S.f,P.a.container),children:[Object(T.jsxs)("div",{className:C()(S.s,S.u,S.g,P.a.pill),children:[l?Object(T.jsx)(x.a,{height:24,publicKey:l}):Object(T.jsx)("i",{className:C()("fas fa-globe")}),Object(T.jsx)("span",{className:P.a["display-name-or-uri"],children:d&&d.toLowerCase()||u.displayName||D.e(l)}),n||y?Object(T.jsx)("div",{}):Object(T.jsx)("span",{className:"fas fa-times",onClick:h,style:{fontSize:12}})]}),Object(T.jsxs)("div",{className:C()(S.k,S.f,P.a["price-and-status"]),children:[Object(T.jsxs)("span",{className:C()(S.k,P.a.price),children:[r," sats"]}),y?Object(T.jsx)("i",{className:C()("fas fa-exclamation-triangle",S.l,P.a.yellow),onClick:O}):n?Object(T.jsx)("i",{className:C()("fas fa-hourglass-half",S.l,P.a.yellow)}):c?Object(T.jsx)("i",{className:C()("fas fa-check",S.l,P.a.blue)}):Object(T.jsx)("i",{className:C()("fas fa-link",S.l,P.a.blue)})]})]})},A=C()(S.s,S.w,S.d,S.e,S.q),M=function(e){var t,n=e.hosts,c=e.onAddHost,a=e.onRemoveHost,i=e.onRetryHost,r=Object(s.useState)({publicKeyOrServerURI:"",URIHostAwaitingForToken:""}),l=Object(o.a)(r,2),d=l[0],u=d.publicKeyOrServerURI,b=d.URIHostAwaitingForToken,j=l[1],f=Object(s.useState)(""),h=Object(o.a)(f,2),O=h[0],v=h[1],x=Object(s.useState)(!1),g=Object(o.a)(x,2),y=g[0],k=g[1],_=Object(s.useRef)(null),D=Object(s.useState)(!1),I=Object(o.a)(D,2),P=I[0],M=I[1],H=Object(s.useState)(""),E=Object(o.a)(H,2),K=E[0],L=E[1],B=Object(s.useRef)(null),z=Object(s.useState)(!1),F=Object(o.a)(z,2),q=F[0],W=F[1],V=Object(s.useMemo)((function(){return n.slice().sort((function(e,t){return t.dateAdded-e.dateAdded}))}),[n]),$=Object(s.useMemo)((function(){return V.filter((function(e){return e.isDefault}))}),[V]),J=Object(s.useMemo)((function(){return V.filter((function(e){return!e.isDefault}))}),[V]),Y=Object(s.useMemo)((function(){return[].concat(Object(N.a)($),Object(N.a)(J))}),[$,J]),G=Object(s.useCallback)((function(){k(!0)}),[]),Q=Object(s.useCallback)((function(){P||(navigator.clipboard?(M(!0),navigator.clipboard.readText().then((function(e){j(Object(w.a)((function(t){t.publicKeyOrServerURI=e})))})).catch((function(e){alert("Could not paste: ".concat(e.message))})).finally((function(){M(!1)}))):_.current&&(_.current.focus(),document.execCommand("paste"),_.current.blur()))}),[P,M]),Z=Object(s.useCallback)((function(){j(Object(w.a)((function(e){var t=p.e(e.publicKeyOrServerURI);t&&(e.publicKeyOrServerURI=t,e.URIHostAwaitingForToken=t)}))),p.e(u)||c(u)}),[j,u,c]),X=Object(s.useCallback)((function(){q||(navigator.clipboard?(W(!0),navigator.clipboard.readText().then((function(e){L(e)})).catch((function(e){alert("Could not paste: ".concat(e.message))})).finally((function(){W(!1)}))):B.current&&(B.current.focus(),document.execCommand("paste"),B.current.blur()))}),[q,W,L]),ee=Object(s.useCallback)((function(){j(Object(w.a)((function(e){e.publicKeyOrServerURI="",e.URIHostAwaitingForToken=""}))),c(u,K)}),[j,c,u,K]),te=Object(s.useCallback)((function(e){a(e)}),[a]),ne=Object(s.useCallback)((function(){v("")}),[v]),ce=Object(s.useCallback)((function(){a(O),ne()}),[a,O,ne]),ae=Object(s.useCallback)((function(){i(O),v("")}),[i,O,v]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:C()(S.h,S.w,R.a.container),children:[Object(T.jsxs)("div",{className:(S.r,S.d),children:[Object(T.jsx)("input",{className:C()("input-field",R.a["uri-or-token-input"]),onChange:function(e){j(Object(w.a)((function(t){t.publicKeyOrServerURI=e.target.value,t.URIHostAwaitingForToken=""}))),L("")},type:"text",value:u,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||Z()},autoCapitalize:"off",autoCorrect:"none",placeholder:"Provider Pubkey or Server URI (include https or http)",ref:_,onFocus:G}),0===u.length&&Object(T.jsx)("button",{className:C()(S.i,R.a["plus-or-paste-btn"]),disabled:P,onClick:Q,children:Object(T.jsx)("i",{className:"fas fa-paste"})}),u.length>0&&u!==b&&Object(T.jsx)("button",{className:C()(S.i,R.a["plus-or-paste-btn"]),disabled:0===u.length,onClick:Z,children:"+"})]}),u.length>0&&u===b&&Object(T.jsxs)("div",{className:(S.r,S.d),children:[Object(T.jsx)("input",{className:C()("input-field",R.a["uri-or-token-input"]),onChange:function(e){L(e.target.value)},type:"text",value:K,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||ee()},autoCapitalize:"off",autoCorrect:"none",placeholder:"Token (required)",ref:B}),0===K.length&&Object(T.jsx)("button",{className:C()(S.i,R.a["plus-or-paste-btn"]),disabled:q,onClick:X,children:Object(T.jsx)("i",{className:"fas fa-paste"})}),K.length>0&&Object(T.jsx)("button",{className:C()(S.i,R.a["plus-or-paste-btn"]),disabled:0===K.length,onClick:ee,children:"+"})]}),Object(T.jsx)("div",{className:C()(S.h),children:(y?Y:$).map((function(e){return Object(T.jsx)(U,{URI:e.URI,dateAdded:0,error:e.error,isBeingAddedOrDeleted:e.isBeingAddedOrDeleted,isDefault:e.isDefault,onClickRemove:te,onClickWarning:v,price:e.price,publicKey:e.publicKey,token:e.token},e.publicKey||e.URI)}))})]}),Object(T.jsx)(m.a,{modalOpen:!!O,modalTitle:null===(t=Y.find((function(e){return e.publicKey===O||e.URI===O})))||void 0===t?void 0:t.error,toggleModal:ne,children:Object(T.jsxs)("div",{className:A,children:[Object(T.jsx)("button",{onClick:ce,className:"shock-form-button m-1",children:"REMOVE"}),Object(T.jsx)("button",{onClick:ae,className:"shock-form-button-confirm m-1",children:"RETRY"})]})})]})},H=n(41),E=function(){var e=Object(l.c)(),t=g.useSelector((function(e){return e.content.seedProviderPub})),n=g.useSelector((function(e){return e.userProfiles})),c=g.useSelector((function(e){return e.content.seedInfo})),a=c.seedUrl,i=c.seedToken,r=Object(s.useState)([]),d=Object(o.a)(r,2),u=d[0],b=d[1];Object(s.useEffect)((function(){var e=null;if(a&&i&&(e={URI:a,token:i,price:0,isBeingAddedOrDeleted:!1,dateAdded:Date.now(),isDefault:!0,error:null,publicKey:null},b([e])),console.log(n),t&&!n[t]&&b([e,{dateAdded:Date.now(),isBeingAddedOrDeleted:!0,isDefault:!0,publicKey:t,price:0,URI:null,token:null,error:null}]),t&&n[t]){var c=n[t].SeedServiceProvided;c&&(b([e,{dateAdded:Date.now(),isBeingAddedOrDeleted:!0,isDefault:!0,publicKey:t,price:0,URI:null,token:null,error:null}]),p.b.get("/api/gun/otheruser/".concat(t,"/load/offeredServices>").concat(c)).then((function(n){var c=n.data.data;console.log(c),b([e,{dateAdded:Date.now(),isBeingAddedOrDeleted:!1,isDefault:!0,publicKey:t,price:c.servicePrice,URI:null,token:null,error:null}])})).catch((function(n){b([e,{dateAdded:Date.now(),isBeingAddedOrDeleted:!1,isDefault:!0,publicKey:t,price:0,URI:null,token:null,error:n.message||n}])})))}}),[a,i,t,b]);var j=Object(s.useCallback)((function(t,n){t.startsWith("http")?Object(H.h)(t,n)(e):Object(H.i)(t)(e)}),[H.h,H.i]),f=Object(s.useCallback)((function(t){t.startsWith("http")?Object(H.h)("","")(e):Object(H.i)("")(e)}),[H.h,H.i]);Object(s.useMemo)((function(){return[]}),[]);Object(s.useEffect)((function(){return e(Object(y.b)(t)),function(){e(Object(y.c)(t))}}),[t,e]);var h=Object(s.useMemo)((function(){return u.filter((function(e){return e}))}),[u]);return Object(T.jsx)(M,{hosts:h,onAddHost:j,onRemoveHost:f,onRetryHost:function(){}})},K=n(573),L=n(498),B=n(527),z=n(528),F=n(25),q=(n(502),n(50)),W=r.a.lazy((function(){return Promise.all([n.e(1),n.e(3)]).then(n.bind(null,523))})),V=r.a.lazy((function(){return Promise.all([n.e(2),n.e(1),n.e(5)]).then(n.bind(null,744))})),$=["https://shock.pub","https://shock.page","https://lightning.page","https://satoshi.watch"];t.default=function(){var e=Object(l.c)(),t=Object(s.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],d=Object(s.useState)(null),y=Object(o.a)(d,2),N=y[0],k=y[1],C=g.useSelector((function(e){return e.feed.posts})),w=g.useSelector((function(e){return e.node.publicKey})),S=g.useSelector((function(e){return e.node.hostIP})),_=g.useSelector((function(e){return e.userProfiles})),R=g.useSelector((function(e){return e.orders.myServices})),D=g.useSelector((function(e){return e.content.availableTokens})),I=g.useSelector((function(e){return e.content.availableStreamTokens})),P=Object(s.useState)("posts"),U=Object(o.a)(P,2),A=U[0],M=U[1],H=Object(l.d)(g.selectSelfUser),J=Object(s.useMemo)((function(){return C&&C[w]?C[w].sort((function(e,t){return t.date-e.date})):[]}),[C,w]);console.log(C),console.log(J);var Y=Object(s.useMemo)((function(){return Object(j.c)(w,H.displayName)}),[w,H.displayName]);Object(s.useEffect)((function(){var t=Object(f.e)(S)(e);return function(){t.then((function(e){return e()}))}}),[S,e]);var G=Object(s.useCallback)((function(){r(!c)}),[c]),Q=Object(s.useState)(!1),Z=Object(o.a)(Q,2),X=Z[0],ee=Z[1],te=Object(s.useState)(H.displayName),ne=Object(o.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(s.useState)(H.bio),oe=Object(o.a)(ie,2),se=oe[0],re=oe[1],le=Object(s.useState)($[0]),de=Object(o.a)(le,2),ue=de[0],be=de[1],je=Object(s.useState)($[0]),pe=Object(o.a)(je,2),fe=pe[0],he=pe[1],Oe=Object(s.useCallback)((function(){if(navigator.clipboard)navigator.clipboard.writeText(fe+"/"+w);else{var e=document.querySelector("#web-client-url-holder");e.style.display="block",e.select(),document.execCommand("copy"),e.blur(),e.style.display="none"}}),[fe,w]);Object(s.useEffect)((function(){var e="$user::Profile>webClientPrefix::on";return Object(i.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.f)({host:S,query:e});case 2:(n=t.sent).on("$shock",(function(e){"string"===typeof e?be(e):p.b.post("/api/gun/put",{path:"$user>Profile>webClientPrefix",value:$[0]}).catch((function(e){alert("Error setting default web client prefix: ".concat(e.message))}))})),n.on("$error",(function(e){alert("There was an error fetching web client prefix: ".concat(e))}));case 5:case"end":return t.stop()}}),t)})))(),function(){Object(F.b)(e)}}),[S,w]);var me=Object(s.useCallback)((function(e){M(e)}),[]),ve=ce!==H.displayName||se!==H.bio||fe!==ue,xe=Object(s.useCallback)((function(){ee((function(e){return!e})),ae(H.displayName),re(H.bio),he(ue)}),[ee,ae,H.displayName,re,H.bio,ue]),ge=Object(s.useCallback)((function(){ae(H.displayName),re(H.bio),xe()}),[H.displayName,H.bio,xe]),ye=Object(s.useCallback)((function(){ce!==H.displayName&&p.b.put("/api/gun/me",{displayName:ce}).catch((function(e){alert("There was an error setting a new display name: ".concat(e.message))})),se!==H.bio&&p.b.put("/api/gun/me",{bio:se}).catch((function(e){alert("There was an error setting a new bio: ".concat(e.message))})),fe!==ue&&p.b.post("/api/gun/put",{path:"$user>Profile>webClientPrefix",value:fe}).catch((function(e){alert("There was an error setting your web client prefix: ".concat(e.message))})),xe()}),[ce,H.displayName,H.bio,se,xe,fe,ue]),Ne=Object(s.useRef)(null),ke=Object(s.useState)(!1),Ce=Object(o.a)(ke,2),we=Ce[0],Se=Ce[1],_e=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,c,i,s,r,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!we){e.next=4;break}return e.abrupt("return");case 4:if(Se(!0),n=t.target,0!==(c=n.files).length){e.next=8;break}return e.abrupt("return");case 8:if(1===c.length){e.next=12;break}return p.d.error("Profile -> files.length !== 1"),alert("An error occurred while trying to set a header. This has been logged."),e.abrupt("return");case 12:return i=Object(o.a)(c,1),s=i[0],e.next=15,p.f(s,320,.7);case 15:return r=e.sent,"data:image/jpeg;base64,",l=r.slice("data:image/jpeg;base64,".length),e.next=20,p.b.post("/api/gun/put",{path:"$user>profileBinary>header",value:l});case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),p.d.error("Error while trying to load new header."),p.d.error(e.t0),alert("There was an error loading the new header, this has error has been logged.");case 27:return e.prev=27,Se(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,22,27,30]])})));return function(t){return e.apply(this,arguments)}}(),Re=Object(s.useCallback)((function(e){e.preventDefault();var t=Ne.current;t||(p.d.error("File input element for avatar is falsy."),alert("There was an error and it was logged.")),t.click()}),[]),De=Object(s.useCallback)((function(e){console.log(e),!N&&e||k(null),k(e)}),[N]),Ie=Object(s.useCallback)(Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.id){e.next=2;break}return e.abrupt("return");case 2:return console.log("deleting:"),console.log(N),t=N.shared?"sharedPosts":"posts",e.next=7,p.b.post("/api/gun/put",{path:"$user>".concat(t,">").concat(N.id),value:null});case 7:Object(q.b)({id:N.id,authorId:w}),De(null);case 9:case"end":return e.stop()}}),e)}))),[N]),Pe=Object(s.useCallback)((function(){try{if(navigator.clipboard)navigator.clipboard.writeText(w);else{var e=document.querySelector("#public-key-holder");e.style.display="block",e.select(),document.execCommand("copy"),e.blur(),e.style.display="none",r(!1)}}catch(t){alert("Could not copy to clipboard: ".concat(t.message))}}),[w]);Object(s.useMemo)((function(){return Object.entries(D).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(T.jsxs)("div",{children:["URL: ",n,c.map((function(e,t){return Object(T.jsx)("div",{style:{paddingLeft:"1rem"},children:Object(T.jsx)("p",{children:e})},"".concat(t,"-").concat(n))}))]},"".concat(n))}))}),[D]),Object(s.useMemo)((function(){return Object.entries(I).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(T.jsxs)("div",{children:["URL: ",n,c.map((function(e,t){return Object(T.jsx)("div",{style:{paddingLeft:"1rem"},children:Object(T.jsx)("p",{children:e})},"".concat(t,"-").concat(n))}))]},"".concat(n))}))}),[I]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"page-container profile-page",children:[Object(T.jsxs)("div",{className:"profile-container",children:[Object(T.jsx)("div",{className:"profile-cover",onClick:Re,children:H.header&&Object(T.jsx)("img",{alt:"User set profile header.",src:"data:image/jpeg;base64,".concat(H.header)})}),Object(T.jsxs)("div",{className:"profile-info-container",children:[Object(T.jsx)("div",{className:"profile-avatar",style:{height:"".concat(122,"px"),width:"".concat(122,"px")},children:Object(T.jsx)(x.a,{height:122,publicKey:w,setsAvatar:!0,greyBorder:!0})}),Object(T.jsxs)("div",{className:"profile-info",children:[Object(T.jsx)("p",{className:"profile-name",onClick:function(){},children:Y}),Object(T.jsx)("p",{className:"profile-desc",children:H.bio||"Shockwallet user"}),Object(T.jsxs)("div",{className:"config-btn",onClick:xe,children:[Object(T.jsx)("i",{className:"config-btn-icon icon-solid-spending-rule"}),Object(T.jsx)("p",{className:"config-btn-text",children:"Config"})]})]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(b.b,{to:"/goLive",className:"profile-choice-container",children:Object(T.jsxs)("div",{style:{backgroundColor:"red",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0.2em 0.5em",borderRadius:"0.7em",fontSize:"16px",fontWeight:600},children:[Object(T.jsx)("i",{className:"fas fa-video"}),Object(T.jsx)("p",{children:"GO LIVE"})]})}),Object(T.jsxs)(b.b,{to:"/createPost",className:"profile-choice-container",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-pen-square"}),Object(T.jsx)("p",{className:"profile-choice-text",children:"Create Post"})]}),Object(T.jsxs)(b.b,{to:"/publishContent",className:"profile-choice-container",children:[Object(T.jsx)("i",{className:"profile-choice-icon fab fa-youtube"}),Object(T.jsx)("p",{className:"profile-choice-text",children:"Publish Content"})]}),Object(T.jsxs)("button",{className:"profile-choice-container",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-shopping-cart"}),Object(T.jsx)("p",{className:"profile-choice-text",children:"Offer a Product"})]}),Object(T.jsxs)(b.b,{to:"/offerService",className:"profile-choice-container",children:[Object(T.jsx)("i",{className:"profile-choice-icon fas fa-running"}),Object(T.jsx)("p",{className:"profile-choice-text",children:"Offer a Service"})]})]}),Object(T.jsx)(K.a,{onChange:me,selected:A}),Object(T.jsxs)("div",{className:"",children:["posts"===A&&J.map((function(e,t){var n=_[e.authorId];if("shared"===e.type){var c=e.originalAuthor,a=_[c];return Object(T.jsx)(s.Suspense,{fallback:Object(T.jsx)(v.a,{}),children:Object(T.jsx)(V,{originalPost:e.originalPost,originalPostProfile:a,sharedTimestamp:e.shareDate,sharerProfile:n,postPublicKey:c,openTipModal:function(){},openUnlockModal:function(){},isOnlineNode:!0,openDeleteModal:De})},t)}return Object(T.jsx)(s.Suspense,{fallback:Object(T.jsx)(v.a,{}),children:Object(T.jsx)(W,{id:e.id,timestamp:e.date,contentItems:e.contentItems,avatar:"data:image/jpeg;base64,".concat(null===n||void 0===n?void 0:n.avatar),username:Object(j.c)(null===n||void 0===n?void 0:n.publicKey,null===n||void 0===n?void 0:n.displayName),publicKey:e.authorId,openTipModal:function(){},openUnlockModal:function(){},tipCounter:0,tipValue:0,isOnlineNode:!0,openDeleteModal:De})},t)})),"services"===A&&(console.log(R),Object.entries(R).filter((function(e){var t=Object(o.a)(e,2);return t[0],!!t[1]})).map((function(t){var n=Object(o.a)(t,2),c=n[0],a=n[1];return Object(T.jsxs)("div",{className:"post",children:[Object(T.jsx)("strong",{children:"Service ID"}),Object(T.jsx)("p",{children:c}),Object(T.jsx)("strong",{children:"Service Tpe"}),Object(T.jsx)("p",{children:a.serviceType||""}),Object(T.jsx)("strong",{children:"Service Title"}),Object(T.jsx)("p",{children:a.serviceTitle||""}),Object(T.jsx)("strong",{children:"Service Description"}),Object(T.jsx)("p",{children:a.serviceDescription||""}),Object(T.jsx)("strong",{children:"Service Condition"}),Object(T.jsx)("p",{children:a.serviceCondition||""}),Object(T.jsx)("strong",{children:"Service Price"}),Object(T.jsx)("p",{children:a.servicePrice||""}),Object(T.jsx)("button",{onClick:function(){console.log("delete wtf"),Object(f.d)(c)(e)},children:"DELETE SERVICE"})]},c)})))]}),Object(T.jsx)(L.a,{amt:200}),Object(T.jsxs)(m.a,{toggleModal:G,modalOpen:c,contentStyle:{padding:"40px 30px"},children:[Object(T.jsx)(u.a,{bgColor:"#23282d",fgColor:"#4285b9",value:w,size:180,className:"profile-qrcode"}),Object(T.jsx)("p",{className:"profile-qrcode-desc",children:"Other users can scan this code to contact you"}),!navigator.clipboard&&Object(T.jsx)("input",{className:"hidden-input",id:"public-key-holder",readOnly:!0,type:"text",value:w}),Object(T.jsxs)("div",{className:"profile-clipboard-container",onClick:Pe,children:[Object(T.jsx)("img",{src:B.a,className:"profile-clipboard-icon",alt:""}),Object(T.jsx)("p",{className:"profile-clipboard-text",children:"Tap to copy to clipboard"})]})]}),Object(T.jsxs)(m.a,{toggleModal:xe,modalOpen:X,contentStyle:{padding:"2em 2em"},children:[Object(T.jsx)("label",{htmlFor:"newDisplayName",children:"Display Name"}),Object(T.jsx)("input",{autoCapitalize:"none",autoCorrect:"off",type:"text",className:"input-field",placeholder:H.displayName||"new display name",name:"newDisplayName",onChange:function(e){var t=e.target.value;ae(t)}}),Object(T.jsx)("label",{htmlFor:"newBio",children:"New Bio"}),Object(T.jsx)("input",{type:"text",className:"input-field",placeholder:H.displayName||"new bio",name:"newBio",onChange:function(e){var t=e.target.value;re(t)}}),Object(T.jsx)("label",{htmlFor:"new-web-client-prefix",children:"Web Client"}),Object(T.jsxs)("div",{className:"web-client-prefix-picker",children:[Object(T.jsx)("i",{className:"far fa-copy",onClick:Oe,style:{fontSize:24}}),Object(T.jsx)("select",{onChange:function(e){he(e.target.value)},name:"new-web-client-prefix",id:"new-web-client-prefix",value:fe,children:$.map((function(e){return Object(T.jsx)("option",{value:e,children:e},e)}))}),Object(T.jsx)("span",{children:"/"}),Object(T.jsx)("span",{style:{fontSize:12},children:w})]}),!navigator.clipboard&&Object(T.jsx)("input",{className:"hidden-input",id:"web-client-url-holder",readOnly:!0,type:"text",value:fe+"/"+w}),Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"content-host",children:"Content Host"}),Object(T.jsx)(E,{}),Object(T.jsx)("br",{}),ve&&Object(T.jsxs)("div",{className:"flex-center",style:{marginTop:"auto"},children:[Object(T.jsx)("button",{onClick:ge,className:"shock-form-button m-1",children:"CANCEL"}),Object(T.jsx)("button",{onClick:ye,className:"shock-form-button-confirm m-1",children:"SUBMIT"})]})]}),Object(T.jsxs)(m.a,{toggleModal:De,modalOpen:N,contentStyle:{padding:"2em 2em"},children:[Object(T.jsx)("div",{children:"You sure delete"}),Object(T.jsxs)("div",{className:"flex-center",style:{marginTop:"auto"},children:[Object(T.jsx)("button",{onClick:De,className:"shock-form-button m-1",children:"CANCEL"}),Object(T.jsx)("button",{onClick:Ie,className:"shock-form-button-confirm m-1",children:"DELETE"})]})]}),Object(T.jsx)(O.a,{onClick:G,large:!0,iconURL:z.a,style:{backgroundColor:"var(--yellow)"},icon:null,label:null})]}),Object(T.jsx)(h.a,{})]}),Object(T.jsx)("input",{type:"file",id:"avatar-file",ref:Ne,hidden:!0,accept:"image/*",onChange:_e})]})}}}]);
//# sourceMappingURL=16.72500da7.chunk.js.map