(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[15],{441:function(e,t,a){"use strict";var c=a(3),n=a(74),r=a.n(n),s=(a(448),a(4)),i=function(e){var t=e.children,a=e.style;return Object(s.jsx)("div",{className:"content",style:a,"data-v-c66590af":"",children:t})},o=(a(449),function(e){var t=e.title,a=e.toggleModal;return t?Object(s.jsxs)("div",{className:"head","data-v-610bbd00":"",children:[Object(s.jsx)("p",{className:"head-title","data-v-610bbd00":"",children:t}),Object(s.jsx)("div",{className:"head-close",onClick:a,"data-v-610bbd00":"",children:Object(s.jsx)("i",{className:"fas fa-times","data-v-610bbd00":""})})]}):null});a(450),t.a=function(e){var t=e.modalOpen,a=void 0!==t&&t,n=e.toggleModal,l=e.modalTitle,u=void 0===l?"":l,d=e.children,b=e.contentStyle,j=void 0===b?{}:b,p=Object(c.useCallback)((function(){n()}),[n]);return Object(s.jsxs)("div",{className:r()({modal:!0,open:a}),"data-v-d9432371":"",children:[Object(s.jsx)("div",{className:"backdrop",onClick:p,"data-v-d9432371":""}),Object(s.jsxs)("div",{className:"container","data-v-d9432371":"",children:[Object(s.jsx)(o,{title:u,toggleModal:p,"data-v-d9432371":""}),Object(s.jsx)(i,{style:j,"data-v-d9432371":"",children:d})]})]})}},444:function(e,t,a){"use strict";var c=a(27),n=a(74),r=a.n(n),s=(a(451),a(4));t.a=function(e){var t=e.label,a=e.name,n=e.onChange,i=e.inputAction,o=e.actionIcon,l=e.value,u=e.inputMode,d=void 0===u?"text":u,b=e.type,j=void 0===b?"text":b,p=e.element,f=void 0===p?"input":p,v=e.small,O=void 0!==v&&v,h=e.disabled;return Object(s.jsxs)("div",{className:r()({group:!0,"group-disabled":h,"group-small":O}),"data-v-1c969e13":"",children:[t?Object(s.jsx)("p",{className:"group-label","data-v-1c969e13":"",children:t}):null,Object(s.jsxs)("div",{className:r()({"group-input-container":!0,"group-input-textarea-container":"textarea"===f}),"data-v-1c969e13":"",children:["textarea"===f?Object(s.jsx)("textarea",{className:"group-input group-input-textarea",name:a,onChange:n,inputMode:d,value:l,disabled:h,"data-v-1c969e13":""}):Object(s.jsx)("input",{className:"group-input",type:j,name:a,onChange:n,inputMode:d,value:l,disabled:h,"data-v-1c969e13":""}),i&&o?Object(s.jsx)("div",{className:"group-input-action",onClick:i,"data-v-1c969e13":"",children:Object(s.jsx)("i",{className:r()(Object(c.a)({"group-input-action-icon":!0,fas:!0},o,!0)),onClick:i,"data-v-1c969e13":""})}):null]})]})}},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},454:function(e,t,a){"use strict";var c=a(55),n=a(4);t.a=function(){return Object(n.jsxs)("div",{className:"bottom-nav-container",children:[Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(n.jsx)(c.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(n.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},456:function(e,t,a){"use strict";a(3),a(491),a(492);var c=a(4);t.a=function(e){var t=e.text,a=void 0===t?"Submit":t,n=e.onClick;return Object(c.jsx)("div",{className:"submit-btn",onClick:n,"data-v-3b709f47":"",children:Object(c.jsx)("p",{className:"submit-btn-text","data-v-3b709f47":"",children:a})})}},458:function(e,t,a){"use strict";var c=a(12),n=a(3),r=a(74),s=a.n(r),i=(a(459),a(4));t.a=function(e){var t=e.label,a=void 0===t?null:t,r=e.icon,o=void 0===r?null:r,l=e.iconURL,u=void 0===l?null:l,d=e.onClick,b=void 0===d?void 0:d,j=e.nestedMode,p=void 0!==j&&j,f=e.large,v=void 0!==f&&f,O=e.small,h=void 0!==O&&O,m=e.relative,x=void 0!==m&&m,g=e.children,N=void 0===g?null:g,_=e.style,k=void 0===_?{}:_,S=Object(n.useState)(!1),C=Object(c.a)(S,2),y=C[0],w=C[1],U=Object(n.useCallback)((function(){p&&w(!y)}),[y,p]),P=Object(n.useMemo)((function(){return u?Object(i.jsx)("img",{src:u,className:"add-btn-icon",alt:"","data-v-3e71af78":""}):Object(i.jsx)("i",{className:"fas fa-".concat(null!==o&&void 0!==o?o:"plus"),"data-v-3e71af78":""})}),[o,u]),M=Object(n.useMemo)((function(){return a?Object(i.jsx)("p",{className:"add-btn-label","data-v-3e71af78":"",children:a}):null}),[a]);return Object(i.jsxs)("div",{className:s()({"add-btn-container":!0,"add-btn-round-container":!a,"add-btn-large":v,"add-btn-small":h}),"data-v-3e71af78":"",children:[Object(i.jsxs)("div",{className:s()({"add-btn":!0,"add-btn-round":!a,"add-btn-extended":!!a,"add-btn-relative":x,"add-btn-open":y,"add-btn-nested":p}),onClick:null!==b&&void 0!==b?b:U,style:k,"data-v-3e71af78":"",children:[P,M]}),N?Object(i.jsx)("div",{className:s()({"add-btn-options":!0,"add-btn-options-open":y}),"data-v-3e71af78":"",children:N}):null]})}},459:function(e,t,a){},466:function(e,t,a){"use strict";var c=a(3),n=a(4);t.a=function(e){var t=e.color,a=e.length,r=e.type,s=e.width,i=Object(c.useMemo)((function(){return"vertical"===r?{borderLeftStyle:"solid",borderLeftWidth:"".concat(s/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(s/2,"px"),borderRightColor:t,height:a}:"horizontal"===r?{borderTopStyle:"solid",borderTopWidth:s/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:s/2,borderBottomColor:t,width:a}:{}}),[t,a,r,s]);return Object(n.jsx)("div",{style:i})}},477:function(e,t,a){"use strict";var c=a(74),n=a.n(c),r=a(440),s=a(466),i=a(478),o=a.n(i),l=a(4);t.a=function(e){var t=e.onChange,a=e.selected;return Object(l.jsxs)("div",{className:n()(r.C,r.y,r.z,r.v,o.a.container),children:[Object(l.jsx)("span",{className:n()(r.B,"posts"===a&&o.a.selected,"services"===a&&o.a.unselected),onClick:function(){t("posts")},children:"Posts"}),Object(l.jsx)("div",{className:r.a,children:Object(l.jsx)(s.a,{color:"white",length:16,type:"vertical",width:2})}),Object(l.jsx)("span",{className:n()(r.B,"services"===a&&o.a.selected,"posts"===a&&o.a.unselected),onClick:function(){t("services")},children:"Services"})]})}},478:function(e,t,a){e.exports={container:"ProfileDivider_container__3ob9k",selected:"ProfileDivider_selected__3U98y",unselected:"ProfileDivider_unselected__1Z_qd",divider:"ProfileDivider_divider__1IzYV"}},479:function(e,t,a){"use strict";t.a=a.p+"static/media/clipboard.beb19e1e.svg"},480:function(e,t,a){"use strict";t.a=a.p+"static/media/qrcode.69103c6c.svg"},490:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),s=a(12),i=a(3),o=a(42),l=a(441),u=a(456),d=a(444),b=a(53),j=a(149),p=(a(493),a(4));t.a=function(e){var t=e.tipData,a=e.toggleOpen,c=Object(o.b)(),f=Object(i.useState)(""),v=Object(s.a)(f,2),O=v[0],h=v[1],m=Object(i.useState)(!1),x=Object(s.a)(m,2),g=x[0],N=x[1],_=Object(i.useState)(0),k=Object(s.a)(_,2),S=k[0],C=k[1],y=Object(i.useState)(!1),w=Object(s.a)(y,2),U=w[0],P=w[1],M=Object(i.useCallback)((function(e){"amount"===e.target.name&&C(e.target.value)}),[]),D=Object(i.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var r,s,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,N(!0),e.next=5,c(Object(b.c)({amount:S,publicKey:t.publicKey,postId:t.postID}));case 5:P(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t&&(i=e.t0.message,o=null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errorMessage,h(null!==o&&void 0!==o?o:i));case 12:return e.prev=12,N(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[c,S,t]);return Object(i.useEffect)((function(){t||(N(!1),h(null),P(!1))}),[t]),Object(p.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Send Tip","data-v-70f544f7":"",children:U?Object(p.jsxs)("div",{className:"tip-modal-success m-1","data-v-70f544f7":"",children:[Object(p.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-70f544f7":""}),Object(p.jsx)("p",{className:"tip-success-title","data-v-70f544f7":"",children:"Post tipped successfully!"}),Object(p.jsx)("p",{className:"tip-success-desc","data-v-70f544f7":""})]}):Object(p.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:D,"data-v-70f544f7":"",children:[O?Object(p.jsx)("div",{className:"form-error","data-v-70f544f7":"",children:O}):null,g?Object(p.jsx)(j.a,{overlay:!0,text:"Sending Tip...","data-v-70f544f7":""}):null,Object(p.jsx)("p",{className:"tip-modal-desc m-1","data-v-70f544f7":"",children:"Please specify the amount of sats you'd like to tip this user with below."}),Object(p.jsx)(d.a,{name:"amount",onChange:M,value:S,inputMode:"decimal",small:!0,"data-v-70f544f7":""}),Object(p.jsx)(u.a,{text:"SEND TIP",onClick:D,"data-v-70f544f7":""})]})})}},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),s=a(12),i=a(3),o=a(42),l=a(441),u=a(456),d=a(149),b=(a(495),a(33)),j=a(4);t.a=function(e){var t=e.shareData,a=e.toggleOpen,c=Object(o.b)(),p=Object(i.useState)(""),f=Object(s.a)(p,2),v=f[0],O=f[1],h=Object(i.useState)(!1),m=Object(s.a)(h,2),x=m[0],g=m[1],N=Object(i.useState)(!1),_=Object(s.a)(N,2),k=_[0],S=_[1],C=Object(i.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var c,r,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,g(!0),c=t.postID,r=t.publicKey,s={originalAuthor:r,shareDate:Date.now()},e.next=7,b.b.post("/api/gun/put",{path:"$user>sharedPosts>".concat(c),value:s});case 7:i=e.sent,i.data.ok?S(!0):O("Share operation failed"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);return Object(i.useEffect)((function(){t||(g(!1),O(null),S(!1))}),[t]),Object(j.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Share post","data-v-85fe48e8":"",children:k?Object(j.jsxs)("div",{className:"tip-modal-success m-1","data-v-85fe48e8":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-85fe48e8":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-85fe48e8":"",children:"Post shared successfully!"})]}):Object(j.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:C,"data-v-85fe48e8":"",children:[v?Object(j.jsx)("div",{className:"form-error","data-v-85fe48e8":"",children:v}):null,x?Object(j.jsx)(d.a,{overlay:!0,text:"Sharing...","data-v-85fe48e8":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc m-1","data-v-85fe48e8":"",children:"This post will be shared on your profile"}),Object(j.jsx)(u.a,{text:"SHARE",onClick:C,"data-v-85fe48e8":""})]})})}},495:function(e,t,a){},496:function(e,t,a){"use strict";var c=a(2),n=a.n(c),r=a(5),s=a(12),i=a(3),o=a(42),l=a(441),u=a(456),d=a(28),b=a(149),j=(a(497),a(4));t.a=function(e){var t=e.unlockData,a=e.toggleOpen,c=Object(o.b)(),p=Object(i.useState)(""),f=Object(s.a)(p,2),v=f[0],O=f[1],h=Object(i.useState)(!1),m=Object(s.a)(h,2),x=m[0],g=m[1],N=Object(i.useState)(!1),_=Object(s.a)(N,2),k=_[0],S=_[1],C=Object(i.useCallback)(function(){var e=Object(r.a)(n.a.mark((function e(a){var r,s,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,g(!0),e.next=5,Object(d.m)(100,t.publicKey,t.postID)(c);case 5:S(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t&&(i=e.t0.message,o=null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errorMessage,O(null!==o&&void 0!==o?o:i));case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);return Object(i.useEffect)((function(){t||(g(!1),O(null),S(!1))}),[t]),Object(j.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Unlock content","data-v-a38c697a":"",children:k?Object(j.jsxs)("div",{className:"tip-modal-success","data-v-a38c697a":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-a38c697a":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-a38c697a":"",children:"Content unlocked successfully!"})]}):Object(j.jsxs)("form",{className:"modal-form tip-form",onSubmit:C,"data-v-a38c697a":"",children:[v?Object(j.jsx)("div",{className:"form-error","data-v-a38c697a":"",children:v}):null,x?Object(j.jsx)(b.a,{overlay:!0,text:"Sending Tip...","data-v-a38c697a":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc","data-v-a38c697a":"",children:"100 sats will be sent to the owner of the post to unlock the content"}),Object(j.jsx)(u.a,{text:"UNLOCK",onClick:C,"data-v-a38c697a":""})]})})}},497:function(e,t,a){},684:function(e,t,a){},685:function(e,t,a){e.exports={"profile-page":"OtherUser_profile-page__OhC-_","profile-container":"OtherUser_profile-container__2oq7s","profile-cover":"OtherUser_profile-cover__3Fq6P","profile-info-container":"OtherUser_profile-info-container__3qnqN","profile-avatar":"OtherUser_profile-avatar__S6INq","profile-name":"OtherUser_profile-name__3chmC","profile-desc":"OtherUser_profile-desc__f9Dsj","config-btn":"OtherUser_config-btn__t33_B","config-btn-icon":"OtherUser_config-btn-icon__1p_6O","config-btn-text":"OtherUser_config-btn-text__1Wg_T","profile-choice-container":"OtherUser_profile-choice-container__3-xgF","profile-choice-icon":"OtherUser_profile-choice-icon__3iOE1","profile-choice-text":"OtherUser_profile-choice-text__deYLl","profile-qrcode":"OtherUser_profile-qrcode__2Ok54","profile-qrcode-desc":"OtherUser_profile-qrcode-desc__3cp0P","profile-clipboard-container":"OtherUser_profile-clipboard-container__1P_p8","profile-clipboard-icon":"OtherUser_profile-clipboard-icon__1nW2U","profile-clipboard-text":"OtherUser_profile-clipboard-text__2g4AC","publish-content-form":"OtherUser_publish-content-form__1YdVa","publish-content-title":"OtherUser_publish-content-title__3EsYE","publish-content-icon":"OtherUser_publish-content-icon__291ch","m-1":"OtherUser_m-1__1dpvP"}},686:function(e,t,a){e.exports={container:"FollowBtn_container__2c7Cj",text:"FollowBtn_text__1o7CS"}},687:function(e,t,a){e.exports={container:"SendReqBtn_container__2nY4E",text:"SendReqBtn_text__2_2zC"}},723:function(e,t,a){"use strict";a.r(t);var c=a(21),n=a(2),r=a.n(n),s=a(0),i=a(5),o=a(12),l=a(3),u=a.n(l),d=a(42),b=a(476),j=a.n(b),p=a(23),f=a(74),v=a.n(f),O=a(89),h=a(13),m=a(92),x=a(49),g=a(20),N=a(454),_=a(458),k=a(441),S=a(149),C=a(443),y=a(477),w=a(442),U=a(479),P=a(480),M=a(490),D=a(496),I=a(456),T=a(102),E=a(28),q=(a(684),a(4)),B=function(e){var t=e.service,a=e.toggleOpen,c=Object(d.b)(),n=Object(l.useState)(""),s=Object(o.a)(n,2),u=s[0],b=s[1],j=Object(l.useState)(!1),p=Object(o.a)(j,2),f=p[0],v=p[1],O=Object(l.useState)(null),h=Object(o.a)(O,2),m=h[0],x=h[1],g=Object(l.useState)(!1),N=Object(o.a)(g,2),_=N[0],C=N[1],y=Object(l.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(a){var n,s,i,o,l,u,d,j,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,n=t.servicePrice,s=t.owner,i=t.serviceID,o=t.serviceType,s&&i&&"number"===typeof Number(n)){e.next=7;break}return console.error("invalid service provided"),console.error(t),e.abrupt("return");case 7:return v(!0),e.next=10,Object(T.b)(s,i,n)(c);case 10:l=e.sent,console.log(l),x(l),"torrentSeed"===o&&Object(E.b)(l.seedUrl,l.tokens[0])(c),"streamSeed"===o&&Object(E.e)(l.seedUrl,l.tokens[0])(c),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0),t&&(j=e.t0.message,p=null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.errorMessage,b(null!==p&&void 0!==p?p:j));case 21:return e.prev=21,v(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),[c,t]);Object(l.useEffect)((function(){t||(v(!1),b(null),x(null))}),[m]);var w=Object(l.useCallback)((function(){navigator.clipboard.writeText(JSON.stringify(m)),C(!0)}),[m,C]);return Object(q.jsx)(k.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Buy Service","data-v-9c96dde0":"",children:m?Object(q.jsxs)("div",{className:"tip-modal-success","data-v-9c96dde0":"",children:[Object(q.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-9c96dde0":""}),Object(q.jsx)("p",{className:"tip-success-title","data-v-9c96dde0":"",children:"You successfully bought this service!"}),Object(q.jsx)("p",{"data-v-9c96dde0":"",children:JSON.stringify(m)}),Object(q.jsx)("button",{onClick:w,"data-v-9c96dde0":"",children:"COPY TO CLIPBOARD"}),_&&Object(q.jsx)("p",{"data-v-9c96dde0":"",children:"Copied!"})]}):Object(q.jsxs)("form",{className:"modal-form tip-form",onSubmit:y,"data-v-9c96dde0":"",children:[u?Object(q.jsx)("div",{className:"form-error","data-v-9c96dde0":"",children:u}):null,f?Object(q.jsx)(S.a,{overlay:!0,text:"Sending Tip...","data-v-9c96dde0":""}):null,Object(q.jsxs)("p",{className:"tip-modal-desc","data-v-9c96dde0":"",children:[t&&t.servicePrice," sats will be sent to the owner of the service provider"]}),Object(q.jsx)(I.a,{text:"BUY",onClick:y,"data-v-9c96dde0":""})]})})},K=a(494),R=a(16),A=a(440),L=a(685),Y=a.n(L),z=a(33),V=a(686),F=a.n(V),W=function(e){var t=e.publicKey,a=!!R.useSelector(R.selectFollows).find((function(e){return e.user===t})),c=Object(l.useState)(!1),n=Object(o.a)(c,2),s=n[0],u=n[1],d=Object(l.useCallback)(Object(i.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=3;break}return e.abrupt("return");case 3:if(u(!0),c={status:-1,data:{errorMessage:""}},!a){e.next=11;break}return e.next=8,z.b.delete("/api/gun/follows/".concat(t));case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,z.b.put("/api/gun/follows/".concat(t),{});case 13:c=e.sent;case 14:if(200===c.status){e.next=16;break}throw new Error(c.data.errorMessage);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a?alert("Could not unfollow: ".concat(e.t0.message)):alert("Could not follow: ".concat(e.t0.message));case 21:return e.prev=21,u(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])}))),[s,u,a,t]);return Object(q.jsx)("div",{className:F.a.container,onClick:d,children:Object(q.jsx)("p",{className:v()(A.B,F.a.text),children:s?"...":a?"Unfollow":"Follow"})})},J=a(25),H=a(687),Z=a.n(H),$=function(e){var t=e.publicKey,a=Object(d.b)(),c=Object(p.g)(),n=R.useSelector(R.selectIsInContact(t)),s=Object(l.useState)(!1),u=Object(o.a)(s,2),b=u[0],j=u[1],f=Object(l.useCallback)(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=3;break}return e.abrupt("return");case 3:if(!n){e.next=6;break}return c.push("/chat/".concat(t)),e.abrupt("return");case 6:return j(!0),e.next=9,a(Object(J.g)(t));case 9:j(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Could not send contact request: ".concat(e.t0.message)),z.d.error(e.t0),j(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))),[b,a,c,n,t]);return Object(q.jsx)("div",{className:v()(Z.a.container),onClick:f,children:Object(q.jsx)("p",{className:v()(A.B,Z.a.text),children:b?"...":n?"Message":"Request Contact"})})},G=a(53),Q=u.a.lazy((function(){return Promise.all([a.e(1),a.e(5)]).then(a.bind(null,504))})),X=u.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,711))}));t.default=function(){var e=Object(d.b)(),t=R.useSelector((function(e){return e.node.publicKey})),a=Object(l.useState)(!1),n=Object(o.a)(a,2),u=n[0],b=n[1],f=Object(d.c)((function(e){return e.userProfiles})),I=Object(p.i)().publicKey,T=R.useSelector(R.selectUser(I)),E=Object(l.useState)([]),L=Object(o.a)(E,2),z=L[0],V=L[1],F=Object(l.useState)([]),J=Object(o.a)(F,2),H=J[0],Z=J[1],ee=Object(l.useState)([]),te=Object(o.a)(ee,2),ae=te[0],ce=te[1],ne=Object(l.useState)({}),re=Object(o.a)(ne,2),se=re[0],ie=re[1],oe=Object(l.useState)(null),le=Object(o.a)(oe,2),ue=le[0],de=le[1],be=Object(l.useState)(null),je=Object(o.a)(be,2),pe=je[0],fe=je[1],ve=Object(l.useState)(null),Oe=Object(o.a)(ve,2),he=Oe[0],me=Oe[1],xe=Object(l.useState)(null),ge=Object(o.a)(xe,2),Ne=ge[0],_e=ge[1],ke=Object(l.useState)("posts"),Se=Object(o.a)(ke,2),Ce=Se[0],ye=Se[1],we=t===T.publicKey;Object(l.useEffect)((function(){return e(Object(G.d)()),function(){e(Object(G.g)())}}),[e]);var Ue=Object(l.useCallback)((function(){var e="".concat(I,"::posts::on"),t=Object(g.e)({query:e,reconnect:!1,onData:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c,n,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.entries(t),c=a.filter((function(e){var t=Object(o.a)(e,2),a=t[0];return null!==t[1]&&!O.a.includes(a)})).map((function(e){return Object(o.a)(e,1)[0]})),n=c.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c,n,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/gun/otheruser/".concat(I,"/load/posts>").concat(t));case 2:return a=e.sent,c=a.data,n=c.data.tipsSet?Object.values(c.data.tipsSet):[],i=n.length,o=i>0?n.reduce((function(e,t){return Number(t)+Number(e)})):0,e.abrupt("return",Object(s.a)(Object(s.a)({},c.data),{},{id:t,authorId:I,tipCounter:i,tipValue:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.allSettled(n);case 5:l=e.sent,u=l.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),V(u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(g.f)(t)}),[I]),Pe=Object(l.useCallback)((function(){var e="".concat(I,"::sharedPosts::on"),t=Object(g.e)({query:e,reconnect:!1,onData:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c,n,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.entries(t),c=a.filter((function(e){var t=Object(o.a)(e,2),a=t[0];return null!==t[1]&&!O.a.includes(a)})).map((function(e){return Object(o.a)(e,1)[0]})),n=c.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c,n,i,o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/gun/otheruser/".concat(I,"/load/sharedPosts>").concat(t));case 2:if(a=e.sent,(c=a.data).data&&c.data.originalAuthor){e.next=6;break}throw new Error("invalid shared post provided for user "+I);case 6:return e.next=8,h.a.get("/api/gun/otheruser/".concat(c.data.originalAuthor,"/load/posts>").concat(t));case 8:return n=e.sent,i=n.data,o=i.data.tipsSet?Object.values(i.data.tipsSet):[],l=o.length,u=l>0?o.reduce((function(e,t){return Number(t)+Number(e)})):0,e.abrupt("return",Object(s.a)(Object(s.a)({},c.data),{},{originalPost:Object(s.a)(Object(s.a)({},i.data),{},{id:t,tipCounter:l,tipValue:u}),authorId:I,type:"shared"}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.allSettled(n);case 5:l=e.sent,u=l.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),Z(u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(g.f)(t)}),[I]);Object(l.useEffect)((function(){return e(Object(x.b)(I))}),[e,I]),Object(l.useEffect)((function(){return Ue()}),[Ue]),Object(l.useEffect)((function(){return Pe()}),[Pe]),Object(l.useEffect)((function(){var t=[].concat(Object(c.a)(z),Object(c.a)(H)).sort((function(e,t){return t.date-e.date}));ce(t);var a=H.filter((function(e){return!f[e.originalAuthor]})).map((function(t){var a=t.originalAuthor;return e(Object(x.b)(a)),function(){e(Object(x.c)(a))}}));return function(){a.forEach((function(e){return e()}))}}),[e,z,f,H]),Object(l.useEffect)((function(){h.a.get("/api/gun/otheruser/".concat(I,"/load/offeredServices")).then((function(e){var t=e.data;ie(t.data)}))}),[I]);var Me=Object(l.useCallback)((function(){b(!u)}),[u]),De=Object(l.useCallback)((function(e){!ue&&e||de(null),de(e)}),[ue]),Ie=Object(l.useCallback)((function(e){!he&&e||me(null),me(e)}),[he]),Te=Object(l.useCallback)((function(e){!pe&&e||fe(null),fe(e)}),[pe]),Ee=Object(l.useCallback)((function(e){console.log("share click yo"),console.log(e),!Ne&&e||_e(null),_e(e)}),[Ne]),qe=Object(l.useCallback)((function(){navigator.clipboard.writeText(I)}),[I]),Be=Object(l.useCallback)((function(e){ye(e)}),[]);return Object(q.jsxs)("div",{className:v()("page-container",Y.a["profile-page"]),children:[Object(q.jsxs)("div",{className:v()(Y.a["profile-container"],"no-scrollbar"),children:[Object(q.jsx)("div",{className:"profile-cover",children:T.header&&Object(q.jsx)("img",{className:"w-100",alt:"User set profile header.",src:"data:image/jpeg;base64,".concat(T.header)})}),Object(q.jsxs)("div",{className:Y.a["profile-info-container"],children:[Object(q.jsx)("div",{className:Y.a["profile-avatar"],style:{height:"".concat(122,"px"),width:"".concat(122,"px")},children:Object(q.jsx)(C.a,{height:122,publicKey:I,greyBorder:!0})}),Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{className:Y.a["profile-name"],children:T.displayName}),Object(q.jsx)("p",{className:Y.a["profile-desc"],children:T.bio||"Shockwallet user"}),Object(q.jsxs)("div",{className:A.y,children:[!we&&Object(q.jsx)(W,{publicKey:I}),Object(q.jsx)(w.a,{amt:24,insideRow:!0}),!we&&Object(q.jsx)($,{publicKey:I})]})]})]}),Object(q.jsx)(y.a,{onChange:Be,selected:Ce}),Object(q.jsxs)("div",{children:["posts"===Ce&&(0===ae.length?Object(q.jsx)(S.a,{text:"loading posts..."}):ae.map((function(e,t){var a=f[e.authorId];if("shared"===e.type){if(!e.originalPost)return null;var c,n,r=Object.entries(e.originalPost.contentItems).find((function(e){var t=Object(o.a)(e,2);return t[0],"stream/embedded"===t[1].type}));if(r){var s=Object(o.a)(r,2);c=s[0],n=s[1]}if(n){if(!n.liveStatus)return null;if("waiting"===n.liveStatus)return null;if("wasLive"===n.liveStatus){if(!n.playbackMagnet)return null;e.originalPost.contentItems[c].type="video/embedded",e.originalPost.contentItems[c].magnetURI=n.playbackMagnet}}var i=e.originalAuthor,u=f[i];return Object(q.jsx)(l.Suspense,{fallback:Object(q.jsx)(S.a,{}),children:Object(q.jsx)(X,{originalPost:e.originalPost,originalPostProfile:u,sharedTimestamp:e.shareDate,sharerProfile:a,postPublicKey:i,openTipModal:De,openUnlockModal:Te,openDeleteModal:null,openShareModal:Ee})},t)}var d,b,j=Object.entries(e.contentItems).find((function(e){var t=Object(o.a)(e,2);return t[0],"stream/embedded"===t[1].type}));if(j){var p=Object(o.a)(j,2);d=p[0],b=p[1]}if(b){if(!b.liveStatus)return null;if("waiting"===b.liveStatus)return null;if("wasLive"===b.liveStatus){if(!b.playbackMagnet)return null;e.contentItems[d].type="video/embedded",e.contentItems[d].magnetURI=b.playbackMagnet}}return Object(q.jsx)(l.Suspense,{fallback:Object(q.jsx)(S.a,{}),children:Object(q.jsx)(Q,{id:e.id,timestamp:e.date,contentItems:e.contentItems,username:Object(m.c)(null===a||void 0===a?void 0:a.user,null===a||void 0===a?void 0:a.displayName),publicKey:e.authorId,openTipModal:De,openUnlockModal:Te,tipCounter:e.tipCounter||0,tipValue:e.tipValue||0,openDeleteModal:null,openShareModal:Ee})},t)}))),"services"===Ce&&Object.entries(se).filter((function(e){var t=Object(o.a)(e,2);return t[0],!!t[1]})).map((function(e){var t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(q.jsxs)("div",{className:Y.a.post,children:[Object(q.jsx)("strong",{children:"Service ID"}),Object(q.jsx)("p",{children:a}),Object(q.jsx)("strong",{children:"Service Tpe"}),Object(q.jsx)("p",{children:c.serviceType}),Object(q.jsx)("strong",{children:"Service Title"}),Object(q.jsx)("p",{children:c.serviceTitle}),Object(q.jsx)("strong",{children:"Service Description"}),Object(q.jsx)("p",{children:c.serviceDescription}),Object(q.jsx)("strong",{children:"Service Condition"}),Object(q.jsx)("p",{children:c.serviceCondition}),Object(q.jsx)("strong",{children:"Service Price"}),Object(q.jsx)("p",{children:c.servicePrice}),Object(q.jsx)("button",{onClick:function(){me(Object(s.a)(Object(s.a)({},c),{},{serviceID:a,owner:I}))},children:"BUY SERVICE"})]})}))]}),Object(q.jsx)(w.a,{amt:200}),Object(q.jsxs)(k.a,{toggleModal:Me,modalOpen:u,contentStyle:{padding:"40px 30px"},children:[Object(q.jsx)(j.a,{bgColor:"#23282d",fgColor:"#4285b9",value:I,size:180,className:Y.a["profile-qrcode"]}),Object(q.jsx)("p",{className:Y.a["profile-qrcode-desc"],children:"Scan this code to contact this user"}),Object(q.jsxs)("div",{className:Y.a["profile-clipboard-container"],onClick:qe,children:[Object(q.jsx)("img",{src:U.a,className:Y.a["profile-clipboard-icon"],alt:""}),Object(q.jsx)("p",{className:Y.a["profile-clipboard-text"],children:"Tap to copy to clipboard"})]})]}),Object(q.jsx)(M.a,{tipData:ue,toggleOpen:De}),Object(q.jsx)(D.a,{unlockData:pe,toggleOpen:Te}),Object(q.jsx)(B,{service:he,toggleOpen:Ie}),Object(q.jsx)(K.a,{shareData:Ne,toggleOpen:Ee}),Object(q.jsx)(_.a,{onClick:Me,large:!0,iconURL:P.a,icon:null,label:null})]}),Object(q.jsx)(N.a,{})]})}}}]);
//# sourceMappingURL=15.590dae54.chunk.js.map