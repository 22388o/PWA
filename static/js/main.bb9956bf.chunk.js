(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[12],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(3),a=n.n(r),o=n(5),c={RESET_FEES:"fees/reset",LOAD_FEE_RATES:"fees/feeRates/load",SET_SOURCE:"fees/source/set",SET_RATE:"fees/rate/set"},u=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().fees.source,e.next=3,fetch(r);case 3:return o=e.sent,e.next=6,o.json();case 6:return u=e.sent,t({type:c.LOAD_FEE_RATES,data:u}),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},s=function(e){return{type:c.SET_SOURCE,data:e}},i=function(e){return{type:c.SET_RATE,data:e}}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(3),a=n.n(r),o=n(13),c=n(5),u=n(30),s=n(15),i={ADD_MY_SERVICE:"service/add",REMOVE_MY_SERVICE:"service/remove",ADD_BOUGHT_SERVICE:"service/add/bought"},l=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,s,i,l,d,f,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.post("/api/gun/set",{path:"$user>offeredServices",value:e});case 2:if(c=n.sent,s=c.data,i=s.ok,l=s.id,i){n.next=7;break}return n.abrupt("return","");case 7:return d=l,f=Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return r?(console.log("setting: ".concat(n," to ").concat(r)),u.a.post("/api/gun/put",{path:"$user>offeredServices>".concat(d,">").concat(n),value:{$$__ENCRYPT__FOR:"me",value:r}})):null})),n.next=11,Promise.all(f);case 11:if("torrentSeed"!==(p=e.serviceType)&&"streamSeed"!==p){n.next=16;break}return console.log("updating profile with service"),n.next=16,u.a.post("/api/gun/put",{path:"$user>Profile>offerSeedService",value:d});case 16:return n.abrupt("return",d);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("/api/gun/put",{path:"$user>offeredServices>".concat(e),value:null});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(t){var n="$user::offeredServices>".concat(e,"::on");return console.log(n),Object(s.b)({query:n,publicKey:"me",reconnect:!1,onData:function(){var e=Object(c.a)(a.a.mark((function e(n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),null!==n){e.next=4;break}return t({type:i.REMOVE_MY_SERVICE,data:r}),e.abrupt("return");case 4:t({type:i.ADD_MY_SERVICE,data:{id:r,serviceInfo:n}}),console.log("got service data");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}},p=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(o){var c,s,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.post("/api/lnd/unifiedTrx",{type:"service",amt:Number(n),to:e,memo:"",feeLimit:500,ackInfo:t});case 2:return c=r.sent,s=c.data,console.log(s),l=JSON.parse(s.orderAck.response),o({type:i.ADD_BOUGHT_SERVICE,data:{orderAck:l,owner:e,serviceID:t}}),r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){try{return JSON.parse(e)}catch(t){return e}}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return I}));n(49);var r=n(23),a=n(3),o=n.n(a),c=n(1),u=n(5),s=n(13),i=n(306),l=n.n(i),d=n(307),f=n.n(d),p=n(9),b=n(35),v=(n(192),n(18)),h=n(32),O=n(130),m={reconnection:!0,rejectUnauthorized:!1,parser:f.a,withCredentials:!0,transports:["websocket"]},j=new Map,g=null,E=function(){Array.from(j.entries()).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];x(n),A(r),j.delete(n)}))},y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,a,s,i,d,f,b,h,O=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.length>0&&void 0!==O[0]?O[0]:"",a=O.length>1&&void 0!==O[1]&&O[1],e.next=4,Promise.resolve().then(n.bind(null,19));case 4:if(s=e.sent,i=s.store,d=Object(c.a)(Object(c.a)({},m),{},{auth:{encryptionId:i.getState().encryption.deviceId,isInitial:!0}}),!(null===(t=g)||void 0===t?void 0:t.connected)||a){e.next=9;break}return e.abrupt("return",{GunSocket:g});case 9:return g&&a&&_(g),g=l()("".concat(r,"/gun"),d),(f=i.getState().node.relayId)&&g.emit("hybridRelayId",{id:f}),(b=T(g))("query:data",(function(e){var t,n=j.get(e.subscriptionId);n&&(null===(t=n.onData)||void 0===t||t.call(n,e.response.data,e.response.key))})),b("query:error",(function(e){var t,n=j.get(e.subscriptionId);n&&(null===(t=n.onError)||void 0===t||t.call(n,e.response.data,e.response.key))})),g.on(p.d,(function(){i.dispatch(Object(v.e)(!1))})),g.on("encryption:error",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"deviceId"!==t.field&&"Bad Mac"!==t.message||i.dispatch(Object(v.e)(!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E(),g.on("connect",(function(){console.log("Connected to new socket"),E()})),h=function e(){y(r,!0),window.removeEventListener("online resume",e)},window.addEventListener("online resume",h),e.abrupt("return",{GunSocket:g});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){e.off("*"),e.close()},S=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.err,r=t.data,a=t.callback,c=t.privateKey,!(n&&!b.d(n)||r&&!b.d(r))){e.next=4;break}return a(n,r),e.abrupt("return");case 4:if(!n){e.next=10;break}return e.next=7,b.a({privateKey:c,encryptedMessage:n});case 7:return u=e.sent,a(u,r),e.abrupt("return");case 10:if(!r){e.next=22;break}return e.prev=11,e.next=14,b.a({privateKey:c,encryptedMessage:r});case 14:s=e.sent,a(n,s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),a(e.t0,void 0);case 21:return e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r,a,c){var u,s,i,l,d,f,p,v,h,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.bind(null,19));case 2:if(s=t.sent,i=s.store,l=i.getState().encryption,d=l.hostKeys,f=l.userKeys,p=i.getState().node.hostId,!b.e(r)){t.next=9;break}return e.emit(r,a,c),t.abrupt("return");case 9:if(v=d[p],h=null===(u=f[p])||void 0===u?void 0:u.privateKey,v&&h){t.next=14;break}return console.error("[WS] Unable to retrieve key for specified Host ID:",p),t.abrupt("return");case 14:return t.next=16,a?b.b({publicKey:v,message:JSON.stringify(a)}):null;case 16:O=t.sent,e.emit(r,O,(function(e,t){S({err:e,data:t,callback:c,privateKey:h})}));case 18:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a,c){var s,i,l,d,f,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.bind(null,19));case 2:if(i=t.sent,l=i.store,d=l.getState().encryption.userKeys,f=l.getState().node.hostId,!b.e(a)){t.next=9;break}return e.on(a,c),t.abrupt("return");case 9:if(p=null===(s=d[f])||void 0===s?void 0:s.privateKey){t.next=13;break}return console.error("[WS] Unable to retrieve key for specified Host ID:",f),t.abrupt("return");case 13:e.on(a,Object(u.a)(o.a.mark((function e(){var t,n,a,s,i,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d.length,n=new Array(t),a=0;a<t;a++)n[a]=d[a];return e.next=3,Promise.all(n.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",t);case 3:if(!t||b.d(t)){e.next=6;break}return console.warn("Non-encrypted socket message",t),e.abrupt("return",t);case 6:return e.next=8,b.a({privateKey:p,encryptedMessage:t});case 8:return n=e.sent,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()));case 3:s=e.sent,i=s.filter((function(e){return!(e instanceof Error)})),(l=s.filter((function(e){return e instanceof Error}))).length&&console.log("Errors inside socket.on:",l),i.length&&c.apply(void 0,Object(r.a)(i));case 8:case"end":return e.stop()}}),e)}))));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x=function(e){j.get(e)&&(D(e),j.delete(e))},k=function(e){Array.from(j.entries()).map((function(t){var n=Object(s.a)(t,2),r=n[0],a=n[1];return a.query===e&&(console.log("Unsubscribing by query:",a),a.listener&&a.listener.off?(a.listener.off(),!0):(x(r),!0))}))},D=function(e){return new Promise((function(t){var n=j.get(e);n.listener&&n.listener.off&&(n.listener.off(),t(!0)),w(g)("unsubscribe",{subscriptionId:e},(function(){console.debug("[SOCKET] Unsubscribed from event successfully! (".concat(e,")")),t(!0)}))}))},A=function(e){var t=e.query,r=e.publicKey,a=e.epubForDecryption,o=e.epubField,c=e.reconnect,u=e.onData,s=e.onError;return new Promise((function(e,i){Promise.resolve().then(n.bind(null,19)).then((function(n){var l=n.store,d=l.getState().auth.authenticated,f=l.getState().node.authToken;if(!d)return Object(h.f)({query:t,callback:u}).then((function(e){var n=Object(O.uniqueId)();return j.set(n,{publicKey:r,onData:u,query:t,listener:e}),e}));c&&k(t),w(g)("subscribe:query",{$shock:t,token:f,publicKey:r,epubForDecryption:a,epubField:o},(function(n,l){if(n)return console.error("Gun rifle error (".concat(t,")")),console.error(n),void i(n);j.set(l.subscriptionId,{publicKey:r,epubForDecryption:a,epubField:o,reconnect:c,onData:u,onError:s,query:t}),e({off:function(){return x(l.subscriptionId)}})}))}))}))},I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map((function(e){return e.then((function(e){e.off()}))}))}}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(9),a=n(20),o=n(7),c=n(31),u=Object(a.a)("coordinates/deleted"),s=Object(a.a)("coordinates/received"),i=function(){return function(e){o.g.debug("Subscribing to coordinates.");try{var t=o.k({query:"$user::coordinates::map.on",publicKey:"me",onData:function(t,n){var a=o.l(t);r.j(a)?(e(s({coordinate:a,coordinateSHA256:n})),Object(c.j)()(e)):null===a?e(u({coordinateSHA256:n})):o.g.error("Coordinate subscription invalid (or incomplete) value -> ",a)}});return function(){t.then((function(e){e.off()}))}}catch(n){alert("Could not establish a subscription to coordinates: ".concat(n.message)),o.g.error("Could not establish a subscription to coordinates -> ",n)}}}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r={RESET_AUTH_INFO:"auth/reset",SET_AUTH_STEP:"auth/step/set",SET_AUTHENTICATED:"auth/authenticated/set",SET_AUTH_METHOD:"auth/method/set",LOGOUT:"auth/logout",SET_RELAY_ID:"auth/relay/set"},a=function(e){return{type:r.SET_AUTHENTICATED,data:e}},o=function(e){return{type:r.SET_AUTH_STEP,data:e}},c=function(e){return{type:r.SET_AUTH_METHOD,data:e}},u=function(){return{type:r.LOGOUT}}},183:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n(88),c=n.n(o),u=n(127),s=(n(358),n(4)),i=function(e){var t,n=e.text,a=void 0===n?"Loading...":n,o=e.fullScreen,i=void 0!==o&&o,l=e.small,d=void 0!==l&&l,f=e.overlay,p=void 0!==f&&f,b=e.overlayBackground,v=void 0===b?"rgba(44, 51, 58, 0.95)":b,h=e.style,O=void 0===h?{}:h,m=null!==(t=Object(u.b)())&&void 0!==t?t:"100vh",j=window.matchMedia("(display-mode: standalone)").matches,g=i?{height:j?"100%":m,marginBottom:0}:{},E=p?{backgroundColor:v}:{};return Object(s.jsxs)("div",{className:c()({"loading-wall":!0,"loading-small":d,"loading-overlay":p}),style:Object(r.a)(Object(r.a)(Object(r.a)({},g),E),O),"data-v-78b5fb45":"",children:[Object(s.jsxs)("div",{className:"loading-wall-icon","data-v-78b5fb45":"",children:[Object(s.jsx)("span",{className:"loading-circle loading-circle-1","data-v-78b5fb45":""}),Object(s.jsx)("span",{className:"loading-circle loading-circle-2","data-v-78b5fb45":""}),Object(s.jsx)("span",{className:"loading-circle loading-circle-3","data-v-78b5fb45":""}),d?null:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"loading-circle loading-circle-4","data-v-78b5fb45":""}),Object(s.jsx)("span",{className:"loading-circle loading-circle-5","data-v-78b5fb45":""})]})]}),a?Object(s.jsx)("div",{className:"loading-wall-text","data-v-78b5fb45":"",children:a}):null]})};t.a=Object(a.memo)(i)},187:function(e,t,n){"use strict";var r=n(0),a=(n(603),n(4)),o=function(e){var t=e.tipCounter,n=e.tipValue,r=e.zoomed,o=void 0!==r&&r;return n>0?Object(a.jsxs)("div",{className:"ribbon-container",style:{opacity:o?0:1},"data-v-07001206":"",children:[Object(a.jsx)("p",{className:"ribbon-title","data-v-07001206":"",children:"Total Tips"}),Object(a.jsxs)("p",{className:"ribbon-value","data-v-07001206":"",children:[t," ",1===t?"Tip":"Tips"]})]}):null};t.a=Object(r.memo)(o)},19:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return nt})),n.d(t,"persistor",(function(){return rt})),n.d(t,"useSelector",(function(){return at})),n.d(t,"useDispatch",(function(){return ot})),n.d(t,"selectRoot",(function(){return Qe})),n.d(t,"selectSelfPublicKey",(function(){return he})),n.d(t,"isAuth",(function(){return Oe})),n.d(t,"selectHost",(function(){return me})),n.d(t,"selectSelfUser",(function(){return ge})),n.d(t,"selectUser",(function(){return Ee})),n.d(t,"selectAllPublicKeys",(function(){return ye})),n.d(t,"selectAllOtherPublicKeys",(function(){return _e})),n.d(t,"selectAllOtherUsers",(function(){return Se})),n.d(t,"selectFollows",(function(){return we})),n.d(t,"selectOwnPublishedContent",(function(){return Te})),n.d(t,"selectConvos",(function(){return De})),n.d(t,"selectSingleConvo",(function(){return Ae})),n.d(t,"selectIsInContact",(function(){return Ie})),n.d(t,"selectCurrentHandshakeAddress",(function(){return Re})),n.d(t,"selectReceivedRequests",(function(){return Pe})),n.d(t,"selectAllMessages",(function(){return Ce})),n.d(t,"selectContacts",(function(){return Ne})),n.d(t,"selectCommunication",(function(){return Ue})),n.d(t,"selectConvoMessages",(function(){return Le})),n.d(t,"selectFeedPosts",(function(){return He})),n.d(t,"selectAllPosts",(function(){return qe})),n.d(t,"selectAllSharedPosts",(function(){return $e})),n.d(t,"selectSinglePost",(function(){return We})),n.d(t,"selectPostsNewestToOldest",(function(){return Ve})),n.d(t,"selectSharedPost",(function(){return Ye})),n.d(t,"selectAllPostsFromFollowedNewestToOldest",(function(){return ze})),n.d(t,"selectAllCoordinates",(function(){return Ge})),n.d(t,"selectAllCoordinatesNewestToOldest",(function(){return Je})),n.d(t,"selectSingleCoordinate",(function(){return Xe}));var r=n(25),a=n(105),o=n(1),c=n(17),u=n.n(c),s=n(40),i=n(18),l={hostId:null,hostIP:null,alias:null,authToken:null,publicKey:null,authTokenExpirationDate:null,authMethod:null,hostingAttemptsDone:!1,webClientPrefix:"https://lightning.page",relayId:null,accessSecret:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a.RESET_NODE_INFO:return l;case s.a.SET_HOST_IP:var n=t.data;return Object(o.a)(Object(o.a)({},e),{},{hostIP:n});case s.a.SET_HOST_ID:var r=t.data;return Object(o.a)(Object(o.a)({},e),{},{hostId:r});case s.a.SET_AUTHENTICATED_USER:var a=t.data,c=a.authToken,d=a.alias,f=a.publicKey,p=a.authTokenExpirationDate,b=a.authMethod;return u.a.defaults.headers.common.Authorization="Bearer ".concat(c),Object(o.a)(Object(o.a)({},e),{},{authToken:c,authTokenExpirationDate:p,alias:d,publicKey:f,authMethod:b});case s.a.SET_ATTEMPTS_DONE:return Object(o.a)(Object(o.a)({},e),{},{hostingAttemptsDone:!0});case s.a.SET_RELAY_ID:return Object(o.a)(Object(o.a)({},e),{},{relayId:t.data});case i.a.LOGOUT:return Object(o.a)(Object(o.a)({},e),{},{authToken:null,publicKey:null,authTokenExpirationDate:null,authMethod:null,hostingAttemptsDone:!1});case s.a.SET_WEBCLIENT_PREFIX:return Object(o.a)(Object(o.a)({},e),{},{webClientPrefix:t.data});case s.a.SET_ACCESS_SECRET:return Object(o.a)(Object(o.a)({},e),{},{accessSecret:t.data});default:return e}},f={authenticated:!1,authStep:"host",authMethod:null,relayId:null},p={manual:"host",shockWizard:"scan",shockCloud:"inviteCode",hostingTiers:"chooseTier"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.SET_AUTHENTICATED:return Object(o.a)(Object(o.a)({},e),{},{authenticated:t.data});case i.a.SET_AUTH_STEP:return Object(o.a)(Object(o.a)({},e),{},{authStep:t.data});case i.a.SET_AUTH_METHOD:var n=t.data;return Object(o.a)(Object(o.a)({},e),{},{authMethod:n,authStep:p[n]});case i.a.LOGOUT:return f;default:return e}},v=n(23),h=n(193),O=n.n(h),m=n(31),j={totalBalance:"0",channelBalance:"0",confirmedBalance:"0",pendingChannelBalance:"0",USDRate:null,transactions:{content:[],page:-1,totalPages:0,totalItems:0},payments:{content:[],page:-1,totalPages:0,totalItems:0},channels:[],invoices:{content:[],page:-1,totalPages:0,totalItems:0},peers:[],recentTransactions:[],lightningInfo:{}},g=function(e){return parseInt(e.creation_date||e.settle_date||e.time_stamp,10)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a.LOAD_BALANCE:var n=t.data,r=n.channelBalance,a=n.confirmedBalance,c=n.pendingChannelBalance,u=new O.a(a).add(r).add(c).toString();return Object(o.a)(Object(o.a)({},e),{},{totalBalance:u,channelBalance:r,confirmedBalance:a,pendingChannelBalance:c});case m.a.LOAD_USD_RATE:var s=t.data;return Object(o.a)(Object(o.a)({},e),{},{USDRate:s});case m.a.LOAD_PEERS:var i=t.data;return Object(o.a)(Object(o.a)({},e),{},{peers:i});case m.a.ADD_PEER:var l=t.data;return Object(o.a)(Object(o.a)({},e),{},{peers:[l].concat(Object(v.a)(e.peers))});case m.a.REMOVE_PEER:var d=t.data;return Object(o.a)(Object(o.a)({},e),{},{peers:e.peers.filter((function(e){return e.pub_key!==d.publicKey}))});case m.a.LOAD_CHANNELS:var f=t.data;return Object(o.a)(Object(o.a)({},e),{},{channels:f});case m.a.LOAD_TRANSACTIONS:var p=t.data;return Object(o.a)(Object(o.a)({},e),{},{transactions:p});case m.a.LOAD_MORE_TRANSACTIONS:var b=t.data;return Object(o.a)(Object(o.a)({},e),{},{transactions:Object(o.a)(Object(o.a)({},b),{},{content:[].concat(Object(v.a)(e.transactions.content),Object(v.a)(b.content))})});case m.a.LOAD_INVOICES:var h=t.data;return Object(o.a)(Object(o.a)({},e),{},{invoices:h});case m.a.LOAD_MORE_INVOICES:var E=t.data;return Object(o.a)(Object(o.a)({},e),{},{invoices:Object(o.a)(Object(o.a)({},E),{},{content:[].concat(Object(v.a)(e.invoices.content),Object(v.a)(E.content))})});case m.a.LOAD_PAYMENTS:var y=t.data;return Object(o.a)(Object(o.a)({},e),{},{payments:y});case m.a.LOAD_MORE_PAYMENTS:var _=t.data;return Object(o.a)(Object(o.a)({},e),{},{payments:Object(o.a)(Object(o.a)({},_),{},{content:[].concat(Object(v.a)(e.payments.content),Object(v.a)(_.content))})});case m.a.LOAD_RECENT_TRANSACTIONS:var S=t.data,w=S.transactions,T=S.payments,x=S.invoices,k=[].concat(Object(v.a)(w.content),Object(v.a)(T.content),Object(v.a)(x.content)).sort((function(e,t){var n=g(e),r=g(t);return n<r?1:n>r?-1:0})).map((function(e){var t=g(e);return e.payment_hash?{type:"payment",hash:e.payment_hash,value:e.value,date:t}:e.payment_request?{type:"invoice",hash:e.payment_request,value:e.value,date:t,message:e.memo}:e.tx_hash?{type:"chain",hash:e.tx_hash,value:e.amount,date:t,message:e.label}:(console.warn("Invalid transaction detected",e),null)})).filter((function(e){return null!==e}));return Object(o.a)(Object(o.a)({},e),{},{transactions:w,payments:T,invoices:x,recentTransactions:k});case m.a.RESET_RECENT_TRANSACTIONS:return Object(o.a)(Object(o.a)({},e),{},{recentTransactions:[]});case m.a.LOAD_LIGHTNING_INFO:var D=t.data;return Object(o.a)(Object(o.a)({},e),{},{lightningInfo:D});default:return e}},y=n(28),_=n(9),S=n(50),w=Object(y.a)((function(e,t){if(S.d.match(t)){var n=t.payload.handshakeAddress;e.currentHandshakeAddress!==n&&_.n(n)&&(e.receivedRequests={},e.currentHandshakeAddress=n)}if(S.k.match(t)){var r=t.payload.receivedRequest;e.receivedRequests[r.id]||(e.receivedRequests[r.id]=r)}if(S.c.match(t)){var a=t.payload.convo;e.convos[a.id]||(e.convoToMessages[a.id]={},e.convos[a.id]=a)}if(S.b.match(t)){var c=t.payload.id;e.convos[c]&&delete e.convos[c]}if(S.f.match(t)){var u=t.payload,s=u.convoID,i=u.errorMessage,l=u.messageID;e.convoToMessages[s][l].err=i,e.convoToMessages[s][l].state="error"}if(S.g.match(t)){var d=t.payload,f=d.convoID,p=d.message,b=d.messageID;e.convoToMessages[f][b]={body:p,convoID:f,err:"",id:b,state:"sending",timestamp:Date.now()}}if(S.h.match(t)){var v=t.payload,h=v.convoID,O=v.messageID;e.convoToMessages[h][O].err="",e.convoToMessages[h][O].state="sending"}if(S.i.match(t)){var m=t.payload,j=m.convoID,g=m.messageID;e.convoToMessages[j][g].err="",e.convoToMessages[j][g].state="ok"}if(S.e.match(t)){var E=t.payload.id;e.receivedRequests[E]&&delete e.receivedRequests[E]}if(S.j.match(t)){var y=t.payload.message;e.convoToMessages[y.convoID]||(e.convoToMessages[y.convoID]={}),e.convoToMessages[y.convoID][y.id]||(e.convoToMessages[y.convoID][y.id]=Object(o.a)(Object(o.a)({},y),{},{err:""}))}}),{currentHandshakeAddress:"DOES_NOT_EXIST",convos:{},convoToMessages:{},receivedRequests:{}}),T=n(91),x={open:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a.SET_DRAWER_OPEN:return Object(o.a)(Object(o.a)({},e),{},{open:t.data});default:return e}},D=n(29),A={seedProviderPub:"tcUUzRkyzXYhIZQbmopiCLREyZ_kQJqQ-C4XesecOm4.GX1Dv-eGcfKuOPobBK9Q-Sc-o697XgVCQzOCfqfimIo",streamUserToken:"",streamLiveToken:"",streamUrl:"",streamPostId:"",streamContentId:"",streamStatusUrl:"",streamBroadcasterUrl:"",publishedContent:{},publicContent:{},unlockedContent:{},seedInfo:{},availableTokens:{},availableStreamTokens:{},tipOverlayUrl:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;if(D.f.match(t))return Object(y.a)(e,(function(e){var n=t.payload.item;e.publicContent[n.id]||(e.publicContent[n.id]=n)}));if(D.g.match(t))return Object(y.a)(e,(function(e){var n=t.payload,r=n.content,a=n.res;a.ok&&(e.publishedContent[a.id]=r)}));if(D.h.match(t))return Object(y.a)(e,(function(e){delete e.publishedContent[t.payload.id]}));switch(t.type){case D.a.SET_SEED_PROVIDER_PUB:return Object(o.a)(Object(o.a)({},e),{},{seedProviderPub:t.data});case D.a.ADD_UNLOCKED_CONTENT:var n=t.data,r=Object(o.a)({},e.unlockedContent);return r[n.contentPath]=n.content,Object(o.a)(Object(o.a)({},e),{},{unlockedContent:r});case D.a.ADD_STREAM:var a=t.data;return Object(o.a)(Object(o.a)({},e),{},{streamLiveToken:a.liveToken,streamUserToken:a.seedToken,streamUrl:a.streamUrl,streamPostId:a.streamPostId,streamContentId:a.streamContentId,streamStatusUrl:a.streamStatusUrl,streamBroadcasterUrl:a.streamBroadcasterUrl,tipOverlayUrl:a.tipOverlayUrl});case D.a.REMOVE_STREAM:return Object(o.a)(Object(o.a)({},e),{},{streamLiveToken:"",streamUserToken:"",streamUrl:"",streamPostId:"",streamContentId:"",streamStatusUrl:"",streamBroadcasterUrl:""});case D.a.SET_SEED_INFO:var c=t.data;return Object(o.a)(Object(o.a)({},e),{},{seedInfo:c});case D.a.ADD_AVAILABLE_TOKEN:var u=t.data,s=u.seedUrl,i=u.userToken,l=Object(o.a)({},e.availableTokens);return l[s]||(l[s]=[]),l[s].push(i),Object(o.a)(Object(o.a)({},e),{},{availableTokens:l});case D.a.REMOVE_USED_TOKEN:var d=t.data,f=d.seedUrl,p=d.userToken,b=Object(o.a)({},e.availableTokens);if(!b[f])return e;var v=b[f].indexOf(p);return v>-1?(b[f].splice(v,1),Object(o.a)(Object(o.a)({},e),{},{availableTokens:b})):e;case D.a.ADD_STREAM_TOKEN:var h=t.data,O=h.seedUrl,m=h.userToken,j=Object(o.a)({},e.availableStreamTokens);return j[O]||(j[O]=[]),j[O].push(m),Object(o.a)(Object(o.a)({},e),{},{availableStreamTokens:j});case D.a.REMOVE_STREAM_TOKEN:var g=t.data,E=g.seedUrl,_=g.userToken,S=Object(o.a)({},e.availableStreamTokens);if(!S[E])return e;var w=S[E].indexOf(_);return w>-1?(S[E].splice(w,1),Object(o.a)(Object(o.a)({},e),{},{availableStreamTokens:S})):e;default:return e}},R=n(101),P={source:"https://mempool.space/api/v1/fees/recommended",rate:"halfHourFee",feeRates:{fastestFee:0,halfHourFee:0,hourFee:0}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.a.RESET_FEES:return P;case R.a.LOAD_FEE_RATES:var n=t.data;return Object(o.a)(Object(o.a)({},e),{},{feeRates:n});case R.a.SET_SOURCE:var r=t.data;return Object(o.a)(Object(o.a)({},e),{},{feeRates:P.feeRates,source:r});case R.a.SET_RATE:var a=t.data;return Object(o.a)(Object(o.a)({},e),{},{rate:a});default:return e}},N=n(7),U=n(36),L={follows:[],posts:{},sharedPosts:{},reloadDone:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;if(U.d.match(t)){var n=t.payload,r=n.author,a=n.id;return Object(y.a)(e,(function(e){e.posts[r]||(e.posts[r]=[]);var t=e.posts[r].findIndex((function(e){return e.id===a}));t>-1&&e.posts[r].splice(t,1)}))}if(U.e.match(t)){var c=t.payload,u=c.author,s=c.id,l=c.post;return Object(y.a)(e,(function(e){if(e.posts[u]||(e.posts[u]=[]),-1===e.posts[u].findIndex((function(e){return e.id===s}))){var t={authorId:u,contentItems:{},date:l.date,id:s,status:l.status,tags:l.tags,title:l.title,tips:{},type:"post"};e.posts[u].push(t)}}))}if(U.b.match(t)){var d=t.payload,f=d.author,p=d.contentItem,b=d.id,h=d.postID;return Object(y.a)(e,(function(e){if(e.posts[f]){var t=e.posts[f].findIndex((function(e){return e.id===h}));-1!==t?e.posts[f][t].contentItems[b]=p:N.g.error("Error inside feed reducer, received a content item but post is not in existing state, post id ".concat(h," from author ...").concat(f.slice(-8)))}else N.g.error("Error inside feed reducer, received a content item but post is not in existing state (no author found), post id ".concat(h," from author ...").concat(f.slice(-8)))}))}if(U.j.match(t)){var O=t.payload,m=O.postID,j=O.sharerPublicKey;return Object(y.a)(e,(function(e){e.sharedPosts[j]||(e.sharedPosts[j]={}),e.sharedPosts[j][m]&&delete e.sharedPosts[j][m]}))}if(U.k.match(t)){var g=t.payload,E=g.originalAuthor,_=g.postID,S=g.shareDate,w=g.sharerPublicKey;return Object(y.a)(e,(function(e){e.sharedPosts[w]||(e.sharedPosts[w]={}),e.sharedPosts[w][_]={originalAuthor:E,originalPostID:_,shareDate:S,shareID:w+_,sharedBy:w}}))}if(U.f.match(t)){var T=t.payload,x=T.author,k=T.postID,D=T.tipAmt,A=T.tipID;return Object(y.a)(e,(function(e){var t=e.posts[x].find((function(e){return e.id===k}));t||N.g.error("Got tip for non existent post ".concat(k," from author ...").concat(x.slice(-8))),t.tips||(t.tips={}),t.tips[A]||(t.tips[A]=D)}))}switch(t.type){case U.a.ADD_FOLLOW:var I=t.data,R=e.follows.find((function(e){return I.user===e.user}));return R?Object(o.a)(Object(o.a)({},e),{},{follows:e.follows.map((function(e){return e.user===I.user?I:e}))}):Object(o.a)(Object(o.a)({},e),{},{follows:[].concat(Object(v.a)(e.follows),[I])});case U.a.REMOVE_FOLLOW:var P=t.data;return Object(o.a)(Object(o.a)({},e),{},{follows:e.follows.filter((function(e){return e.user!==P}))});case U.a.UPDATE_FOLLOW:var C=t.data,K=e.follows.map((function(e){return e.user===C.key?Object(o.a)(Object(o.a)({},e),{},{profile:C}):e}));return Object(o.a)(Object(o.a)({},e),{},{follows:K});case U.a.RELOAD_FEED:return Object(o.a)(Object(o.a)({},e),{},{reloadDone:!0});case U.a.RESET_DEFAULT_FOLLOWS:var M=t.data;return Object(o.a)(Object(o.a)({},e),{},{follows:M});case i.a.LOGOUT:return L;default:return e}},M=n(49),F=n(87),B=n(65),H={deviceId:Object(F.a)(),userKeys:{},hostKeys:{}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.a.SET_DEVICE_ID:var n=t.data;return Object(o.a)(Object(o.a)({},e),{},{deviceId:n});case B.a.ADD_USER_KEY_PAIR:var r=t.data,a=r.hostId,c=r.keyPair;return Object(o.a)(Object(o.a)({},e),{},{userKeys:Object(o.a)(Object(o.a)({},e.userKeys),{},Object(M.a)({},a,c))});case B.a.ADD_HOST_KEY:var u=t.data,s=u.hostId,i=u.publicKey;return Object(o.a)(Object(o.a)({},e),{},{hostKeys:Object(o.a)(Object(o.a)({},e.hostKeys),{},Object(M.a)({},s,i))});default:return e}},$=n(102),W=n(316),V=n(68),Y={},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;if(U.k.match(t)){var n=t.payload.originalAuthor;return Object(y.a)(e,(function(e){e[n]||(e[n]=_.f(n))}))}if(V.d.match(t))return Object(y.a)(e,(function(e){var n=t.payload,r=n.profile,a=n.publicKey;e[a]||(e[a]=_.f(a)),Object.assign(e[a],r)}));switch(t.type){case s.a.SET_AUTHENTICATED_USER:var r=t.data.publicKey;return Object(o.a)(Object(o.a)({},e),{},Object(M.a)({},r,Object(o.a)(Object(o.a)({},_.f(r)),e[r])));case V.a.RESET_USER_PROFILES:return Y;case V.a.REMOVE_USER_PROFILE:var a=t.data.publicKey,c=(e[a],Object($.a)(e,[a].map(W.a)));return c;default:return e}},G=n(47),J={user:null,paymentRequest:null,follows:[],tips:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.data;switch(t.type){case G.a.RESET_GUEST:return J;case G.a.CREATE_GUEST_USER:return Object(o.a)(Object(o.a)({},e),{},{user:n});case G.a.TIP_USER:return Object(o.a)(Object(o.a)({},e),{},{tips:[].concat(Object(v.a)(e.tips),[n])});case G.a.SET_PAYMENT_RESPONSE:return Object(o.a)(Object(o.a)({},e),{},{paymentRequest:n});case G.a.FOLLOW_USER:var r=t.data;return Object(o.a)(Object(o.a)({},e),{},{follows:[].concat(Object(v.a)(e.follows),[r])});case G.a.UNFOLLOW_USER:var a=t.data;return Object(o.a)(Object(o.a)({},e),{},{follows:e.follows.filter((function(e){return e.user!==a}))});case G.a.RESET_DEFAULT_FOLLOWS:var c=t.data;return e.follows.length>0?e:Object(o.a)(Object(o.a)({},e),{},{follows:c});default:return e}},Q=n(117),Z={myServices:{},services:{},boughtServices:{}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.a.ADD_MY_SERVICE:var n=t.data,r=n.id,a=n.serviceInfo,c=Object(o.a)({},e.myServices);return c[r]=a,Object(o.a)(Object(o.a)({},e),{},{myServices:c});case Q.a.REMOVE_MY_SERVICE:var u=t.data,s=Object(o.a)({},e.myServices);return delete s[u],Object(o.a)(Object(o.a)({},e),{},{myServices:s});case Q.a.ADD_BOUGHT_SERVICE:var i=t.data,l=i.orderAck,d=i.owner,f=i.serviceID,p=Object(o.a)({},e.boughtServices);p[d]||(p[d]={});var b=p[d];return b[f]||(b[f]=[]),b[f].push(l),Object(o.a)(Object(o.a)({},e),{},{boughtServices:p});default:return e}},te=n(67),ne={dialogText:"",dialogHasCallback:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.a.OPEN_DIALOG:var n=t.data,r=n.text,a=n.hasCallback;return Object(o.a)(Object(o.a)({},e),{},{dialogText:r,dialogHasCallback:a});case te.a.CLOSE_DIALOG:return Object(o.a)(Object(o.a)({},e),{},{dialogText:"",dialogHasCallback:!1});default:return e}},ae=n(270),oe=Object(y.a)((function(e,t){try{if(ae.a.match(t)){var n=t.payload,r=n.key,a=n.value;e[r]=a}}catch(o){N.g.error("Error inside settings reducer:"),N.g.error(o)}}),{}),ce=n(172),ue=Object(y.a)((function(e,t){ce.a.match(t)&&delete e[t.payload.coordinateSHA256];if(ce.b.match(t)){var n=t.payload,r=n.coordinate,a=n.coordinateSHA256;e[a]=Object(o.a)(Object(o.a)({},r),{},{coordinateSHA256:a})}}),{}),se=Object(r.c)({node:d,auth:b,encryption:q,wallet:E,chat:w,drawer:k,content:I,fees:C,feed:K,userProfiles:z,orders:ee,app:re,guest:X,settings:oe,coordinates:ue}),ie=n(38),le=n(182),de=n(311),fe=n.n(de),pe={1:function(e){console.log("--- PeerMigration Started ---");var t=Object(o.a)(Object(o.a)({},e),{},{wallet:Object(o.a)(Object(o.a)({},e.wallet),{},{peers:[]})});return console.log("--- PeerMigration Ended ---",t),t}},be=n(124),ve=n(131),he=function(e){return e.node.publicKey},Oe=function(e){return!!e.node.publicKey},me=function(e){return e.node.hostIP},je=n(27),ge=function(e){var t,n=null!==(t=he(e))&&void 0!==t?t:"",r=e.userProfiles[n];return r||(console.error("No self user created at auth?"),_.e.createEmptyUser(n))},Ee=function(e){return function(t){var n=t.userProfiles[e];return n||_.e.createEmptyUser(null!==e&&void 0!==e?e:"")}},ye=function(e){return Object.keys(e.userProfiles)},_e=function(e){var t=he(e);return ye(e).filter((function(e){return e!==t}))},Se=Object(je.a)((function(e){return e.userProfiles}),(function(e){return e.node.publicKey}),(function(e,t){return Object.values(e).filter((function(e){return e.publicKey!==t}))})),we=Object(je.a)(he,(function(e){return e.auth.authenticated?e.feed.follows:e.guest.follows}),(function(e,t){return t.filter((function(t){return t.user!==e}))})),Te=Object(je.a)((function(e){return e.content.publishedContent}),(function(e){return e.content.publicContent}),(function(e,t){return Object(o.a)(Object(o.a)({},e),t)})),xe=n(312),ke=n.n(xe),De=Object(je.a)((function(e){return e.chat.convos}),(function(e){return Object.values(e)})),Ae=function(e){return function(t){var n=t.chat.convos[e];return null!==n&&void 0!==n?n:null}},Ie=function(e){return function(t){return!!Object.values(t.chat.convos).find((function(t){return t.with===e}))}},Re=function(e){return e.chat.currentHandshakeAddress},Pe=Object(je.a)((function(e){return e.chat.receivedRequests}),De,(function(e,t){return Object.values(e).filter((function(e){return!t.find((function(t){return t.id===e.receiverConvoID}))}))})),Ce=function(e){return e.chat.convoToMessages},Ne=Object(je.a)((function(e){return e.chat.convos}),(function(e){return e.userProfiles}),(function(e,t){var n=Object.values(e).map((function(e){return e.with}));return ke()(n).map((function(e){var n=t[e];return n||_.f(e)}))})),Ue=function(e){return function(t){var n=t.chat.convos[e],r=t.chat.receivedRequests[e];return r||(n||null)}},Le=function(e){return function(t){return Object.values(t.chat.convoToMessages[e]).sort((function(e,t){return t.timestamp-e.timestamp}))}},Ke=n(179),Me=n.n(Ke),Fe=n(313),Be=n.n(Fe),He=Object(je.a)(he,(function(e){return e.feed.posts}),(function(e,t){return Be()(t,(function(t,n){return n!==e}))})),qe=function(e){return e.feed.posts},$e=function(e){return e.feed.sharedPosts},We=function(e,t){return function(n){var r;return(null===(r=n.feed.posts[e])||void 0===r?void 0:r.find((function(e){return e.id===t})))||null}},Ve=function(e){return function(t){var n,r=(null===(n=t.feed.posts[e])||void 0===n?void 0:n.slice())||[],a=t.feed.sharedPosts[e]||{},o=Object.values(a),c=[].concat(Object(v.a)(r),Object(v.a)(o));return c.sort((function(e,t){var n=_.o(e)?e.shareDate:e.date;return(_.o(t)?t.shareDate:t.date)-n})),c}},Ye=function(e,t){return function(n){return(n.feed.sharedPosts[e]||{})[t]||null}},ze=Object(je.a)(qe,$e,we,(function(e,t,n){var r=n.map((function(e){return e.user})),a=Me()(e,r),o=Me()(t,r),c=Object.values(a).flat(),u=Object.values(o).map((function(e){return Object.values(e)})).flat();return[].concat(Object(v.a)(c),Object(v.a)(u)).sort((function(e,t){var n=_.o(e)?e.shareDate:e.date;return(_.o(t)?t.shareDate:t.date)-n}))})),Ge=Object(je.a)((function(e){return e.coordinates}),(function(e){return Object.values(e)})),Je=Object(je.a)(Ge,(function(e){return e.slice().sort((function(e,t){return t.timestamp-e.timestamp}))})),Xe=function(e){return function(t){return t.coordinates[e]}},Qe=function(e){return e},Ze={key:"root",storage:fe.a,blacklist:["auth"],version:1,stateReconciler:ve.a,migrate:Object(be.a)(pe,{debug:!1})},et=Object(le.a)(Ze,se),tt=function(){var e=Object(r.a)(a.a),t=window.__REDUX_DEVTOOLS_EXTENSION__?Object(r.e)(et,Object(r.d)(e,window.__REDUX_DEVTOOLS_EXTENSION__())):Object(r.e)(et,e);return{store:t,persistor:Object(le.b)(t)}}(),nt=tt.store,rt=tt.persistor,at=function(e){return Object(ie.c)(e)},ot=function(){return Object(ie.b)()}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="$$__SHOCKWALLET__INITIAL__MESSAGE",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t)return t;var n=e.slice(-8);return"Anon".concat(n)}},269:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=269},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),a=Object(r.a)("settings/set")},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return m})),n.d(t,"o",(function(){return j})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"e",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"m",(function(){return k}));var r=n(3),a=n.n(r),o=n(5),c=n(20),u=n(30),s=n(15),i=n(46),l=n(7),d=n(67),f={SET_SEED_PROVIDER_PUB:"content/setSeedProviderPub",SET_SEED_INFO:"content/setSeedInfo",PUBLISHED_CONTENT_ADDED:"content/publishedContentAdded",PUBLISHED_CONTENT_REMOVED:"content/publishedContentRemoved",ADD_UNLOCKED_CONTENT:"content/addUnlocked",ADD_STREAM:"content/addStream",REMOVE_STREAM:"content/removeStream",ADD_AVAILABLE_TOKEN:"content/addToken",REMOVE_USED_TOKEN:"content/removeToken",ADD_STREAM_TOKEN:"content/addStreamToken",REMOVE_STREAM_TOKEN:"content/removeStreamToken"},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(o.a)(a.a.mark((function n(r){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=5;break}return o={$$__ENCRYPT__FOR:"me",value:e},e||(o=""),n.next=5,u.a.post("/api/gun/put",{path:"$user>preferencesSeedServiceProvider",value:o});case 5:r({type:f.SET_SEED_PROVIDER_PUB,data:e});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(o.a)(a.a.mark((function r(o){var c,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=e.endsWith("/")?e.slice(0,-1):e,n){r.next=5;break}return s=JSON.stringify({seedUrl:c,seedToken:t}),r.next=5,u.a.post("/api/gun/put",{path:"$user>preferencesSeedServiceData",value:{$$__ENCRYPT__FOR:"me",value:s}});case 5:o({type:f.SET_SEED_INFO,data:{seedUrl:c,seedToken:t}});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},v=Object(c.a)(f.PUBLISHED_CONTENT_ADDED),h=Object(c.a)("content/publicContentAdded"),O=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("public"!==t){n.next=9;break}if(Object(i.e)(e)){n.next=3;break}throw new TypeError("Expected content to upload to be a PublicContentItem");case 3:return n.next=5,u.a.post("/api/gun/put",{path:"$user>publishedContentPublic>".concat(e.id),value:e});case 5:return r(h({item:e})),n.abrupt("return",e);case 9:return n.next=11,u.a.post("/api/gun/set",{path:"$user>publishedContent",value:{$$__ENCRYPT__FOR:"me",value:JSON.stringify(e)}});case 11:return o=n.sent,c=o.data,r(v({content:e,res:c})),n.abrupt("return",c);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=Object(c.a)(f.PUBLISHED_CONTENT_REMOVED),j=function(e,t,n){return function(){var r=Object(o.a)(a.a.mark((function r(o){var c,s,i,l,d;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.post("/api/lnd/unifiedTrx",{type:"contentReveal",amt:e,to:t,memo:"",feeLimit:500,ackInfo:n});case 2:if(c=r.sent,s=c.data,(i=s.orderAck.response)&&i.unlockedContents)for(l in i.unlockedContents)Object.hasOwnProperty.call(i.unlockedContents,l)&&(d=i.unlockedContents[l],o({type:f.ADD_UNLOCKED_CONTENT,data:{contentPath:"".concat(t,">posts>").concat(n),content:d}}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},g=function(e){var t=e.seedToken,n=e.liveToken,r=e.streamUrl,c=e.streamPostId,s=e.streamContentId,i=e.streamStatusUrl,l=e.streamBroadcasterUrl,d=e.tipOverlayUrl,p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var e=Object(o.a)(a.a.mark((function e(o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return e.next=3,u.a.post("/api/gun/put",{path:"$user>currentStreamInfo",value:{$$__ENCRYPT__FOR:"me",value:JSON.stringify({seedToken:t,liveToken:n,streamUrl:r,streamPostId:c,streamContentId:s,streamStatusUrl:i,streamBroadcasterUrl:l,tipOverlayUrl:d})}});case 3:o({type:f.ADD_STREAM,data:{seedToken:t,liveToken:n,streamUrl:r,streamPostId:c,streamContentId:s,streamStatusUrl:i,streamBroadcasterUrl:l,tipOverlayUrl:d}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(o.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t||Object(d.c)({text:"The recording of the stream will be published in a few moments."})(r),e){n.next=4;break}return n.next=4,u.a.post("/api/gun/put",{path:"$user>currentStreamInfo",value:{$$__ENCRYPT__FOR:"me",value:"NO DATA"}});case 4:r({type:f.REMOVE_STREAM});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(n){n({type:f.ADD_AVAILABLE_TOKEN,data:{seedUrl:e,userToken:t}})}},_=function(e,t){return function(n){n({type:f.REMOVE_USED_TOKEN,data:{seedUrl:e,userToken:t}})}},S=function(e,t){return function(n){n({type:f.ADD_STREAM_TOKEN,data:{seedUrl:e,userToken:t}})}},w="$user::publishedContent::map.on",T=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("Subscribing to own published content"),e.next=3,Object(s.b)({query:w,reconnect:!0,publicKey:"me",onData:function(){var e=Object(o.a)(a.a.mark((function e(n,r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.debug("Received own content:"),console.debug(n),"string"===typeof r){e.next=5;break}throw new TypeError("Invalid content key received: ".concat(r));case 5:if(n){e.next=8;break}return t(m({id:r})),e.abrupt("return");case 8:if("string"===typeof n){e.next=10;break}throw new TypeError("Invalid content (in key ".concat(r,") received (").concat(JSON.stringify(n),")"));case 10:if(o=Object(l.i)(n),Object(i.f)(o)){e.next=13;break}throw new TypeError("Invalid content received (might be incomplete replication): ".concat(JSON.stringify(o,null,2)));case 13:t(v({content:o,res:{id:r,ok:!0}})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error inside own published content sub:"),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}()});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(){return function(){console.debug("Unsubbing own published content."),Object(s.d)(w)}},k=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.g.debug("Subscribing to own public content"),e.next=3,Object(s.b)({query:"$user::publishedContentPublic::map.on",reconnect:!0,onError:function(e){alert("Error inside own public content rifle: ".concat(JSON.stringify(e))),l.g.error("Error inside own public content rifle: ",e)},onData:function(){var e=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==n){e.next=3;break}return e.abrupt("return");case 3:if(l.g.debug("Received own public item:"),l.g.debug(n),Object(i.e)(n)){e.next=7;break}throw new TypeError("Invalid public content item: ".concat(JSON.stringify(n,null,2)));case 7:t(h({item:n})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),l.g.error("Error inside own public content sub:"),l.g.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},295:function(e,t,n){"use strict";var r=n(0),a=n(187),o=(n(604),n(132)),c=n(4),u=function(e){var t=e.item,n=e.tipValue,u=e.tipCounter,s=e.hideRibbon,i=e.width,l=Object(r.useRef)(null),d={width:"100%"};i&&(d.width=i);var f=t.liveStatus;return Object(r.useEffect)((function(){var e=Object(o.a)(l.current,{autoplay:!0,muted:!0,aspectRatio:"16:9"});e.src({src:t.magnetURI,type:"application/x-mpegURL"}),e.play()}),[t]),Object(r.useEffect)((function(){if(t.viewersSocketUrl){var e=new WebSocket("".concat(t.viewersSocketUrl,"/stream/watch/").concat(t.userToken));return e.addEventListener("open",(function(){console.log("viewer socket open")})),function(){e.close()}}}),[t]),Object(c.jsx)("div",{className:"media-container w-100","data-v-14f303e6":"",children:Object(c.jsxs)("div",{className:"video-container w-100",style:{cursor:"pointer",width:"100%"},"data-v-14f303e6":"",children:["waiting"===f&&Object(c.jsx)("p",{"data-v-14f303e6":"",children:"The stream did not start yet."}),"wasLive"===f&&Object(c.jsx)("p",{"data-v-14f303e6":"",children:"The stream is over"}),!f&&Object(c.jsx)("p",{"data-v-14f303e6":"",children:"The streamer has disconnected."}),Object(c.jsx)("div",{style:"live"===f?{width:"100%"}:{display:"none",width:"100%"},"data-v-14f303e6":"",children:Object(c.jsx)("video",{className:"video-js vjs-default-skin",ref:l,style:d,preload:"auto",controls:!0,muted:!0,autoPlay:!0,"data-v-14f303e6":""})}),!s&&Object(c.jsx)(a.a,{tipCounter:u,tipValue:n,zoomed:!1,"data-v-14f303e6":""})]})})};t.a=Object(r.memo)(u)},30:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(1),c=n(5),u=n(17),s=n.n(u),i=n(18),l=n(65),d=n(35),f=n(129),p={GET:["/healthz","/ping","/favicon.ico","/api/lnd/wallet/status"],POST:["/api/security/exchangeKeys","/api/encryption/exchange"],PUT:[],DELETE:[]},b=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,u,s,i,l,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,19));case 2:if(r=e.sent,c=r.store,u=c.getState().encryption.hostKeys,s=c.getState().node.hostId,i=t.data,l=u[s],"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOCK_ENCRYPTION_ECC){e.next=10;break}return e.abrupt("return",t);case 10:if(l){e.next=13;break}return console.warn("[ENCRYPTION] Unable to retrieve key for specified Host ID:",s,u),e.abrupt("return",t);case 13:return e.next=15,d.b({publicKey:l,message:JSON.stringify(i)});case 15:return f=e.sent,e.abrupt("return",Object(o.a)(Object(o.a)({},t),{},{data:f}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,u,s,i,l,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.resolve().then(n.bind(null,19));case 4:if(c=e.sent,u=c.store,s=u.getState().encryption.userKeys,i=u.getState().node.hostId,l=t.data,d.d(l)){e.next=11;break}return e.abrupt("return",Object(o.a)(Object(o.a)({},t),{},{data:Object(f.a)(t.data)}));case 11:if(p=null===(r=s[i])||void 0===r?void 0:r.privateKey){e.next=15;break}return console.warn("[ENCRYPTION] Unable to retrieve key for specified Host ID:",i,s),e.abrupt("return",t);case 15:return e.next=17,d.a({privateKey:p,encryptedMessage:l});case 17:return b=e.sent,e.abrupt("return",Object(o.a)(Object(o.a)({},t),{},{data:b}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s.a.interceptors.request.use(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,o,c,u,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(n.bind(null,19));case 3:if(r=e.sent,o=r.store,c=o.getState().node.authToken,u=o.getState().encryption.deviceId,s=o.getState().node.relayId,(i=0===t.url.indexOf("/"))&&(t.headers.common.Authorization="Bearer ".concat(c),t.headers.common["encryption-device-id"]=u,s&&(t.headers.common["x-shock-hybrid-relay-id-x"]=s)),t.originalData=t.originalData||t.data,!i||p[t.method.toUpperCase()].includes(t.url)){e.next=15;break}return e.next=14,b(t);case 14:return e.abrupt("return",e.sent);case 15:return e.abrupt("return",t);case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()),s.a.interceptors.response.use(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,u,d,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(n.bind(null,19));case 3:return c=e.sent,u=c.store,e.next=7,v(t.response);case 7:if(d=e.sent,t.response=d,console.error("Error status:",t.response),d||u.dispatch(Object(i.e)(!1)),!("deviceId"===(null===d||void 0===d?void 0:d.data.field)&&(null!==(r=t.config.retries)&&void 0!==r?r:0)<2)){e.next=18;break}return u.dispatch(Object(i.e)(!1)),e.next=15,Object(l.b)()(u.dispatch);case 15:return p=e.sent,t.config.retries=(null!==(f=t.config.retries)&&void 0!==f?f:0)+1,e.abrupt("return",s()(Object(o.a)(Object(o.a)({},t.config),{},{data:t.config.originalData,headers:Object(o.a)(Object(o.a)({},t.config.headers),{},{"encryption-device-id":p.deviceId})})));case 18:return e.abrupt("return",Promise.reject(t));case 21:throw e.prev=21,e.t0=e.catch(0),console.error(e.t0),t;case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()),t.a=s.a},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return O})),n.d(t,"b",(function(){return m}));var r=n(3),a=n.n(r),o=n(5),c=n(17),u=n.n(c),s={LOAD_BALANCE:"wallet/balance/load",LOAD_USD_RATE:"wallet/usdRate/load",LOAD_TRANSACTIONS:"wallet/transactions/load",LOAD_MORE_TRANSACTIONS:"wallet/transactions/loadMore",LOAD_CHANNELS:"wallet/channels/load",LOAD_INVOICES:"wallet/invoices/load",LOAD_MORE_INVOICES:"wallet/invoices/loadMore",LOAD_PAYMENTS:"wallet/payments/load",LOAD_MORE_PAYMENTS:"wallet/payments/loadMore",LOAD_PEERS:"wallet/peers/load",ADD_PEER:"wallet/peers/add",REMOVE_PEER:"wallet/peers/remove",LOAD_RECENT_TRANSACTIONS:"wallet/recentTransactions/load",RESET_RECENT_TRANSACTIONS:"wallet/recentTransactions/reset",LOAD_LIGHTNING_INFO:"wallet/lightningInfo/load"},i=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/lnd/balance");case 3:n=e.sent,r=n.data,t({type:s.LOAD_BALANCE,data:{channelBalance:r.channel_balance,confirmedBalance:r.confirmed_balance,pendingChannelBalance:r.pending_channel_balance}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("When trying to fetch the balance for the wallet, an error ocurred:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},l=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://api.coinbase.com/v2/prices/spot?currency=USD");case 3:n=e.sent,r=n.data,o=r.data.amount.replace(/,/g,""),t({type:s.LOAD_USD_RATE,data:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("An error happened when trying to fetch the USD rate:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.page,n=e.itemsPerPage,r=void 0===n?10:n,c=e.reset,i=void 0!==c&&c;return function(){var e=Object(o.a)(a.a.mark((function e(n,o){var c,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((c=o().wallet.transactions).page>=t&&!i||c.totalPages<t)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u.a.get("/api/lnd/transactions",{params:{page:t,itemsPerPage:r}});case 6:l=e.sent,d=l.data,n({type:i?s.LOAD_TRANSACTIONS:s.LOAD_MORE_TRANSACTIONS,data:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("An error ocurred when fetching transactions (fetchTransactions()):",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},f=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/lnd/listchannels");case 3:n=e.sent,r=n.data,t({type:s.LOAD_CHANNELS,data:r.channels}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("An ocurred ocurred when fetching channels (fetchChannels()):",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/lnd/listpeers");case 3:return n=e.sent,r=n.data,t({type:s.LOAD_PEERS,data:r.peers}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("An error ocurred while fetching peers (fetchPeers()) (will be re-thrown):",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.page,n=e.itemsPerPage,r=void 0===n?10:n,c=e.reset,i=void 0!==c&&c;return function(){var e=Object(o.a)(a.a.mark((function e(n,o){var c,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((c=o().wallet.invoices).page>=t&&!i||c.totalPages<t)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u.a.get("/api/lnd/invoices",{params:{page:t,itemsPerPage:r}});case 6:l=e.sent,d=l.data,n({type:i?s.LOAD_INVOICES:s.LOAD_MORE_INVOICES,data:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("An error ocurred while fetching invoices (fetchInvoices()):",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/lnd/unifiedTrx");case 2:return n=e.sent,r=n.data,t({type:s.LOAD_RECENT_TRANSACTIONS,data:r}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.publicKey,n=e.host;return function(){var e=Object(o.a)(a.a.mark((function e(r){var o,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/api/lnd/connectpeer",{pubkey:t,host:n});case 3:o={pub_key:t,address:n,bytes_sent:0,bytes_recv:0,sat_sent:0,sat_recv:0,inbound:!1},r({type:s.ADD_PEER,data:o}),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("An error ocurred while connecting peer --| ".concat(n," |-- with public key --| ").concat(t," |-- in connectPeer()"),e.t0),null!==(c=null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.data)&&void 0!==c?c:e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.publicKey,n=void 0===t?"":t,r=e.channelCapacity,c=void 0===r?"0":r,s=e.pushAmount,i=void 0===s?"0":s;return function(){var e=Object(o.a)(a.a.mark((function e(t,r){var o,s,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r().fees,s=o.feeRates,l=o.rate,e.next=4,u.a.post("/api/lnd/openchannel",{pubkey:n,channelCapacity:c,channelPushAmount:i,satPerByte:s[l]});case 4:t(f()),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("An error ocurred while opening a channel (openChannel()) with public key --| ".concat(n," |--, channel capacity: --| ").concat(c," |-- and push amount: --| ").concat(i," |--:"),e.t0),null!==(d=null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p?void 0:p.data)&&void 0!==d?d:e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/lnd/getinfo");case 3:n=e.sent,r=n.data,t({type:s.LOAD_LIGHTNING_INFO,data:r}),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),null!==(o=null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data)&&void 0!==o?o:e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},32:function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return T}));var r=n(1),a=n(3),o=n.n(a),c=n(5),u=n(13),s=n(123),i=n.n(s),l=function(){return navigator.userAgent.includes("Prerender")},d=(n(86),n(501),function(e){try{return JSON.parse(e)}catch(t){return null}}(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PEERS)),f=d||["https://gun.shock.network/gun","https://gun-eu.shock.network/gun"],p=function(e){return new Promise((function(t,n){setTimeout((function(){t(!0)}),e)}))},b=function(e){for(var t="",n=function(){var e=Math.floor(62*Math.random());return e<10?e:e<36?String.fromCharCode(e+55):String.fromCharCode(e+61)};t.length<e;)t+=n();return t},v=function(e){var t=Object(u.a)(e,2),n=t[0];return t[1]&&"_"!==n&&"#"!==n},h=function e(t){try{if(console.log("Incomplete Gun Response Check:",typeof t,t),null===t||void 0===t)return!0;if(Array.isArray(t))return!t.length||t.reduce((function(t,n){return t||e(n)}));if("object"===typeof t){if(!t||"number"===typeof t.err)return!0;if("{}"===JSON.stringify(t))return!0;var n=Object.entries(t).filter(v);if(!(null===n||void 0===n?void 0:n.length))return!0}return!1}catch(r){return console.warn("An error has occurred:",r),!0}},O=function(e){var t=e.path,n=function(e){return"$gun"===e?m:S(e)}(e.root);return t.split(">").reduce((function(e,t){return e.get(t)}),n)},m=i()({axe:!1,peers:f}),j=function e(t){var n=t.query,r=t.retryDelay,a=void 0===r?500:r,s=t.retryLimit,i=void 0===s?3:s,d=t.retryCondition,f=void 0===d?h:d,b=t._retryCount,v=void 0===b?0:b,m=t._fallbackResult,j=void 0===m?null:m;return new Promise((function(t){var r=l()?1:i,s=l()?200:a,d=n.split("::"),b=Object(u.a)(d,3),h=b[0],m=b[1],g=b[2],E=void 0===g?"once":g;v>r?t(j):(v>0&&console.log("Retrying event:",m,"".concat(v,"/").concat(r)),O({path:m,root:h})[E](function(){var a=Object(c.a)(o.a.mark((function a(c){var u;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(m+" Response:",c),!f||!f(c)){a.next=9;break}return a.next=4,p(s);case 4:return a.next=6,e({query:n,retryDelay:s,retryLimit:r,retryCondition:f,_retryCount:v+1,_fallbackResult:c});case 6:return u=a.sent,t(u),a.abrupt("return");case 9:t(c);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))}))},g=function(e){var t=e.query,n=void 0===t?"":t,r=e.data,a=void 0===r?{}:r;return new Promise((function(e,t){var r=n.split("::"),o=Object(u.a)(r,2),c=o[0],s=o[1],i=O({path:s,root:c}).set(a,(function(t){e(i)}))}))},E=function(e){var t=e.query,n=void 0===t?"":t,r=e.callback,a=n.split("::"),o=Object(u.a)(a,3),c=o[0],s=o[1],i=o[2],l=O({path:s,root:c});return"open"===i?l.open(r):"map.on"===i?l.map().on(r):"map.once"===i?l.map().once(r):l.on(r)},y=function(){return new Promise((function(e,t){var n=b(10),a=b(10);m.user().create(n,a,(function(o){if("err"in o)return console.error("An error has occurred while initializing a new user"),void t({field:"gundb",message:"An error has occurred while initializing a new user",_error:o.err,_event:o});e(Object(r.a)(Object(r.a)({},o),{},{alias:n,pass:a}))}))}))},_=function(e,t){return new Promise((function(n,r){m.user().auth(e,t,(function(e){"err"in e?r(e):n(e)}))}))},S=function(e){if(console.log("Getting Gun User:",e),!e)throw new Error("Undefined public key");return m.user(e)},w="$$_SHOCKWALLET__ENCRYPTED__",T="$$__SHOCKWALLET__MSG__"},334:function(e,t){},341:function(e,t){},35:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return E}));var r=n(3),a=n.n(r),o=n(5),c=n(16),u=n(107),s=n.n(u),i=n(64),l=n(129),d=["ping","disconnect","IS_GUN_AUTH","SET_LAST_SEEN_APP","NOT_AUTH"],f=function(e){return c.Buffer.from(e,"base64")},p=function(e){return c.Buffer.from(e).toString("base64")},b=function(e){return c.Buffer.isBuffer(e)?e:f(e)},v=function(e){if("string"===typeof e.ciphertext&&"string"===typeof e.iv&&"string"===typeof e.mac&&"string"===typeof e.ephemPublicKey)return e;if(c.Buffer.isBuffer(e.ciphertext)&&c.Buffer.isBuffer(e.iv)&&c.Buffer.isBuffer(e.mac)&&c.Buffer.isBuffer(e.ephemPublicKey))return{ciphertext:p(e.ciphertext),iv:p(e.iv),mac:p(e.mac),ephemPublicKey:p(e.ephemPublicKey)};throw new i.a({field:"encryptedMessage",message:"Unknown encrypted message format"})},h=function(e){if(c.Buffer.isBuffer(e.ciphertext)&&c.Buffer.isBuffer(e.iv)&&c.Buffer.isBuffer(e.mac)&&c.Buffer.isBuffer(e.ephemPublicKey))return e;if("string"===typeof e.ciphertext&&"string"===typeof e.iv&&"string"===typeof e.mac&&"string"===typeof e.ephemPublicKey)return{ciphertext:f(e.ciphertext),iv:f(e.iv),mac:f(e.mac),ephemPublicKey:f(e.ephemPublicKey)};throw new i.a({field:"encryptedMessage",message:"Unknown encrypted message format"})},O=function(e){return(null===e||void 0===e?void 0:e.ciphertext)&&(null===e||void 0===e?void 0:e.iv)&&(null===e||void 0===e?void 0:e.mac)&&(null===e||void 0===e?void 0:e.ephemPublicKey)},m=function(e){return d.includes(e)||"false"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOCK_ENCRYPTION_ECC},j=function(){var e=s.a.generatePrivate(),t=s.a.getPublic(e);return{privateKey:e,publicKey:t,privateKeyBase64:p(e),publicKeyBase64:p(t)}},g=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,u,i,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.publicKey,r=t.message,o=void 0===r?"":r,u=b(n),a=o,i=c.Buffer.from(a,"utf-8"),e.next=5,s.a.encrypt(u,i);case 5:return l=e.sent,d={ciphertext:l.ciphertext,iv:l.iv,mac:l.mac,ephemPublicKey:l.ephemPublicKey},e.abrupt("return",v(d));case 8:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c,u,i,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.privateKey,r=t.encryptedMessage,e.prev=1,o=b(n),e.next=5,s.a.decrypt(o,h(r));case 5:return c=e.sent,u=c.toString("utf-8"),i=Object(l.a)(u),e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(1),"bad mac"===(null===(d=e.t0.message)||void 0===d?void 0:d.toLowerCase())&&console.warn("Bad Mac!",e.t0,h(r)),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},358:function(e,t,n){},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"o",(function(){return m})),n.d(t,"q",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"l",(function(){return E})),n.d(t,"p",(function(){return _})),n.d(t,"r",(function(){return S})),n.d(t,"i",(function(){return w})),n.d(t,"c",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return k})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return A})),n.d(t,"n",(function(){return I})),n.d(t,"f",(function(){return R})),n.d(t,"m",(function(){return P}));var r=n(3),a=n.n(r),o=n(5),c=n(9),u=n(20),s=n(46),i=n(7),l=n(30),d=n(15),f=n(47),p={RESET_FEED:"feed/reset",ADD_FOLLOW:"feed/follows/add",REMOVE_FOLLOW:"feed/follows/remove",UPDATE_FOLLOW:"feed/follows/update",LOAD_POSTS:"feed/posts/load",ADD_USER_POST:"feed/posts/add",DELETE_USER_POST:"feed/posts/delete",LOAD_SHARED_POST:"feed/sharedPosts/load",POST_TIPPED:"feed/posts/tipped",RELOAD_FEED:"feed/reload",RESET_DEFAULT_FOLLOWS:"follows/reload"},b=function(e){return function(t){return t({type:p.REMOVE_FOLLOW,data:e})}},v=function(e){return function(t){return t({type:p.ADD_FOLLOW,data:e})}},h=Object(u.a)("feed/postDeleted"),O=Object(u.a)("feed/postReceived"),m=function(e,t){return function(n){try{var r=Object(d.b)({query:"".concat(e,"::posts>").concat(t,"::on"),onData:function(r){s.d(r)?n(O({author:e,id:t,post:r})):null===r&&n(h({author:e,id:t}))},onError:function(n){i.g.error("Error inside single post sub ".concat(t," from ...").concat(e.slice(-8)," -> "),n),alert("Error inside single post sub ".concat(t," from ...").concat(e.slice(-8),": ").concat(n.message))}});return function(){r.then((function(e){e.off()}))}}catch(a){return i.g.error("Could not sub to single post ".concat(t," from ...").concat(e.slice(-8)," -> "),a),alert("Could not sub to single post ".concat(t," from ...").concat(e.slice(-8),": ").concat(a.message)),function(){}}}},j=function(e){return function(t){try{var n=Object(d.b)({query:"".concat(e,"::posts::map.on"),onError:function(t){i.g.error("Error inside posts subscription for ...".concat(e.slice(-8)," -> "),t),alert("Error inside posts subscription for ...".concat(e.slice(-8),": ").concat(t.message))},onData:function(n,r){s.d(n)?t(O({author:e,id:r,post:n})):null===n?t(h({author:e,id:r})):i.g.error("In posts subscription for user ...".concat(e.slice(-8),", invalid data -> "),n)}});return function(){n.then((function(e){e.off()}))}}catch(r){return i.g.error("Could not sub to posts for ...".concat(e.slice(-8)," -> "),r),alert("Could not sub to posts for ...".concat(e.slice(-8),": ").concat(r.message)),function(){}}}},g=Object(u.a)("feed/contentItemReceived"),E=function(e,t){return function(n){try{var r=Object(d.b)({query:"".concat(e,"::posts>").concat(t,">contentItems::map.on"),onData:function(r,a){c.i(r)?n(g({author:e,contentItem:r,id:a,postID:t})):i.g.error("Invalid content item (".concat(a,") in post content subscription from ..").concat(e.slice(-8)," for post ").concat(t," -> "),r)},onError:function(n){i.g.error("Error inside post content subscription from ...".concat(e.slice(-8)," for post ").concat(t," -> "),n),alert("Error inside post content subscription from ...".concat(e.slice(-8)," for post ").concat(t,": ").concat(n.message))}});return function(){r.then((function(e){e.off()}))}}catch(a){return i.g.error("Could not sub to post content from ...".concat(e.slice(-8)," for post ").concat(t," -> "),a),alert("Could not sub to posts from ...".concat(e.slice(-8)," for post ").concat(t,": ").concat(a.message)),function(){}}}},y="$user::follows::map.on",_=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)({query:y,reconnect:!0,onData:function(){var e=Object(o.a)(a.a.mark((function e(n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("processing follow"),console.info(n),"string"===typeof r){e.next=5;break}return console.warn("Invalid follow key received: ".concat(r)),e.abrupt("return");case 5:if(n){e.next=8;break}return t(b(r)),e.abrupt("return");case 8:if("string"===typeof n.user){e.next=11;break}return console.warn("Invalid follow user received (".concat(n.user,")")),e.abrupt("return");case 11:t(v(n));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});case 2:return n=e.sent,console.debug("subbing follows"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){console.debug("unsubbing follows"),Object(d.d)(y)}},w=function(e){var t=e.publicKey,n=e.postId,r=e.amount;return function(){var e=Object(o.a)(a.a.mark((function e(o){var c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/api/lnd/unifiedTrx",{type:"tip",amt:r,to:t,memo:"Post Tipped!",feeLimit:.006*r+10,ackInfo:n});case 2:c=e.sent,u=c.data,console.log(u),o({type:p.POST_TIPPED,data:{publicKey:t,postId:n,amount:r}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){var t=e.id,n=e.authorId;return{type:p.DELETE_USER_POST,data:{id:t,authorId:n}}},x=function(){return{type:p.RELOAD_FEED}},k=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r().auth.authenticated,n({type:o?p.RESET_DEFAULT_FOLLOWS:f.a.RESET_DEFAULT_FOLLOWS,data:e}),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},D=Object(u.a)("feed/sharedPostDeleted"),A=Object(u.a)("feed/sharedPostReceived"),I=function(e){return function(t){try{var n=Object(d.b)({query:"".concat(e,"::sharedPosts::map.on"),onError:function(t){i.g.error("Error inside shared posts subscription for ...".concat(e.slice(-8)," -> "),t),alert("Error inside shared posts subscription for ...".concat(e.slice(-8),": ").concat(t.message))},onData:function(n,r){c.p(n)?t(A({originalAuthor:n.originalAuthor,postID:r,shareDate:n.shareDate,sharerPublicKey:e})):null===n?t(D({postID:r,sharerPublicKey:e})):i.g.error("In shared posts subscription for user ...".concat(e.slice(-8),", invalid data -> "),n)}});return function(){n.then((function(e){e.off()}))}}catch(r){return i.g.error("Could not sub to shared posts for ...".concat(e.slice(-8)," -> "),r),alert("Could not sub to shared posts for ...".concat(e.slice(-8),": ").concat(r.message)),function(){}}}},R=Object(u.a)("feed/postTipReceived"),P=function(e,t){return function(n){try{var r=Object(d.b)({query:"".concat(e,"::posts>").concat(t,">tipsSet::map.on"),onData:function(r,a){var o=Number(r);isNaN(o)?i.g.error("Post ".concat(t," tips sub, tipID ").concat(a," got non number value -> "),r):n(R({author:e,postID:t,tipAmt:o,tipID:a}))}});return function(){r.then((function(e){e.off()}))}}catch(a){return i.g.error("Could not subscribe to post tips from author ...".concat(e.slice(-8)," with ID ").concat(t," -> "),a),alert("Could not subscribe to post tips from author ...".concat(e.slice(-8)," with ID ").concat(t,": ").concat(a.message)),function(){}}}}},378:function(e,t){},379:function(e,t){},399:function(e,t){},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return E}));var r=n(3),a=n.n(r),o=n(5),c=n(85),u=n(17),s=n.n(u),i=n(18),l=n(83),d=n(65),f=n(15),p={RESET_NODE_INFO:"node/reset",SET_HOST_IP:"node/hostIP",SET_HOST_ID:"node/hostId",SET_AUTHENTICATED_USER:"node/authenticatedUser",SET_CONNECTION_STATUS:"node/connectionStatus",SET_NODE_HEALTH:"node/health",SET_WEBCLIENT_PREFIX:"node/setWebClientPrefix",SET_RELAY_ID:"auth/relay/set",SET_ACCESS_SECRET:"auth/accessSecret/set"},b=function(e){return function(t){t({type:p.SET_HOST_ID,data:e})}},v=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o,c,u,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={},t&&(c["x-shock-hybrid-relay-id-x"]=t),n.next=5,s.a.get("".concat(e,"/healthz"),{headers:c});case 5:if(u=n.sent,i=u.data){n.next=9;break}throw new Error("NodeActions->fetchNodeHealth()->No data obtained from healthz endpoint");case 9:return(null===(o=i.APIStatus)||void 0===o?void 0:o.message)&&r({type:p.SET_CONNECTION_STATUS,data:!0}),n.abrupt("return",i);case 13:n.prev=13,n.t0=n.catch(0),console.log("NodeActions->fetchNodeHealth()->Error encountered:"),console.log(n.t0),r({type:p.SET_CONNECTION_STATUS,data:!1});case 18:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/api/lnd/wallet/status");case 2:if(n=e.sent,r=n.data,o=r.walletExists,c=r.walletStatus,!o){e.next=8;break}return t({type:i.a.SET_AUTH_STEP,data:"locked"===c?"unlockWallet":"gunAuth"}),e.abrupt("return",c);case 8:return t({type:i.a.SET_AUTH_STEP,data:"createWallet"}),e.abrupt("return","createWallet");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var c=Object(o.a)(a.a.mark((function c(u){var l,b,O,m;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t&&(u({type:p.RESET_NODE_INFO}),u({type:i.a.RESET_AUTH_INFO})),l=function(){var e=Object(o.a)(a.a.mark((function e(t,o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.a.defaults.baseURL="".concat(t),n&&u(y(n)),r&&u(_(r)),u({type:p.SET_HOST_IP,data:t}),e.next=6,Promise.all([u(h()),u(Object(d.b)())]);case 6:Object(f.a)(t,!0);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=e.replace(/^http(s)?:\/\//,""),c.prev=3,c.next=6,v("https://".concat(O),n)(u);case 6:if(!(b=c.sent)){c.next=12;break}return b.withProtocolHostIP="https://".concat(O),c.next=11,l("https://".concat(O),b);case 11:return c.abrupt("return",b);case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(3),console.log(c.t0);case 17:return console.error("cannot establish https connection, will try http"),c.next=20,v("http://".concat(O),n)(u);case 20:return(m=c.sent).withProtocolHostIP="http://".concat(O),c.next=24,l("http://".concat(O),m);case 24:return c.abrupt("return",b||m);case 25:case"end":return c.stop()}}),c,null,[[3,14]])})));return function(e){return c.apply(this,arguments)}}()},m=function(e){var t=e.alias,n=e.password,r=e.accessSecret;return function(){var e=Object(o.a)(a.a.mark((function e(o){var u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/api/lnd/auth",{alias:t,password:n,accessSecret:r});case 3:return u=e.sent,d=u.data,o(Object(i.e)(!0)),f=Object(c.a)(d.authorization),o({type:p.SET_AUTHENTICATED_USER,data:{alias:d.user.alias,authToken:d.authorization,publicKey:d.user.publicKey,authTokenExpirationDate:f.exp}}),e.abrupt("return",d);case 11:throw e.prev=11,e.t0=e.catch(0),o(Object(i.e)(!1)),Object(l.b)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.alias,n=e.password,r=e.accessSecret;return function(){var e=Object(o.a)(a.a.mark((function e(o){var u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/api/lnd/wallet/existing",{alias:t,password:n,accessSecret:r});case 3:return u=e.sent,d=u.data,o(Object(i.e)(!0)),f=Object(c.a)(d.authorization),o({type:p.SET_AUTHENTICATED_USER,data:{alias:d.user.alias,authToken:d.authorization,publicKey:d.user.publicKey,authTokenExpirationDate:f.exp}}),e.next=10,s.a.post("/api/initUserInformation",{});case 10:return e.abrupt("return",d);case 13:throw e.prev=13,e.t0=e.catch(0),o(Object(i.e)(!1)),Object(l.b)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.alias,n=e.password;return function(){var e=Object(o.a)(a.a.mark((function e(r){var o,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/api/lnd/wallet",{alias:t,password:n});case 3:return o=e.sent,u=o.data,r(Object(i.e)(!0)),d=Object(c.a)(u.authorization),r({type:p.SET_AUTHENTICATED_USER,data:{alias:u.user.alias,authToken:u.authorization,publicKey:u.user.publicKey,authTokenExpirationDate:d.exp}}),e.next=10,s.a.post("/api/initUserInformation",{});case 10:return e.abrupt("return",u);case 13:throw e.prev=13,e.t0=e.catch(0),r(Object(i.e)(!1)),Object(l.b)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(t){t({type:p.SET_WEBCLIENT_PREFIX,data:e})}},y=function(e){return{type:p.SET_RELAY_ID,data:e}},_=function(e){return{type:p.SET_ACCESS_SECRET,data:e}}},401:function(e,t){},413:function(e,t){},415:function(e,t){},441:function(e,t){},443:function(e,t){},448:function(e,t){},450:function(e,t){},46:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n(13),a=n(9),o=n(66),c=function(e){if(!a.m(e))return!1;var t=e;return!!a.n(t.epub)&&(!!a.n(t.from)&&(!!a.n(t.handshakeAddress)&&(!!a.n(t.id)&&(!!a.n(t.receiverConvoID)&&(!!a.n(t.senderConvoID)&&"number"===typeof t.timestamp)))))},u=function(e){if(!a.m(e))return!1;var t=e;return!!a.n(t.counterpartConvoID)&&(!!a.n(t.id)&&a.n(t.with))},s=function(e){if(!a.m(e))return!1;var t=e;return!!a.n(t.body)&&(!!a.n(t.convoID)&&(!!a.n(t.id)&&"number"===typeof t.timestamp))},i=function(e){if(!a.m(e))return!1;var t=e;return"string"===typeof t.description&&("number"===typeof t.height&&("number"===typeof t.width&&(!!a.n(t.title)&&("image/embedded"===t.type||"video/embedded"===t.type))))},l=function(e){if(!i(e))return!1;var t=e;return!!a.n(t.author)&&"number"===typeof t.timestamp},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return function(n){return!!a.m(n)&&(!!t(n)&&Object.entries(e).every((function(e){var t=Object(r.a)(e,2),a=t[0];return(0,t[1])(n[a])})))}}({date:n.n(o).a,status:a.n,tags:function(e){return"string"===typeof e},title:a.n})},462:function(e,t){},465:function(e,t){},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h}));var r=n(13),a=n(3),o=n.n(a),c=n(1),u=n(5),s=n(86),i=n.n(s),l=n(64),d=n(32),f={RESET_GUEST:"guest/reset",CREATE_GUEST_USER:"guest/user/create",TIP_USER:"guest/user/tip",FOLLOW_USER:"guest/user/follow",UNFOLLOW_USER:"guest/user/unfollow",SET_PAYMENT_RESPONSE:"guest/paymentRequest/response",SET_PAYMENT_METADATA:"guest/paymentRequest/metadata",RESET_DEFAULT_FOLLOWS:"guest/follows/reset"},p=function(){return{type:f.SET_PAYMENT_RESPONSE}},b=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),r.guest.user){e.next=9;break}return e.next=4,Object(d.d)();case 4:return a=e.sent,e.next=7,Object(d.e)({query:"".concat(a.pub,"::epub")});case 7:u=e.sent,t({type:f.CREATE_GUEST_USER,data:Object(c.a)(Object(c.a)({},a),{},{epub:u})});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},v=function(e){var t=e.senderPair,n=e.recipientPublicKey,a=e.amount,s=e.metadata;return function(){var e=Object(u.a)(o.a.mark((function e(u,p){var b,v,h,O,m,j,g,E,y,_,S,w,T,x,k,D,A,I,R,P;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(t.alias,t.pass);case 2:return O=e.sent,e.next=5,Promise.all([Object(d.e)({query:"".concat(n,"::epub")}),Object(d.e)({query:"".concat(n,"::currentOrderAddress")})]);case 5:return m=e.sent,j=Object(r.a)(m,2),g=j[0],E=j[1],e.next=11,i.a.secret(g,O.sea);case 11:return y=e.sent,e.next=14,Promise.all([i.a.encrypt(d.b+a.toString(),y),i.a.encrypt(d.b+"Tipped user!",y)]);case 14:return _=e.sent,S=Object(r.a)(_,2),w=S[0],T=S[1],x=Object(c.a)({amount:d.a+w,from:O.sea.pub,memo:d.a+T,timestamp:Date.now()},s),e.next=21,Object(d.g)({query:"$gun::orderNodes>".concat(E),data:x});case 21:return k=e.sent,D=k._["#"].split("/").slice(-1)[0],e.next=25,Object(d.e)({query:"".concat(n,"::orderToResponse>").concat(D,"::on")});case 25:return A=e.sent,console.log("encryptedOrderListener:",A),e.next=29,Object(d.e)({query:"".concat(n,"::orderToResponse>").concat(D)});case 29:return I=e.sent,e.next=32,i.a.decrypt(I.response.replace(d.a,""),y);case 32:if(R=e.sent,P={response:null===R||void 0===R||null===(b=R.replace)||void 0===b||null===(v=(h=b.call(R,d.b,"")).replace)||void 0===v?void 0:v.call(h,d.a,""),type:I.type},console.log("[ORDER] Decrypted order:",P),"err"!==P.type){e.next=37;break}throw new l.a({field:"order",message:"An error has occurred while retrieving the order",data:P.response});case 37:return u({type:f.SET_PAYMENT_RESPONSE,data:{response:P.response}}),e.abrupt("return",{paymentRequest:P.response,ackNode:I.ackNode});case 39:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},h=function(e){var t=e.publicKey,n=void 0===t?"":t;return function(){var e=Object(u.a)(o.a.mark((function e(t,a){var c,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a().guest.follows.filter((function(e){return e.user===n})),u=Object(r.a)(c,1),!u[0]){e.next=4;break}return t({type:f.UNFOLLOW_USER,data:n}),e.abrupt("return");case 4:s={user:n,status:"ok",private:!1},t({type:f.FOLLOW_USER,data:s});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},50:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"p",(function(){return h})),n.d(t,"k",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"q",(function(){return j})),n.d(t,"a",(function(){return E})),n.d(t,"l",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"o",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"i",(function(){return x})),n.d(t,"f",(function(){return k})),n.d(t,"m",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"j",(function(){return I})),n.d(t,"n",(function(){return R}));var r=n(1),a=n(13),o=n(3),c=n.n(o),u=n(5),s=n(49),i=n(20),l=n(9),d=n(87),f=n(7),p=n(46),b=n(15),v=Object(i.a)("handshakeAddressUpdated"),h=function(){return function(e){f.g.debug("Subscribing to current handshake address.");try{return Object(b.b)({query:"$user::currentHandshakeAddress::on",onData:function(t){f.g.debug("Received current handshake address: ".concat(t)),l.n(t)?e(v({handshakeAddress:t})):f.g.error("Current handshake address not an string -> ",JSON.stringify(t))}})}catch(t){alert("Could not establish a subscription to current handshake address: ".concat(t.message)),f.g.error("Could not establish a subscription to current handshake address:",t)}}},O=Object(i.a)("chat/receivedHandshakeRequest"),m=Object(i.a)("chat/handshakeRequestDeleted"),j=function(e){return function(t,n){f.g.debug("Subscribing to handshake node: ".concat(e," ."));try{return Object(b.b)({query:"$gun::handshakeNodes>".concat(e,"::map.on"),epubField:"epub",onData:function(r,a){f.g.debug("Subscription to handshake node: ".concat(e," -> "),r);var o=n().chat.currentHandshakeAddress;f.g.debug("Current address: ".concat(o)),e===o&&(p.c(r)?t(O({receivedRequest:r})):null===r?t(m({id:a})):f.g.debug("Not a handshake request -> ",r))}})}catch(r){alert("Could not establish a subscription to handshake node with address: ".concat(e," : ").concat(r.message)),f.g.error("Could not establish a subscription to handshake node with address: ".concat(e," : "),r)}}},g=function(e,t,n,r){var a=Object(d.a)();return{id:e,with:{$$__ENCRYPT__FOR:"me",value:t},withEpub:{$$__ENCRYPT__FOR:"me",value:n},counterpartConvoID:{$$__ENCRYPT__FOR:"me",value:r},messages:Object(s.a)({},a,{id:a,body:{$$__ENCRYPT__FOR:t,$$__EPUB__FOR:n,value:l.a},timestamp:Date.now(),convoID:e,state:"ok",err:""})}},E=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().chat.receivedRequests[e],t.next=3,f.d.post("/api/gun/put",{path:"$user>convos>".concat(a.receiverConvoID),value:g(a.receiverConvoID,a.from,a.epub,a.senderConvoID)});case 3:f.d.post("/api/gun/put",{path:"$gun>handshakeNodes>".concat(a.handshakeAddress,">").concat(a.id),value:null});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n,r){var o,u,s,i,p,v,h,O,m,j,E,y;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.g.debug("Sending handshake request to ".concat(e.slice(0,8),"...")),o=l.q((function(t,n){var r=Object(b.b)({onData:function(a){f.g.debug("Got epub for public Key ".concat(e.slice(0,8),"... : ").concat(a)),l.n(a)?(r.then((function(e){return e.off()})),t(a)):(f.g.debug("Could not fetch epub for public Key ".concat(e.slice(0,8),"... : ").concat(a)),r.then((function(e){return e.off()})),n(new TypeError("Could not fetch epub")))},query:"".concat(e,"::epub::on"),onError:function(t){f.g.debug("Error when fetch epub for public Key ".concat(e.slice(0,8),"... : ").concat(m)),f.g.error(t),n("string"===typeof t?new Error(t):t)}})})),u=l.q((function(t,n){var r=Object(b.b)({onData:function(e){l.n(e)?(t(e),r.then((function(e){return e.off()}))):(n(new TypeError("Could not fetch epub")),r.then((function(e){return e.off()})))},query:"".concat(e,"::currentHandshakeAddress::on"),onError:function(e){n("string"===typeof e?new Error(e):e)}})})),s=l.q((function(e,t){var n=Object(b.b)({onData:function(r){l.n(r)?(e(r),n.then((function(e){return e.off()}))):(t(new TypeError("Could not fetch self epub")),n.then((function(e){return e.off()})))},query:"$user::epub::on",onError:function(e){t("string"===typeof e?new Error(e):e)}})})),i=Object(d.a)(),p=Object(d.a)(),v=Object(d.a)(),t.next=9,Promise.all([o,u,s]);case 9:return h=t.sent,O=Object(a.a)(h,3),m=O[0],j=O[1],E=O[2],f.g.debug("Got epub/handshakeaddress/selfEpub, sending request to public Key ".concat(e.slice(0,8),"...")),y={id:v,from:{$$__ENCRYPT__FOR:e,$$__EPUB__FOR:m,value:r().node.publicKey},epub:E,timestamp:Date.now(),receiverConvoID:{$$__ENCRYPT__FOR:e,$$__EPUB__FOR:m,value:p},senderConvoID:{$$__ENCRYPT__FOR:e,$$__EPUB__FOR:m,value:i},handshakeAddress:j},t.next=18,f.d.post("/api/gun/put",{path:"$gun>handshakeNodes>".concat(j,">").concat(v),value:y});case 18:return f.g.debug("Sent request to public Key ".concat(e.slice(0,8),"... will now create outgoing conversation feed")),t.next=21,f.d.post("/api/gun/put",{path:"$user>convos>".concat(i),value:g(i,e,m,p)});case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=Object(i.a)("chat/convoReceived"),S=Object(i.a)("chat/convoDeleted"),w=function(){return function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Object(b.b)({query:"$user::convos::map.on",onData:function(e,n){console.log("--------------"),console.log(e),console.log("--------------"),null!==e?p.a(e)&&(delete e._,delete e.messages,t(_({convo:e}))):t(S({id:n}))},publicKey:n().node.publicKey}));case 4:e.prev=4,e.t0=e.catch(0),alert("Could not establish a subscription to outgoing conversation feeds: ".concat(e.t0.message)),f.g.error("Could not establish a subscription to outgoing conversation feeds -> ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}()},T=Object(i.a)("chat/messageTransmissionRequested"),x=Object(i.a)("chat/messageTransmissionSucceeded"),k=Object(i.a)("chat/messageTransmissionFailed"),D=function(e,t){return function(){var n=Object(u.a)(c.a.mark((function n(r,a){var o,u,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Object(d.a)(),n.prev=1,u=a().chat.convos[e],0!==t.trim().length){n.next=5;break}return n.abrupt("return");case 5:return r(T({convoID:e,messageID:o,message:t.trim()})),s={body:{$$__ENCRYPT__FOR:u.with,$$__EPUB__FOR:u.withEpub,value:t},convoID:e,id:o,timestamp:Date.now(),state:"ok",err:""},n.next=9,f.d.post("/api/gun/put",{path:"$user>convos>".concat(e,">messages>").concat(o),value:s});case 9:r(x({convoID:e,messageID:o})),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),f.g.error("Error inside sendMessage() -> ",n.t0),r(k({convoID:e,errorMessage:n.t0.message,messageID:o}));case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},A=Object(i.a)("chat/messageTransmissionRetried"),I=Object(i.a)("chat/receivedConvoMessage"),R=function(e){return function(t,n){try{f.g.debug("Subscribing to messages for convo: ".concat(e));var a=n().chat.convos[e],o=Object(b.b)({query:"$user::convos>".concat(e,">messages::map.on"),onData:function(n){f.g.debug("Outgoing subscription for convo: ".concat(e," -> "),n),p.b(n)?t(I({message:n})):null===n||f.g.warn("Outgoing message in convo ".concat(a.id," does not correspond to schema -> "),n)},epubForDecryption:a.withEpub,onError:function(e){f.g.error("Error inside subConvoMessages() outgoing sub -> ",e),alert("Error inside outgoing messages subscription: ".concat(e.message))}}),c=Object(b.b)({query:"".concat(a.with,"::convos>").concat(a.counterpartConvoID,">messages::map.on"),onData:function(n){f.g.debug("Incoming subscription for convo: ".concat(e," -> "),n),p.b(n)?t(I({message:Object(r.a)(Object(r.a)({},n),{},{state:"received",convoID:a.id})})):null===n||f.g.warn("Incoming message in convo ".concat(a.id," does not correspond to schema -> "),n)},epubForDecryption:a.withEpub,onError:function(e){f.g.error("Error inside subConvoMessages() incoming sub -> ",e),alert("Error inside incoming messages subscription: ".concat(e.message))}});return function(){Promise.all([o,c]).then((function(e){return e.forEach((function(e){return e.off()}))}))}}catch(u){f.g.error("Error inside subConvoMessages() -> ",u),alert("Could not subscribe to conversation messages: ".concat(u.message))}}}},598:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){},606:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(82),c=n.n(o),u=n(3),s=n.n(u),i=n(5),l=n(13),d=n(1),f=n(102),p=n(26),b=n(38),v=n(85),h=n(132),O=n(127),m=n(81),j=n(18),g=n(183),E=n(88),y=n.n(E),_=n(59),S=n(91),w=n(19),T=(n(598),n(4)),x=function(){var e=Object(b.b)(),t=w.useSelector((function(e){return e.drawer.open})),n=Object(r.useCallback)((function(){e(Object(S.b)())}),[e]),a=Object(r.useCallback)((function(){window.confirm("Are you sure you wish to log out?")&&(e(Object(j.b)()),e(Object(S.b)()))}),[e]),o=Object(r.useCallback)((function(){}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:y()({"drawer-overlay":!0,"drawer-overlay-open":t}),onClick:n,"data-v-1b89d7b9":""}),Object(T.jsxs)("div",{className:y()({"drawer-container":!0,"drawer-container-open":t}),"data-v-1b89d7b9":"",children:[Object(T.jsxs)("div",{className:"drawer-top-section","data-v-1b89d7b9":"",children:[Object(T.jsxs)(_.c,{className:"drawer-item",to:"/advanced",onClick:n,"data-v-1b89d7b9":"",children:[Object(T.jsx)("div",{className:"drawer-item-icon","data-v-1b89d7b9":"",children:Object(T.jsx)("i",{className:"icon-solid-spending-rule","data-v-1b89d7b9":""})}),Object(T.jsx)("p",{className:"drawer-item-title unselectable","data-v-1b89d7b9":"",children:"Advanced Lightning"})]}),Object(T.jsxs)(_.c,{to:"/Backups",className:"drawer-item",onClick:n,"data-v-1b89d7b9":"",children:[Object(T.jsx)("div",{className:"drawer-item-icon","data-v-1b89d7b9":"",children:Object(T.jsx)("i",{className:"icon-solid-key","data-v-1b89d7b9":""})}),Object(T.jsx)("p",{className:"drawer-item-title unselectable","data-v-1b89d7b9":"",children:"Seed Backup"})]}),Object(T.jsxs)(_.c,{to:"/walletSettings",className:"drawer-item",onClick:n,"data-v-1b89d7b9":"",children:[Object(T.jsx)("div",{className:"drawer-item-icon","data-v-1b89d7b9":"",children:Object(T.jsx)("i",{className:"icon-solid-spending-rule","data-v-1b89d7b9":""})}),Object(T.jsx)("p",{className:"drawer-item-title unselectable","data-v-1b89d7b9":"",children:"Wallet Settings"})]})]}),Object(T.jsx)("span",{className:"drawer-commit-hash","data-v-1b89d7b9":"",children:"0ef0789"}),Object(T.jsxs)("div",{className:"drawer-bottom-section","data-v-1b89d7b9":"",children:[Object(T.jsxs)(_.c,{className:"drawer-item",to:"/moonpay",onClick:n,"data-v-1b89d7b9":"",children:[Object(T.jsx)("div",{className:"drawer-item-icon","data-v-1b89d7b9":"",children:Object(T.jsx)("i",{className:"icon-solid-help","data-v-1b89d7b9":""})}),Object(T.jsx)("p",{className:"drawer-item-title unselectable","data-v-1b89d7b9":"",children:"Buy Bitcoins"})]}),Object(T.jsxs)("div",{className:"drawer-item","data-v-1b89d7b9":"",children:[Object(T.jsx)("div",{className:"drawer-item-icon","data-v-1b89d7b9":"",children:Object(T.jsx)("i",{className:"icon-solid-help","data-v-1b89d7b9":""})}),Object(T.jsx)("p",{className:"drawer-item-title unselectable","data-v-1b89d7b9":"",children:"Help"})]})]}),Object(T.jsxs)("div",{className:"drawer-logout-and-scan","data-v-1b89d7b9":"",children:[Object(T.jsx)(_.c,{to:"/QRScanner",onClick:n,"data-v-1b89d7b9":"",children:Object(T.jsx)("i",{onClick:o,className:"icon-solid-scan",style:{color:"var(--main-blue)"},"data-v-1b89d7b9":""})}),Object(T.jsx)("i",{onClick:a,className:"fas fa-power-off",style:{color:"var(--main-blue)"},"data-v-1b89d7b9":""})]})]})]})},k=Object(r.memo)(x),D=n(68),A=(n(602),n(295));var I=n(7),R=n(29),P=n(67),C=n(47),N=a.a.lazy((function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,913))})),U=a.a.lazy((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,911))})),L=a.a.lazy((function(){return n.e(20).then(n.bind(null,908))})),K=a.a.lazy((function(){return Promise.all([n.e(6),n.e(0),n.e(18)]).then(n.bind(null,915))})),M=a.a.lazy((function(){return Promise.all([n.e(5),n.e(0),n.e(19)]).then(n.bind(null,912))})),F=a.a.lazy((function(){return Promise.all([n.e(0),n.e(27)]).then(n.bind(null,909))})),B=a.a.lazy((function(){return Promise.all([n.e(8),n.e(37)]).then(n.bind(null,900))})),H=a.a.lazy((function(){return Promise.all([n.e(5),n.e(8),n.e(33)]).then(n.bind(null,917))})),q=a.a.lazy((function(){return Promise.all([n.e(6),n.e(17)]).then(n.bind(null,907))})),$=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7),n.e(36)]).then(n.bind(null,901))})),W=a.a.lazy((function(){return Promise.all([n.e(0),n.e(35)]).then(n.bind(null,902))})),V=a.a.lazy((function(){return Promise.all([n.e(9),n.e(28)]).then(n.bind(null,914))})),Y=a.a.lazy((function(){return n.e(30).then(n.bind(null,903))})),z=a.a.lazy((function(){return n.e(24).then(n.bind(null,916))})),G=a.a.lazy((function(){return Promise.all([n.e(9),n.e(31)]).then(n.bind(null,918))})),J=a.a.lazy((function(){return Promise.all([n.e(2),n.e(5),n.e(0),n.e(7),n.e(22)]).then(n.bind(null,910))})),X=a.a.lazy((function(){return Promise.all([n.e(6),n.e(29),n.e(32)]).then(n.bind(null,919))})),Q=a.a.lazy((function(){return Promise.all([n.e(0),n.e(34)]).then(n.bind(null,904))})),Z=a.a.lazy((function(){return Promise.all([n.e(2),n.e(0),n.e(26)]).then(n.bind(null,920))})),ee=function(e){var t=e.component,n=Object(f.a)(e,["component"]),r=w.useSelector((function(e){return e.auth.authenticated}))?t:q;return Object(T.jsx)(p.b,Object(d.a)(Object(d.a)({},n),{},{component:r}))},te=function(e){var t=e.component,n=Object(f.a)(e,["component"]),r=w.useSelector((function(e){return e.auth.authenticated}))?N:t;return Object(T.jsx)(p.b,Object(d.a)(Object(d.a)({},n),{},{component:r}))},ne=function(){var e=Object(b.b)(),t=Object(p.g)(),n=w.useSelector((function(e){return e.node.authToken})),a=w.useSelector((function(e){return e.auth.authenticated})),o=w.useSelector(w.selectSelfPublicKey),c=w.useSelector((function(e){return e.content.streamUrl})),u=w.useSelector((function(e){return e.content.streamStatusUrl})),d=w.useSelector((function(e){return e.content.streamContentId})),f=w.useSelector((function(e){return e.content.streamPostId})),E=w.useSelector((function(e){return e.content.streamUserToken})),y=w.useSelector((function(e){return e.content.streamLiveToken})),_=w.useSelector((function(e){return e.app.dialogText})),S=w.useSelector((function(e){return e.app.dialogHasCallback})),x=Object(r.useState)(0),ne=Object(l.a)(x,2)[1],re=Object(r.useState)(!1),ae=Object(l.a)(re,2),oe=ae[0],ce=ae[1],ue=Object(r.useState)(!1),se=Object(l.a)(ue,2),ie=se[0],le=se[1];Object(r.useEffect)((function(){if(u){var e,t=setInterval(Object(i.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.d.get(u);case 3:if(n.sent.data.isLive){n.next=6;break}return n.abrupt("return");case 6:ce(!0),clearInterval(t),e=setTimeout((function(){console.info("upp"),ne(Date.now())}),5e3),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])}))),2e3);return function(){clearInterval(t),clearTimeout(e)}}}),[u,ce,ne]);var de=Object(r.useMemo)((function(){return Object(T.jsx)(A.a,{hideRibbon:!0,item:{magnetURI:c,liveStatus:"live"},tipCounter:void 0,tipValue:void 0,width:void 0})}),[c]),fe=Object(r.useCallback)((function(){I.d.post("/api/stopStream",{postId:f,contentId:d,endUrl:"https://stream.shock.network/api/stream/end",urlForMagnet:"https://stream.shock.network/api/stream/torrent/".concat(E),obsToken:y}),Object(R.i)()(e),console.info(E),t.push("/profile")}),[e,t,d,y,f,E]);Object(r.useEffect)((function(){h.a.addLanguage("en",{"The media could not be loaded, either because the server or network failed or because the format is not supported.":"Stream Not Available"})}),[]),Object(r.useEffect)((function(){if(n){var t=1e3*Object(v.a)(n).exp<Date.now();Object(j.e)(t)}else e(Object(j.e)(!1))}),[n,e]),Object(r.useEffect)((function(){if(a&&o)return e(Object(D.b)(o)),function(){e(Object(D.c)(o))}}),[a,e,o]),Object(r.useEffect)((function(){var e=!!(a&&oe&&c);e!==ie&&le(e)}),[a,oe,c,ie,le]),Object(r.useEffect)((function(){ie&&function(e){var t=document.getElementById(e);if(t){var n=0,r=0,a=0,o=0;document.getElementById(t.id+"Header").onpointerdown=function(e){(e=e||window.event).preventDefault(),a=e.clientX,o=e.clientY,document.onpointerup=u,document.onpointermove=c}}else console.log("draggable set fail");function c(e){console.log("dragging yooo"),(e=e||window.event).preventDefault(),n=a-e.clientX,r=o-e.clientY,a=e.clientX,o=e.clientY,t.style.top=t.offsetTop-r+"px",t.style.left=t.offsetLeft-n+"px"}function u(){console.log("not anymore!"),document.onpointerup=null,document.onpointermove=null}}("floatyVideo")}),[ie]);var pe=Object(r.useCallback)(Object(i.a)(s.a.mark((function t(){var n,r,a,c,u,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,I.d.get("/api/gun/user/once/preferencesSeedServiceProvider",{headers:{"public-key-for-decryption":o}});case 5:n=t.sent,(r=n.data)&&"string"===typeof r.data&&""!==r.data&&Object(R.l)(r.data,!0)(e),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),(a=I.e(t.t0)).startsWith("timeout of ")||"TIMEOUT_ERR"===a?I.g.warn("Could not fetch seed service provider due to a timeout error, this can be expected if the data hasn't been populated yet."):(m.b.dark("There was an error fetching your seed service provider: ".concat(a)),I.g.error(t.t0));case 14:if(t.prev=14,o){t.next=17;break}return t.abrupt("return");case 17:return t.next=19,I.d.get("/api/gun/user/once/preferencesSeedServiceData",{headers:{"public-key-for-decryption":o}});case 19:c=t.sent,(u=c.data)&&"string"===typeof u.data&&""!==u.data&&(i=JSON.parse(u.data))&&i.seedUrl&&i.seedToken&&Object(R.k)(i.seedUrl,i.seedToken,!0)(e),t.next=28;break;case 24:t.prev=24,t.t1=t.catch(14),(l=I.e(t.t1)).startsWith("timeout of ")||"TIMEOUT_ERR"===l?I.g.warn("Could not fetch seed service data due to a timeout error, this can be expected if the data hasn't been populated yet."):(m.b.dark("There was an error fetching your seed service data: ".concat(l)),I.g.error(t.t1));case 28:case"end":return t.stop()}}),t,null,[[0,10],[14,24]])}))),[e,o]);Object(r.useEffect)((function(){a&&o&&pe()}),[a,pe,o]);var be=Object(r.useCallback)(Object(i.a)(s.a.mark((function t(){var n,r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,I.d.get("/api/gun/user/once/currentStreamInfo",{headers:{"public-key-for-decryption":o}});case 5:if(n=t.sent,!(r=n.data)||"string"!==typeof r.data||""===r.data){t.next=13;break}if("NO DATA"!==r.data){t.next=11;break}return Object(R.i)(!0,!0)(e),t.abrupt("return");case 11:(a=JSON.parse(r.data))&&Object(R.d)(a,!0)(e);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),(c=I.e(t.t0)).startsWith("timeout of ")||"TIMEOUT_ERR"===c?I.g.warn("Could not fetch current stream info due to a timeout error, this can be expected if the data hasn't been populated yet."):(m.b.dark("There was an error fetching your current stream info: ".concat(c)),I.g.error(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,15]])}))),[e,o]);Object(r.useEffect)((function(){a||e(Object(C.b)())}),[a,e]),Object(r.useEffect)((function(){a&&o&&be()}),[a,be,o]);var ve=Object(r.useCallback)((function(){Object(P.b)(!1)(e)}),[e]),he=Object(r.useCallback)((function(){Object(P.b)(S)(e)}),[S,e]);return Object(T.jsxs)(O.a,{className:"root-container",children:[ie&&Object(T.jsxs)("div",{id:"floatyVideo",className:"floaty-container",children:[Object(T.jsx)("i",{id:"floatyVideoHeader",className:"fas fa-grip-vertical"}),de,Object(T.jsx)("button",{onClick:fe,children:"CLOSE STREAM"})]}),_&&Object(T.jsx)("div",{className:"fixed-container",children:Object(T.jsxs)("div",{className:"global-dialog",children:[Object(T.jsx)("p",{children:_}),Object(T.jsxs)("div",{className:"d-flex flex-justify-center w-80",children:[S&&Object(T.jsx)("button",{className:"shock-form-button m-t-1 w-50",onClick:ve,children:"Cancel"}),S&&Object(T.jsx)("div",{style:{width:"1rem"}}),Object(T.jsx)("button",{className:"shock-form-button-confirm m-t-1 w-50",onClick:he,children:"OK"})]})]})}),Object(T.jsx)(k,{}),Object(T.jsx)(r.Suspense,{fallback:Object(T.jsx)(g.a,{fullScreen:!0,text:null}),children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(te,{path:"/auth",exact:!0,component:q}),Object(T.jsx)(ee,{path:"/overview",exact:!0,component:N}),Object(T.jsx)(ee,{path:"/advanced",exact:!0,component:U}),Object(T.jsx)(ee,{path:"/walletSettings",exact:!0,component:L}),Object(T.jsx)(ee,{path:"/chat",exact:!0,component:K}),Object(T.jsx)(ee,{path:"/chat/:convoOrReqID",component:F}),Object(T.jsx)(ee,{path:"/send",exact:!0,component:B}),Object(T.jsx)(ee,{path:"/request",exact:!0,component:H}),Object(T.jsx)(ee,{path:"/profile",exact:!0,component:M}),Object(T.jsx)(ee,{path:"/publishContent",exact:!0,component:V}),Object(T.jsx)(ee,{path:"/moonpay",exact:!0,component:W}),Object(T.jsx)(ee,{path:"/createPost",exact:!0,component:z}),Object(T.jsx)(ee,{path:"/goLive",exact:!0,component:G}),Object(T.jsx)(ee,{path:"/offerService",exact:!0,component:Y}),Object(T.jsx)(ee,{path:"/QRScanner",exact:!0,component:X}),Object(T.jsx)(ee,{path:"/Backups",exact:!0,component:Q}),Object(T.jsx)(ee,{path:"/item/:publicKey/:id",exact:!0,component:Z}),Object(T.jsx)(p.b,{path:"/feed",exact:!0,component:$}),Object(T.jsx)(p.b,{path:"/otherUser/:publicKey/:selectedView?",exact:!0,component:J}),a?Object(T.jsx)(p.a,{to:"/overview"}):Object(T.jsx)(p.a,{to:"/feed"})]})}),Object(T.jsx)(m.a,{position:"bottom-right",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1,closeButton:!1})]})},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var oe=function(e){e&&e instanceof Function&&n.e(40).then(n.bind(null,905)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},ce=n(314);n(605),n(322);c.a.render(Object(T.jsx)(b.a,{store:w.store,children:Object(T.jsx)(ce.a,{loading:null,persistor:w.persistor,children:Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(_.a,{children:Object(T.jsx)(ne,{})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ae(t,e)}))}}(),oe(console.log)},64:function(e,t,n){"use strict";var r=n(206),a=n(207),o=n(296),c=n(315),u=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var a,o,c;return Object(r.a)(this,n),(c=t.call(this)).field=void 0,c.data=void 0,c.message=null!==(a=null===e||void 0===e?void 0:e.message)&&void 0!==a?a:"An unknown error has occurred",c.field=null!==(o=null===e||void 0===e?void 0:e.field)&&void 0!==o?o:"unknown",c.data=null===e||void 0===e?void 0:e.data,c.name=null===e||void 0===e?void 0:e.name,c.stack=null===e||void 0===e?void 0:e.stack,c}return n}(Object(c.a)(Error));t.a=u},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(3),a=n.n(r),o=n(5),c=n(87),u=n(17),s=n.n(u),i=n(40),l=n(35),d={ADD_USER_KEY_PAIR:"encryption/userKeyPair",ADD_HOST_KEY:"encryption/hostKey",SET_DEVICE_ID:"encryption/deviceId"},f=s.a.CancelToken.source(),p=function(e){var t=e.hostId,n=e.keyPair;return function(e){e({type:d.ADD_USER_KEY_PAIR,data:{hostId:t,keyPair:n}})}},b=function(e){var t=e.hostId,n=e.publicKey;return function(e){e({type:d.ADD_HOST_KEY,data:{hostId:t,publicKey:n}})}},v=function(){return function(e,t){var n=t().node.deviceId;return n||e((function(e){var t=Object(c.a)();return e({type:d.SET_DEVICE_ID,data:t}),t}))}},h=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f&&(f.cancel("Key Pair exchange operation is preceded by another one"),f=null),f=s.a.CancelToken.source(),n=t(v()),r=Object(l.c)(),e.next=7,s.a.post("/api/encryption/exchange",{publicKey:r.publicKeyBase64,deviceId:n},{cancelToken:f.token});case 7:return o=e.sent,c=o.data,t(p({hostId:c.hostId,keyPair:r})),t(b({hostId:c.hostId,publicKey:c.APIPublicKey})),t(Object(i.e)(c.hostId)),e.abrupt("return",{deviceId:n,user:r,host:c});case 15:throw e.prev=15,e.t0=e.catch(0),console.error("[ENCRYPTION] Key Exchange Error:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));var r=n(3),a=n.n(r),o=n(5),c=null,u=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",c());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s={OPEN_DIALOG:"app/openDialog",CLOSE_DIALOG:"app/closeDialog"},i=function(e){var t=e.text,n=e.cb,r=void 0===n?null:n;return function(e){!function(e){c=e}(r),e({type:s.OPEN_DIALOG,data:{text:t,hasCallback:!!r}})}},l=function(e){return function(t){e&&u(),t({type:s.CLOSE_DIALOG})}}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(3),a=n.n(r),o=n(5),c=n(20),u=n(7),s=n(15),i={RESET_USER_PROFILES:"userProfiles/profiles/reset",REMOVE_USER_PROFILE:"userProfiles/profiles/remove"},l=new Set,d=Object(c.a)("userProfiles/profiles/update"),f=function(e){return function(t,n){if(l.has(e))return function(){};console.info("subbing user..."+e),l.add(e);var r=Object(s.b)({query:"".concat(e,"::Profile::map.on"),reconnect:!0,onData:function(n,r){"bio"===r&&t(d({profile:{bio:n},publicKey:e})),"displayName"===r&&t(d({profile:{displayName:n},publicKey:e})),"offerSeedService"===r&&t(d({profile:{offerSeedService:n},publicKey:e}))}}),a=Object(s.b)({query:"".concat(e,"::profileBinary::map.on"),reconnect:!0,onData:function(n,r){if("avatar"===r){if("string"!==typeof n&&null!==n)return void u.g.error("Expected avatar data to be string or null, instead got: ".concat(typeof n,". Public key: ").concat(e));t(d({profile:{avatar:n},publicKey:e}))}else if("header"===r){if("string"!==typeof n&&null!==n)return void u.g.error("Expected header data to be string or null, instead got: ".concat(typeof n,". Public key: ").concat(e));t(d({profile:{header:n},publicKey:e}))}else u.g.error("Unknown key: ".concat(r," for user binary profile data gun RPC socket"))}});return function(){Object(s.c)(r,a)(),l.delete(e)}}},p=function(e){return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(s.d)("".concat(e,"::Profile::on")),Object(s.d)("".concat(e,"::profileBinary::map.on"));case 2:case"end":return t.stop()}}),t)})))}},7:function(e,t,n){"use strict";n.d(t,"o",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return h.a})),n.d(t,"e",(function(){return O.a})),n.d(t,"k",(function(){return f.b})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"i",(function(){return T})),n.d(t,"l",(function(){return x})),n.d(t,"n",(function(){return k})),n.d(t,"p",(function(){return D}));var r=n(13),a=n(3),o=n.n(a),c=n(5),u=n(9),s=n(0),i=n.n(s),l=n(38),d=(n(310),n(130)),f=n(15),p=n(185);function b(){var e=i.a.useState(0),t=Object(r.a)(e,2),n=t[0],a=t[1];return{forceUpdate:i.a.useCallback((function(){a((function(e){return e+1}))}),[]),tick:n}}var v=function(e){if(-1===e)return"";var t=p.DateTime.fromMillis(u.r(e)).toRelative();return"in 0 seconds"===t?"Just now":t},h=n(30),O=n(83),m={log:function(){var e;return(e=console).log.apply(e,arguments)},warn:function(){var e;return(e=console).warn.apply(e,arguments)},error:function(){var e;return(e=console).error.apply(e,arguments)},debug:function(){var e;return(e=console).debug.apply(e,arguments)}},j=function(e,t,n){var r=document.createElement("canvas"),a=e.width,o=e.height;return a>o?a>t&&(o=Math.round(o*=t/a),a=t):o>t&&(a=Math.round(a*=t/o),o=t),r.width=a,r.height=o,r.getContext("2d").drawImage(e,0,0,a,o),r.toDataURL("image/jpeg",n)},g=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){var a,c,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.startsWith("image/")){e.next=2;break}throw new TypeError("Got a file of type ".concat(t.type," with size: ").concat(t.size,', expected type to start with "image"'));case 2:return e.next=4,u.q((function(e,n){var r=new FileReader;r.onload=function(t){t.target.result instanceof ArrayBuffer?e(t.target.result):n(new TypeError("Non ArrayBuffer file reader result when trying to load image file."))};var a=function(e){n(new Error("Error inside processImageFile()->imageBuffer->".concat(JSON.stringify(e))))};r.onerror=a,r.onabort=a,r.readAsArrayBuffer(t)}));case 4:return c=e.sent,s=(null!==(a=window.URL)&&void 0!==a?a:window.webkitURL).createObjectURL(new Blob([c],{type:"image/jpeg"})),e.next=8,u.q((function(e,t){var n=new Image;n.src=s,n.onload=function(){e(n)},n.onerror=function(e){t("string"===typeof e?new Error(e):new Error(JSON.stringify(e)))}}));case 8:return i=e.sent,l=j(i,n,r),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(e){var t=e;return t.startsWith("www.")&&(t="https://"+t),function(){var e;try{e=new URL(t)}catch(n){return!1}return"http:"===e.protocol||"https:"===e.protocol}()?new URL(t).href:""},y=function(){},_=[],S={},w=function(e){var t=Object(s.useState)(e),n=Object(r.a)(t,2),a=n[0],o=n[1];return[a,Object(s.useCallback)((function(){o((function(e){return!e}))}),[])]},T=function(e){return JSON.parse(e)},x=function(e){if(!u.n(e))return null;try{return JSON.parse(e)}catch(t){return m.warn("Error inside safeParseJson() -> ",t),m.log("Error inside safeParseJson(), string provided -> ",e),null}},k=function(){return Object(l.b)()},D=function(e){var t=Object(s.useState)(0),n=Object(r.a)(t,2),a=n[0],o=n[1],c=Object(s.useState)(0),u=Object(r.a)(c,2),i=u[0],l=u[1];return Object(s.useEffect)((function(){var t=Object(f.b)({query:"".concat(e,"::Profile>lastSeenApp::on"),onData:function(e){"number"===typeof e?o(e):m.error("useLastSeen() -> got non-number lastSeenApp")},onError:function(e){m.error("useLastSeen() -> lastSeenApp rifle -> ",e)}}),n=Object(f.b)({query:"".concat(e,"::Profile>lastSeenNode::on"),onData:function(e){"number"===typeof e?l(e):m.error("useLastSeen() -> got non-number lastSeenNode")},onError:function(e){m.error("useLastSeen() -> lastSeenNode rifle -> ",e)}});return function(){t.then((function(e){e.off()})),n.then((function(e){e.off()}))}}),[e]),{lastSeenApp:a,lastSeenNode:i}};Object(d.memoize)((function(e){return function(){return D(e)}}))},83:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(64),a=function(e){var t,n;if("response"in e){var a,o,c,u=null===(a=e.response)||void 0===a?void 0:a.data;return new r.a({field:null!==(o=null===u||void 0===u?void 0:u.field)&&void 0!==o?o:"unknown",message:null!==(c=null===u||void 0===u?void 0:u.errorMessage)&&void 0!==c?c:"An unknown error has occurred"})}return new r.a({field:null!==(t="field"in e&&e.field)&&void 0!==t?t:"unknown",message:null!==(n=e.message)&&void 0!==n?n:"An unknown error has occurred"})},o=function(e){var t,n;return(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errorMessage)||e.message||"Unknown error"}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(3),a=n.n(r),o=n(5),c={SET_DRAWER_OPEN:"drawer/open"},u=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:c.SET_DRAWER_OPEN,data:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},s=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:c.SET_DRAWER_OPEN,data:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},[[606,13,14]]]);
//# sourceMappingURL=main.bb9956bf.chunk.js.map