(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[27],{589:function(a,e,t){},590:function(a,e,t){},591:function(a,e,t){},714:function(a,e,t){"use strict";t.r(e);var c=t(16),n=t(3),s=t(72),i=t.n(s),r=t(466),l=(t(589),t(444)),d=(t(590),t(7)),o=function(a){var e=a.onInputChange,t=a.amount,c=a.description;return Object(d.jsxs)("div",{className:"container","data-v-00f9f014":"",children:[Object(d.jsxs)("div",{className:"inputs-group","data-v-00f9f014":"",children:[Object(d.jsx)(l.a,{name:"amount",label:"Enter Amount",onChange:e,value:t,inputMode:"decimal","data-v-00f9f014":""}),Object(d.jsxs)("select",{name:"unit",className:"unit-dropdown",onChange:e,"data-v-00f9f014":"",children:[Object(d.jsx)("option",{value:"sats","data-v-00f9f014":"",children:"Sats"}),Object(d.jsx)("option",{value:"msats","data-v-00f9f014":"",children:"mSats"}),Object(d.jsx)("option",{value:"btc","data-v-00f9f014":"",children:"BTC"})]})]}),Object(d.jsx)(l.a,{name:"description",label:"Description",element:"textarea",onChange:e,value:c,"data-v-00f9f014":""})]})},u=t(2),j=t.n(u),v=t(6),b=t(471),p=t.n(b),O=t(40),f=t(145),h=t(561),x=t(14),m=(t(591),t(477)),g=t(559),k=t(24),C=t(22),N=function(a){var e=a.amount,t=void 0===e?0:e,s=a.description,r=void 0===s?"N/A":s,l=a.unit,o=void 0===l?"":l,u=a.prevStep,b=Object(O.b)(),N=Object(C.g)(),w=Object(n.useState)(""),S=Object(c.a)(w,2),y=S[0],A=S[1],E=Object(n.useState)(""),T=Object(c.a)(E,2),_=T[0],I=T[1],D=Object(n.useState)(!1),L=Object(c.a)(D,2),M=L[0],q=L[1],J=Object(n.useState)(!1),K=Object(c.a)(J,2),U=K[0],$=K[1],z=Object(n.useState)(),B=Object(c.a)(z,2),H=B[0],Q=B[1],R=Object(n.useState)(""),V=Object(c.a)(R,2),W=(V[0],V[1]),F=Object(n.useState)(!1),G=Object(c.a)(F,2),P=G[0],X=G[1],Y=Object(n.useCallback)(Object(v.a)(j.a.mark((function a(){var e,c,n,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,q(!0),a.next=4,x.a.post("/api/lnd/addinvoice",{value:t,memo:r,expiry:100});case 4:e=a.sent,c=e.data,A(c.payment_request),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),W(null!==(n=null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s?void 0:s.data.errorMessage)&&void 0!==n?n:"An unknown error has occurred");case 12:return a.prev=12,q(!1),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])}))),[t,r]),Z=Object(n.useCallback)(Object(v.a)(j.a.mark((function a(){var e,t,c,n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,q(!0),a.next=4,x.a.post("/api/lnd/newaddress",{type:"p2wkh"});case 4:e=a.sent,t=e.data,I(t.address),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),W(null!==(c=null===a.t0||void 0===a.t0||null===(n=a.t0.response)||void 0===n?void 0:n.data.errorMessage)&&void 0!==c?c:"An unknown error has occurred");case 12:return a.prev=12,q(!1),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])}))),[]),aa=Object(n.useCallback)(function(){var a=Object(v.a)(j.a.mark((function a(e){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Q(e);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){P?Y():Z()}),[Y,Z,P]);var ea=Object(n.useCallback)((function(){X(!P)}),[P]),ta=Object(n.useCallback)((function(){P?navigator.clipboard.writeText(y):navigator.clipboard.writeText(_)}),[P,y,_]),ca=Object(n.useCallback)(Object(v.a)(j.a.mark((function a(){var e,t,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!H){a.next=13;break}return a.prev=1,$(!0),a.next=5,Object(k.g)({publicKey:H.pk,message:"$$__SHOCKWALLET__INVOICE__"+y})(b);case 5:$(!1),N.push("/overview"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),W(null!==(e=null!==(t=null===a.t0||void 0===a.t0||null===(c=a.t0.response)||void 0===c?void 0:c.data.errorMessage)&&void 0!==t?t:null===a.t0||void 0===a.t0?void 0:a.t0.message)&&void 0!==e?e:"An unknown error has occurred"),$(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])}))),[H,y,N]);return Object(d.jsxs)("div",{className:"container","data-v-a69c0f21":"",children:[U?Object(d.jsx)(f.a,{overlay:!0,text:"Sending Invoice...","data-v-a69c0f21":""}):null,P?H?Object(d.jsx)(m.a,{selected:!0,contact:H,selectContact:aa,"data-v-a69c0f21":""}):Object(d.jsx)(g.a,{selectContact:aa,features:["contact"],"data-v-a69c0f21":""}):null,Object(d.jsxs)("div",{className:"qr-code-container","data-v-a69c0f21":"",children:[Object(d.jsx)("div",{className:"qr-code","data-v-a69c0f21":"",children:M?Object(d.jsx)(f.a,{overlay:!0,small:!0,text:"","data-v-a69c0f21":""}):Object(d.jsx)(p.a,{value:P?y:_,size:180,fgColor:P?"#f5a623":"#4285b9",bgColor:"#001220","data-v-a69c0f21":""})}),Object(d.jsxs)("div",{className:i()({mode:!0,"lightning-active":P}),onClick:ea,"data-v-a69c0f21":"",children:[Object(d.jsx)("p",{className:"switch-name on-chain-switch","data-v-a69c0f21":"",children:"On-Chain"}),Object(d.jsx)("div",{className:"switch","data-v-a69c0f21":"",children:Object(d.jsx)("div",{className:"switch-handle","data-v-a69c0f21":""})}),Object(d.jsx)("p",{className:"switch-name lightning-switch","data-v-a69c0f21":"",children:"Lightning"})]})]}),Object(d.jsxs)("div",{className:"copy-clipboard-btn",onClick:ta,"data-v-a69c0f21":"",children:[Object(d.jsx)("i",{className:"fas fa-copy","data-v-a69c0f21":""}),Object(d.jsx)("p",{className:"copy-clipboard-btn-text","data-v-a69c0f21":"",children:"Copy to Clipboard"})]}),Object(d.jsxs)("div",{className:"details","data-v-a69c0f21":"",children:[Object(d.jsx)("p",{className:"details-change",onClick:u,"data-v-a69c0f21":"",children:"Change"}),Object(d.jsxs)("div",{className:"detail","data-v-a69c0f21":"",children:[Object(d.jsx)("p",{className:"detail-title","data-v-a69c0f21":"",children:"Amount"}),Object(d.jsxs)("p",{className:"detail-value","data-v-a69c0f21":"",children:[t," ",o.toUpperCase()]})]}),Object(d.jsxs)("div",{className:"detail","data-v-a69c0f21":"",children:[Object(d.jsx)("p",{className:"detail-title","data-v-a69c0f21":"",children:"Description"}),Object(d.jsx)("p",{className:"detail-value","data-v-a69c0f21":"",children:r})]})]}),P&&H?Object(d.jsx)(h.a,{wrapperStyle:{padding:0,marginTop:23},slideText:"SLIDE TO SEND",onSuccess:ca,"data-v-a69c0f21":""}):null]})};e.default=function(){var a=Object(n.useState)(0),e=Object(c.a)(a,2),t=e[0],s=e[1],l=Object(n.useState)(""),u=Object(c.a)(l,2),j=u[0],v=u[1],b=Object(n.useState)(0),p=Object(c.a)(b,2),O=p[0],f=p[1],h=Object(n.useState)("sats"),x=Object(c.a)(h,2),m=x[0],g=x[1],k=Object(n.useCallback)((function(a){"amount"===a.target.name&&s(a.target.value),"description"===a.target.name&&v(a.target.value),"unit"===a.target.name&&g(a.target.value)}),[]),C=Object(n.useCallback)((function(){O<1&&f(O+1)}),[O]),w=Object(n.useCallback)((function(){O>0&&f(O-1)}),[O]),S=Object(n.useCallback)((function(){return 0===O?Object(d.jsx)(o,{amount:t,description:j,onInputChange:k,"data-v-4db668aa":""}):1===O?Object(d.jsx)(N,{amount:t,description:j,unit:m,prevStep:w,"data-v-4db668aa":""}):void 0}),[O,t,j,k,w,m]),y=1===O,A=Array.from({length:2});return Object(d.jsxs)(r.a,{title:"REQUEST","data-v-4db668aa":"",children:[S(),Object(d.jsxs)("div",{className:"footer","data-v-4db668aa":"",children:[y?null:Object(d.jsxs)("div",{className:"controls","data-v-4db668aa":"",children:[Object(d.jsx)("div",{className:"control",onClick:C,"data-v-4db668aa":"",children:"Skip"}),Object(d.jsx)("div",{className:"control next",onClick:C,"data-v-4db668aa":"",children:"Next"})]}),Object(d.jsx)("div",{className:"indicators","data-v-4db668aa":"",children:A.map((function(a,e){return Object(d.jsx)("div",{className:i()({indicator:!0,"indicator-active":e===O}),"data-v-4db668aa":""})}))})]})]})}}}]);
//# sourceMappingURL=27.2eea85d2.chunk.js.map