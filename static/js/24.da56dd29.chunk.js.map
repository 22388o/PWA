{"version":3,"sources":["common/BottomBar/index.js","utils/Number.js","../node_modules/react-simple-pull-to-refresh/build/index.esm.js","pages/Overview/components/Transaction/index.js","pages/Overview/index.js"],"names":["BottomBar","className","to","activeClassName","COMMA_REGEX","SAT_DENOMINATION","_addCommas","number","test","replace","formatNumber","value","split","decimal","formattedNumber","formattedDecimal","convertSatsToUSD","sats","USDRate","console","debug","confirmedBalanceBTC","Big","div","toString","times","DIRECTION","isScrollable","element","direction","overflowType","getComputedStyle","overflowY","document","scrollingElement","isOverflowScrollable","DOWN","scrollTop","clientHeight","scrollHeight","UP","Error","isTreeScrollable","parentElement","styleInject","css","ref","insertAt","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","RefreshingContent","React","PullingContent","PullToRefresh","_a","_b","isPullable","_c","canFetchMore","onRefresh","onFetchMore","_d","refreshingContent","_e","pullingContent","children","_f","pullDownThreshold","_g","fetchMoreThreshold","_h","maxPullDownDistance","backgroundColor","_j","containerRef","useRef","childrenRef","pullDownRef","fetchMoreRef","pullToRefreshThresholdBreached","fetchMoreTresholdBreached","isDragging","startY","currentY","useEffect","current","addEventListener","onTouchStart","passive","onTouchMove","window","onScroll","onEnd","body","removeEventListener","classList","contains","getScrollToBottomValue","add","then","initContainer","catch","scrollY","innerHeight","requestAnimationFrame","overflowX","transform","opacity","remove","e","MouseEvent","pageY","TouchEvent","touches","target","getBoundingClientRect","top","overflow","visibility","Transaction","username","message","time","useSelector","wallet","sanitizedValue","parsedValue","parseFloat","symbol","USDValue","toFixed","OverviewPage","dispatch","useDispatch","totalBalance","recentTransactions","fetchWalletBalance","fetchUSDRate","fetchUnifiedTransactions","totalBalanceUSD","useMemo","formattedBalance","MainNav","absolute","Loader","small","text","map","transaction","date","DateTime","fromSeconds","parseInt","toRelative","capitalizeText","hash"],"mappings":"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","file":"static/js/24.da56dd29.chunk.js","sourcesContent":["import { NavLink } from \"react-router-dom\";\n\nconst BottomBar = () => (\n  <div className=\"bottom-nav-container\">\n    <NavLink\n      className=\"bottom-nav-btn\"\n      to=\"/overview\"\n      activeClassName=\"active-nav-btn\"\n    >\n      <i className=\"bottom-nav-btn-icon icon-thin-wallet\"></i>\n    </NavLink>\n    <NavLink\n      className=\"bottom-nav-btn\"\n      to=\"/chat\"\n      activeClassName=\"active-nav-btn\"\n    >\n      <i className=\"bottom-nav-btn-icon icon-thin-chat\"></i>\n    </NavLink>\n    <NavLink\n      className=\"bottom-nav-btn\"\n      to=\"/profile\"\n      activeClassName=\"active-nav-btn\"\n    >\n      <i className=\"bottom-nav-btn-icon icon-thin-profile\"></i>\n    </NavLink>\n    <NavLink\n      className=\"bottom-nav-btn\"\n      to=\"/feed\"\n      activeClassName=\"active-nav-btn\"\n    >\n      <i className=\"bottom-nav-btn-icon icon-thin-feed\"></i>\n    </NavLink>\n  </div>\n);\n\nexport default BottomBar;\n","// Use Big.js to avoid large number inaccuracy issues\nimport Big from \"big.js\";\n\nconst COMMA_REGEX = /(\\d+)(\\d{3})/gi;\n\nexport const SAT_DENOMINATION = 100000000;\n\nconst _addCommas = number => {\n  const test = COMMA_REGEX.test(number);\n\n  if (test) {\n    const newNumber = number.replace(COMMA_REGEX, \"$1,$2\");\n    return _addCommas(newNumber);\n  }\n\n  return number;\n};\n\nexport const formatNumber = (value = \"\") => {\n  const [number, decimal] = value.split(\".\");\n  const formattedNumber = _addCommas(number);\n  const formattedDecimal = decimal ? \".\" + decimal : \"\";\n\n  return formattedNumber + formattedDecimal;\n};\n\nexport const convertSatsToUSD = (sats, USDRate = \"0\") => {\n  console.debug(`Converting ${sats} Sats to USD (${USDRate})`);\n  const confirmedBalanceBTC = Big(sats).div(SAT_DENOMINATION).toString();\n\n  return Big(USDRate?.toString() || \"0\").times(confirmedBalanceBTC);\n};\n","import React, { useRef, useEffect } from 'react';\n\nvar DIRECTION;\r\n(function (DIRECTION) {\r\n    DIRECTION[DIRECTION[\"UP\"] = -1] = \"UP\";\r\n    DIRECTION[DIRECTION[\"DOWN\"] = 1] = \"DOWN\";\r\n})(DIRECTION || (DIRECTION = {}));\n\nfunction isOverflowScrollable(element) {\r\n    var overflowType = getComputedStyle(element).overflowY;\r\n    if (element === document.scrollingElement && overflowType === 'visible') {\r\n        return true;\r\n    }\r\n    if (overflowType !== 'scroll' && overflowType !== 'auto') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isScrollable(element, direction) {\r\n    if (!isOverflowScrollable(element)) {\r\n        return false;\r\n    }\r\n    if (direction === DIRECTION.DOWN) {\r\n        var bottomScroll = element.scrollTop + element.clientHeight;\r\n        return bottomScroll < element.scrollHeight;\r\n    }\r\n    if (direction === DIRECTION.UP) {\r\n        return element.scrollTop > 0;\r\n    }\r\n    throw new Error('unsupported direction');\r\n}\r\n/**\r\n * Returns whether a given element or any of its ancestors (up to rootElement) is scrollable in a given direction.\r\n */\r\nfunction isTreeScrollable(element, direction) {\r\n    if (isScrollable(element, direction)) {\r\n        return true;\r\n    }\r\n    if (element.parentElement == null) {\r\n        return false;\r\n    }\r\n    return isTreeScrollable(element.parentElement, direction);\r\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".lds-ellipsis {\\n  display: inline-block;\\n  position: relative;\\n  width: 64px;\\n  height: 64px; }\\n\\n.lds-ellipsis div {\\n  position: absolute;\\n  top: 27px;\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background: #363636;\\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\\n\\n.lds-ellipsis div:nth-child(1) {\\n  left: 6px;\\n  animation: lds-ellipsis1 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(2) {\\n  left: 6px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(3) {\\n  left: 26px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(4) {\\n  left: 45px;\\n  animation: lds-ellipsis3 0.6s infinite; }\\n\\n@keyframes lds-ellipsis1 {\\n  0% {\\n    transform: scale(0); }\\n  100% {\\n    transform: scale(1); } }\\n\\n@keyframes lds-ellipsis3 {\\n  0% {\\n    transform: scale(1); }\\n  100% {\\n    transform: scale(0); } }\\n\\n@keyframes lds-ellipsis2 {\\n  0% {\\n    transform: translate(0, 0); }\\n  100% {\\n    transform: translate(19px, 0); } }\\n\";\nstyleInject(css);\n\n// Source: https://loading.io/css/\r\nvar RefreshingContent = function () {\r\n    return (React.createElement(\"div\", { className: \"lds-ellipsis\" },\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null)));\r\n};\n\nvar PullingContent = function () {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"p\", null, \"\\u21A7\\u00A0\\u00A0pull to refresh\\u00A0\\u00A0\\u21A7\")));\r\n};\n\nvar css$1 = \".ptr,\\n.ptr__children {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden;\\n  -webkit-overflow-scrolling: touch;\\n  position: relative; }\\n\\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\\n  display: block; }\\n\\n.ptr__fetch-more {\\n  display: none; }\\n\\n/**\\n  * Pull down transition \\n  */\\n.ptr__children,\\n.ptr__pull-down {\\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\\n\\n.ptr__pull-down {\\n  position: absolute;\\n  overflow: hidden;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  visibility: hidden; }\\n  .ptr__pull-down > div {\\n    display: none; }\\n\\n.ptr--dragging {\\n  /**\\n    * Hide PullMore content is treshold breached\\n    */\\n  /**\\n    * Otherwize, display content\\n    */ }\\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\\n    display: none; }\\n  .ptr--dragging .ptr__pull-down--pull-more {\\n    display: block; }\\n\\n.ptr--pull-down-treshold-breached {\\n  /**\\n    * Force opacity to 1 is pull down trashold breached\\n    */\\n  /**\\n    * And display loader\\n    */ }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\\n    opacity: 1 !important; }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\\n    display: block; }\\n\\n.ptr__loader {\\n  margin: 0 auto;\\n  text-align: center; }\\n\";\nstyleInject(css$1);\n\nvar PullToRefresh = function (_a) {\r\n    var _b = _a.isPullable, isPullable = _b === void 0 ? true : _b, _c = _a.canFetchMore, canFetchMore = _c === void 0 ? false : _c, onRefresh = _a.onRefresh, onFetchMore = _a.onFetchMore, _d = _a.refreshingContent, refreshingContent = _d === void 0 ? React.createElement(RefreshingContent, null) : _d, _e = _a.pullingContent, pullingContent = _e === void 0 ? React.createElement(PullingContent, null) : _e, children = _a.children, _f = _a.pullDownThreshold, pullDownThreshold = _f === void 0 ? 67 : _f, _g = _a.fetchMoreThreshold, fetchMoreThreshold = _g === void 0 ? 100 : _g, _h = _a.maxPullDownDistance, maxPullDownDistance = _h === void 0 ? 95 : _h, // max distance to scroll to trigger refresh\r\n    backgroundColor = _a.backgroundColor, _j = _a.className, className = _j === void 0 ? '' : _j;\r\n    var containerRef = useRef(null);\r\n    var childrenRef = useRef(null);\r\n    var pullDownRef = useRef(null);\r\n    var fetchMoreRef = useRef(null);\r\n    var pullToRefreshThresholdBreached = false;\r\n    var fetchMoreTresholdBreached = false; // if true, fetchMore loader is displayed\r\n    var isDragging = false;\r\n    var startY = 0;\r\n    var currentY = 0;\r\n    useEffect(function () {\r\n        if (!isPullable || !childrenRef || !childrenRef.current)\r\n            return;\r\n        childrenRef.current.addEventListener('touchstart', onTouchStart, { passive: true });\r\n        childrenRef.current.addEventListener('mousedown', onTouchStart);\r\n        childrenRef.current.addEventListener('touchmove', onTouchMove, { passive: false });\r\n        childrenRef.current.addEventListener('mousemove', onTouchMove);\r\n        window.addEventListener('scroll', onScroll);\r\n        childrenRef.current.addEventListener('touchend', onEnd);\r\n        childrenRef.current.addEventListener('mouseup', onEnd);\r\n        document.body.addEventListener('mouseleave', onEnd);\r\n        return function () {\r\n            if (!isPullable || !childrenRef || !childrenRef.current)\r\n                return;\r\n            childrenRef.current.removeEventListener('touchstart', onTouchStart);\r\n            childrenRef.current.removeEventListener('mousedown', onTouchStart);\r\n            childrenRef.current.removeEventListener('touchmove', onTouchMove);\r\n            childrenRef.current.removeEventListener('mousemove', onTouchMove);\r\n            window.removeEventListener('scroll', onScroll);\r\n            childrenRef.current.removeEventListener('touchend', onEnd);\r\n            childrenRef.current.removeEventListener('mouseup', onEnd);\r\n            document.body.removeEventListener('mouseleave', onEnd);\r\n        };\r\n    }, [\r\n        children,\r\n        isPullable,\r\n        onRefresh,\r\n        pullDownThreshold,\r\n        maxPullDownDistance,\r\n        canFetchMore,\r\n        fetchMoreThreshold,\r\n    ]);\r\n    /**\r\n     * Check onMount / canFetchMore becomes true\r\n     *  if fetchMoreThreshold is already breached\r\n     */\r\n    useEffect(function () {\r\n        var _a;\r\n        /**\r\n         * Check if it is already in fetching more state\r\n         */\r\n        if (!((_a = containerRef) === null || _a === void 0 ? void 0 : _a.current))\r\n            return;\r\n        var isAlreadyFetchingMore = containerRef.current.classList.contains('ptr--fetch-more-treshold-breached');\r\n        if (isAlreadyFetchingMore)\r\n            return;\r\n        /**\r\n         * Proceed\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            fetchMoreTresholdBreached = true;\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    }, [canFetchMore, children]);\r\n    /**\r\n     * Returns distance to bottom of the container\r\n     */\r\n    var getScrollToBottomValue = function () {\r\n        if (!childrenRef || !childrenRef.current)\r\n            return -1;\r\n        var scrollTop = window.scrollY; // is the pixels hidden in top due to the scroll. With no scroll its value is 0.\r\n        var scrollHeight = childrenRef.current.scrollHeight; // is the pixels of the whole container\r\n        return scrollHeight - scrollTop - window.innerHeight;\r\n    };\r\n    var initContainer = function () {\r\n        requestAnimationFrame(function () {\r\n            /**\r\n             * Reset Styles\r\n             */\r\n            if (childrenRef.current) {\r\n                childrenRef.current.style.overflowX = 'hidden';\r\n                childrenRef.current.style.overflowY = 'auto';\r\n                childrenRef.current.style.transform = \"translate(0px, 0px)\";\r\n            }\r\n            if (pullDownRef.current) {\r\n                pullDownRef.current.style.opacity = '0';\r\n            }\r\n            if (containerRef.current) {\r\n                containerRef.current.classList.remove('ptr--pull-down-treshold-breached');\r\n                containerRef.current.classList.remove('ptr--dragging');\r\n                containerRef.current.classList.remove('ptr--fetch-more-treshold-breached');\r\n            }\r\n            if (pullToRefreshThresholdBreached)\r\n                pullToRefreshThresholdBreached = false;\r\n            if (fetchMoreTresholdBreached)\r\n                fetchMoreTresholdBreached = false;\r\n        });\r\n    };\r\n    var onTouchStart = function (e) {\r\n        isDragging = false;\r\n        if (e instanceof MouseEvent) {\r\n            startY = e.pageY;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            startY = e.touches[0].pageY;\r\n        }\r\n        currentY = startY;\r\n        // Check if element can be scrolled\r\n        if (e.type === 'touchstart' && isTreeScrollable(e.target, DIRECTION.UP)) {\r\n            return;\r\n        }\r\n        // Top non visible so cancel\r\n        if (childrenRef.current.getBoundingClientRect().top < 0) {\r\n            return;\r\n        }\r\n        isDragging = true;\r\n    };\r\n    var onTouchMove = function (e) {\r\n        if (!isDragging) {\r\n            return;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            currentY = e.touches[0].pageY;\r\n        }\r\n        else {\r\n            currentY = e.pageY;\r\n        }\r\n        containerRef.current.classList.add('ptr--dragging');\r\n        if (currentY < startY) {\r\n            isDragging = false;\r\n            return;\r\n        }\r\n        // Limit to trigger refresh has been breached\r\n        if (currentY - startY >= pullDownThreshold) {\r\n            isDragging = true;\r\n            pullToRefreshThresholdBreached = true;\r\n            containerRef.current.classList.remove('ptr--dragging');\r\n            containerRef.current.classList.add('ptr--pull-down-treshold-breached');\r\n        }\r\n        // maxPullDownDistance breached, stop the animation\r\n        if (currentY - startY > maxPullDownDistance) {\r\n            return;\r\n        }\r\n        pullDownRef.current.style.opacity = ((currentY - startY) / 65).toString();\r\n        childrenRef.current.style.overflow = 'visible';\r\n        childrenRef.current.style.transform = \"translate(0px, \" + (currentY - startY) + \"px)\";\r\n        pullDownRef.current.style.visibility = 'visible';\r\n    };\r\n    var onScroll = function (e) {\r\n        /**\r\n         * Check if component has already called onFetchMore\r\n         */\r\n        if (fetchMoreTresholdBreached)\r\n            return;\r\n        /**\r\n         * Check if user breached fetchMoreThreshold\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            fetchMoreTresholdBreached = true;\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    };\r\n    var onEnd = function () {\r\n        isDragging = false;\r\n        startY = 0;\r\n        currentY = 0;\r\n        // Container has not been dragged enough, put it back to it's initial state\r\n        if (!pullToRefreshThresholdBreached) {\r\n            if (pullDownRef.current)\r\n                pullDownRef.current.style.visibility = 'hidden';\r\n            initContainer();\r\n            return;\r\n        }\r\n        if (childrenRef.current) {\r\n            childrenRef.current.style.overflow = 'visible';\r\n            childrenRef.current.style.transform = \"translate(0px, \" + pullDownThreshold + \"px)\";\r\n        }\r\n        onRefresh().then(initContainer).catch(initContainer);\r\n    };\r\n    return (React.createElement(\"div\", { className: \"ptr \" + className, style: { backgroundColor: backgroundColor }, ref: containerRef },\r\n        React.createElement(\"div\", { className: \"ptr__pull-down\", ref: pullDownRef },\r\n            React.createElement(\"div\", { className: \"ptr__loader ptr__pull-down--loading\" }, refreshingContent),\r\n            React.createElement(\"div\", { className: \"ptr__pull-down--pull-more\" }, pullingContent)),\r\n        React.createElement(\"div\", { className: \"ptr__children\", ref: childrenRef },\r\n            children,\r\n            React.createElement(\"div\", { className: \"ptr__fetch-more\", ref: fetchMoreRef },\r\n                React.createElement(\"div\", { className: \"ptr__loader ptr__fetch-more--loading\" }, refreshingContent)))));\r\n};\n\nexport default PullToRefresh;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { convertSatsToUSD, formatNumber } from \"../../../../utils/Number\";\nimport \"./css/index.css\";\n\nconst Transaction = ({\n  username = \"John Smith\",\n  message = \"Lorem ipsum dolor sit amet consectetur adipisicing elit...\",\n  time,\n  value = 0\n}) => {\n  const USDRate = useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const sanitizedValue = value.replace(/,/g, \"\");\n  const parsedValue = parseFloat(sanitizedValue);\n  const symbol = parsedValue < 0 ? \"-\" : parsedValue > 0 ? \"+\" : \"\";\n  const USDValue = formatNumber(\n    convertSatsToUSD(sanitizedValue, USDRate).toFixed(2)\n  );\n  return (\n    <div className=\"transaction-container\">\n      <div className=\"transaction-author-container\">\n        <div className=\"transaction-avatar\" />\n        <div className=\"transaction-type\" />\n        <div className=\"transaction-author-details\">\n          <p className=\"transaction-author-username\">{username}</p>\n          <p className=\"transaction-author-text\">{message}</p>\n        </div>\n      </div>\n      <div className=\"transaction-value-container\">\n        <p className=\"transaction-timestamp\">{time}</p>\n        <p className=\"transaction-value-btc\">\n          {symbol} {value.replace(symbol, \"\")}\n        </p>\n        <p className=\"transaction-value-usd\">{USDValue} USD</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Transaction;\n","import React, { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport PullToRefresh from \"react-simple-pull-to-refresh\";\nimport { DateTime } from \"luxon\";\n\nimport {\n  fetchWalletBalance,\n  fetchUSDRate,\n  fetchUnifiedTransactions\n} from \"../../actions/WalletActions\";\nimport { convertSatsToUSD, formatNumber } from \"../../utils/Number\";\nimport { capitalizeText } from \"../../utils/String\";\nimport BottomBar from \"../../common/BottomBar\";\nimport Loader from \"../../common/Loader\";\nimport MainNav from \"../../common/MainNav\";\nimport Transaction from \"./components/Transaction\";\nimport \"./css/index.css\";\n\nconst OverviewPage = () => {\n\n  const dispatch = useDispatch();\n  const totalBalance = useSelector(({ wallet }) => wallet.totalBalance ?? \"0\");\n  const USDRate = useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const recentTransactions = useSelector(\n    ({ wallet }) => wallet.recentTransactions\n  );\n\n  useEffect(() => {\n    fetchWalletBalance()(dispatch);\n    fetchUSDRate()(dispatch);\n    fetchWalletBalance()(dispatch);\n    fetchUnifiedTransactions()(dispatch);\n  }, [dispatch]);\n\n  const totalBalanceUSD = useMemo(\n    () => formatNumber(convertSatsToUSD(totalBalance, USDRate).toFixed(2)),\n    [USDRate, totalBalance]\n  );\n\n  const formattedBalance = useMemo(() => formatNumber(totalBalance), [\n    totalBalance\n  ]);\n\n  return (\n    <div className=\"page-container overview-page\">\n      <div className=\"overview-header\">\n        <MainNav absolute />\n        <div className=\"overview-balance-container\">\n          <p className=\"overview-balance-btc\">\n            {formattedBalance}{\" \"}\n            <span className=\"overview-balance-unit\">Sats</span>\n          </p>\n          <p className=\"overview-balance-usd\">{totalBalanceUSD} USD</p>\n        </div>\n        <div className=\"overview-actions\">\n          <Link to=\"/send\" className=\"overview-action overview-action-send\">\n            <p className=\"overview-action-text\">Send</p>\n          </Link>\n          <Link\n            to=\"/request\"\n            className=\"overview-action overview-action-request\"\n          >\n            <p className=\"overview-action-text\">Request</p>\n          </Link>\n        </div>\n      </div>\n      <div className=\"recent-activity-container\">\n        <p className=\"recent-activity-title\">Recent Activity</p>\n        <PullToRefresh\n          className=\"recent-activity-entries\"\n          pullingContent={\n            <div className=\"pull-refresh-text\">\n              <i className=\"fas fa-arrow-down\"></i> Pull down to refresh{\" \"}\n              <i className=\"fas fa-arrow-down\"></i>\n            </div>\n          }\n          refreshingContent={<Loader small text=\"\" />}\n          pullDownThreshold={75}\n          onRefresh={() => {\n            return fetchUnifiedTransactions()(dispatch);\n          }}\n        >\n          {recentTransactions.map(transaction => (\n            <Transaction\n              time={\n                transaction.date\n                  ? DateTime.fromSeconds(\n                      parseInt(transaction.date, 10)\n                    ).toRelative()\n                  : \"unknown\"\n              }\n              message={\n                transaction.message ||\n                `${capitalizeText(transaction.type)} Transaction`\n              }\n              username={capitalizeText(transaction.type)}\n              value={formatNumber(transaction.value)}\n              key={transaction.hash}\n            />\n          ))}\n        </PullToRefresh>\n      </div>\n      <BottomBar />\n    </div>\n  );\n};\n\nexport default OverviewPage;\n"],"sourceRoot":""}