{"version":3,"sources":["common/Modal/components/ModalContent/index.js","common/Modal/components/ModalTitle/index.js","common/Modal/index.js","common/MainNav/index.js","common/BottomBar/index.js","utils/Number.js","../node_modules/react-simple-pull-to-refresh/build/index.esm.js","pages/Overview/components/Transaction/Transaction.tsx","pages/Overview/OverviewPage.tsx"],"names":["ModalContent","children","style","contentClass","className","classNames","ModalTitle","title","toggleModal","Utils","forceRenderTitleBar","hideXBtn","onClick","Modal","modalOpen","modalTitle","contentStyle","disableBackdropClose","noFullWidth","blueBtn","disableBlueBtn","onClickBlueBtn","redBtn","disableRedBtn","onClickRedBtn","error","textIfLoading","closeModal","useCallback","handleBackdropClick","modal","open","container","Loader","overlay","OVERLAY_STYLE","text","disabled","borderRadius","memo","MainNav","pageTitle","absolute","solid","enableBackButton","onHeight","dispatch","useDispatch","goBack","window","history","back","openDrawer","gunPublicKey","useSelector","node","publicKey","divRefCb","el","getBoundingClientRect","height","e","console","log","ref","BottomBar","authToken","to","activeClassName","COMMA_REGEX","SAT_DENOMINATION","_addCommas","number","test","replace","formatNumber","value","split","decimal","formattedNumber","formattedDecimal","convertSatsToUSD","sats","USDRate","confirmedBalanceBTC","Big","div","toString","times","DIRECTION","isScrollable","element","direction","overflowType","getComputedStyle","overflowY","document","scrollingElement","isOverflowScrollable","DOWN","scrollTop","clientHeight","scrollHeight","UP","Error","isTreeScrollable","parentElement","styleInject","css","insertAt","head","getElementsByTagName","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","RefreshingContent","React","PullingContent","PullToRefresh","_a","_b","isPullable","_c","canFetchMore","onRefresh","onFetchMore","_d","refreshingContent","_e","pullingContent","_f","pullDownThreshold","_g","fetchMoreThreshold","_h","maxPullDownDistance","backgroundColor","_j","containerRef","useRef","childrenRef","pullDownRef","fetchMoreRef","pullToRefreshThresholdBreached","fetchMoreTresholdBreached","isDragging","startY","currentY","useEffect","current","addEventListener","onTouchStart","passive","onTouchMove","onScroll","onEnd","body","removeEventListener","classList","contains","getScrollToBottomValue","add","then","initContainer","catch","scrollY","innerHeight","requestAnimationFrame","overflowX","transform","opacity","remove","MouseEvent","pageY","TouchEvent","touches","target","top","overflow","visibility","Transaction","coordinateSHA256","Store","coordinate","state","data","username","message","inbound","fromGunPub","toGunPub","user","displayName","metadata","author","postID","ackInfo","response","post","Object","values","contentItems","filter","ci","map","p","join","length","slice","warn","subscribeUserProfile","subscribeUserPosts","wallet","sanitizedValue","amount","symbol","USDValue","toFixed","ShockAvatar","timestamp","OverviewPage","forceUpdate","totalBalance","recentTransactions","useState","deploymentType","setDeploymentType","fetchingDeploymentType","toggleFetchingDeploymentType","introDismissed","settings","introParagraphsIfError","setIntroParagraphsIfError","get","res","finally","dismissIntro","sessionStorage","setItem","set","key","fetchWalletBalance","fetchUSDRate","fetchUnifiedTransactions","FetchLightningInfo","subCoordinates","totalBalanceUSD","useMemo","formattedBalance","introModalOpen","getItem","undefined","small","transaction","INTRO_MODAL_STYLE","paragraphs","REACT_APP_INTRO_PARAGRAPHS_HOSTING","REACT_APP_INTRO_PARAGRAPHS_DEFAULT","paragraph","i","Fragment","dangerouslySetInnerHTML","__html","paddingLeft","paddingRight","paddingTop"],"mappings":"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","file":"static/js/23.17cabe37.chunk.js","sourcesContent":["import classNames from \"classnames\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalContent = ({ children = null, style = {}, contentClass = \"\" }) => (\n  <div className={classNames(\"content\", contentClass)} style={style}>\n    {children}\n  </div>\n);\n\nexport default ModalContent;\n","import * as Utils from \"../../../../utils\";\n\nimport \"./css/index.scoped.css\";\n\nconst ModalTitle = ({\n  title = \"\",\n  toggleModal = Utils.EMPTY_FN,\n  forceRenderTitleBar = false,\n  hideXBtn = false\n}) =>\n  title || forceRenderTitleBar ? (\n    <div className=\"head\">\n      <p className=\"head-title\">{title}</p>\n      {!hideXBtn && (\n        <div className=\"head-close\" onClick={toggleModal}>\n          <i className=\"fas fa-times\"></i>\n        </div>\n      )}\n    </div>\n  ) : null;\n\nexport default ModalTitle;\n","import { memo, useCallback } from \"react\";\nimport classNames from \"classnames\";\n\nimport * as Utils from \"../../utils\";\nimport Loader from \"../../common/Loader\";\n\nimport ModalContent from \"./components/ModalContent\";\nimport ModalTitle from \"./components/ModalTitle\";\n\nimport \"./css/index.scoped.css\";\n\nconst Modal = ({\n  modalOpen = false,\n  toggleModal,\n  modalTitle = \"\",\n  children,\n  contentStyle = Utils.EMPTY_OBJ,\n  disableBackdropClose = false,\n  forceRenderTitleBar = false,\n  hideXBtn = false,\n  noFullWidth = false,\n  blueBtn = \"\",\n  disableBlueBtn = false,\n  onClickBlueBtn = Utils.EMPTY_FN,\n  redBtn = \"\",\n  disableRedBtn = false,\n  onClickRedBtn = Utils.EMPTY_FN,\n  contentClass = \"\",\n  error = \"\",\n  textIfLoading = \"\"\n}) => {\n  const closeModal = useCallback(() => {\n    toggleModal();\n  }, [toggleModal]);\n  const handleBackdropClick = useCallback(() => {\n    if (!disableBackdropClose) {\n      toggleModal();\n    }\n  }, [disableBackdropClose, toggleModal]);\n  return (\n    <div className={classNames({ modal: true, open: modalOpen })}>\n      <div className=\"backdrop\" onClick={handleBackdropClick} />\n      <div\n        className={classNames({\n          container: true,\n          \"container-no-full-width\": noFullWidth\n        })}\n      >\n        {textIfLoading && (\n          <Loader overlay style={OVERLAY_STYLE} text={textIfLoading} />\n        )}\n\n        <ModalTitle\n          title={modalTitle}\n          toggleModal={closeModal}\n          forceRenderTitleBar={forceRenderTitleBar}\n          hideXBtn={hideXBtn}\n        />\n\n        {error && <div className={\"form-error form-error-margin\"}>{error}</div>}\n\n        <ModalContent style={contentStyle} contentClass={contentClass}>\n          {typeof children === \"string\" ? (\n            <p className=\"text-align-center\">{children}</p>\n          ) : (\n            children\n          )}\n        </ModalContent>\n\n        <div className=\"color-buttons\">\n          {blueBtn && (\n            <button\n              disabled={disableBlueBtn}\n              className={classNames(\"color-btn\", \"blue-btn\")}\n              onClick={onClickBlueBtn}\n            >\n              {blueBtn}\n            </button>\n          )}\n\n          {redBtn && (\n            <button\n              disabled={disableRedBtn}\n              className={classNames(\"color-btn\", \"red-btn\")}\n              onClick={onClickRedBtn}\n            >\n              {redBtn}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst OVERLAY_STYLE = {\n  borderRadius: \"15px\"\n};\n\nexport default memo(Modal);\n","// @ts-check\nimport { memo, useCallback } from \"react\";\n/**\n * @typedef {import('react').RefCallback<HTMLElement>} DivRefCallback\n */\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\nimport { useDispatch } from \"react-redux\";\n\nimport * as Utils from \"../../utils\";\nimport { openDrawer } from \"../../actions/DrawerActions\";\nimport ShockAvatar from \"../ShockAvatar\";\nimport { useSelector } from \"../../store\";\n\nconst MainNav = ({\n  pageTitle,\n  absolute = false,\n  solid = false,\n  enableBackButton = false,\n  onHeight = Utils.EMPTY_FN\n}) => {\n  const dispatch = useDispatch();\n  const goBack = useCallback(() => {\n    window.history.back();\n  }, []);\n\n  const open = useCallback(() => {\n    dispatch(openDrawer());\n  }, [dispatch]);\n\n  const gunPublicKey = useSelector(({ node }) => node.publicKey);\n\n  /** @type {DivRefCallback} */\n  const divRefCb = useCallback(\n    el => {\n      // https://www.pluralsight.com/tech-blog/getting-size-and-position-of-an-element-in-react/\n      if (!el) return;\n      try {\n        onHeight(el.getBoundingClientRect().height);\n      } catch (e) {\n        console.log(`Error inside onHeight mechanism in MainNav:`);\n        console.log(e);\n      }\n    },\n    [onHeight]\n  );\n\n  return (\n    <div\n      className={classNames({\n        \"main-nav-container\": true,\n        \"main-nav-absolute\": absolute,\n        \"main-nav-solid\": solid\n      })}\n      ref={divRefCb}\n    >\n      {enableBackButton ? (\n        <div className=\"main-nav-back\" onClick={goBack}>\n          <i className=\"icon icon-thin-back\"></i>\n        </div>\n      ) : (\n        <ShockAvatar height={40} publicKey={gunPublicKey} />\n      )}\n      <p className=\"main-nav-title unselectable\">{pageTitle}</p>\n      <div className=\"main-nav-menu-btn\" onClick={open}>\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(MainNav);\n","import { memo } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"../../store\";\n\nconst BottomBar = () => {\n  const authenticated = useSelector(({ node }) => node.authToken);\n\n  if (!authenticated) {\n    return null;\n  }\n\n  return (\n    <div className=\"bottom-nav-container\">\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/overview\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-wallet\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/chat\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-chat\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/profile\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-profile\"></i>\n      </NavLink>\n      <NavLink\n        className=\"bottom-nav-btn\"\n        to=\"/feed\"\n        activeClassName=\"active-nav-btn\"\n      >\n        <i className=\"bottom-nav-btn-icon icon-thin-feed\"></i>\n      </NavLink>\n    </div>\n  );\n};\n\nexport default memo(BottomBar);\n","// Use Big.js to avoid large number inaccuracy issues\nimport Big from \"big.js\";\n\nconst COMMA_REGEX = /(\\d+)(\\d{3})/gi;\n\nexport const SAT_DENOMINATION = 100000000;\n\nconst _addCommas = number => {\n  const test = COMMA_REGEX.test(number);\n\n  if (test) {\n    const newNumber = number.replace(COMMA_REGEX, \"$1,$2\");\n    return _addCommas(newNumber);\n  }\n\n  return number;\n};\n\nexport const formatNumber = (value = \"\") => {\n  const [number, decimal] = value.split(\".\");\n  const formattedNumber = _addCommas(number);\n  const formattedDecimal = decimal ? \".\" + decimal : \"\";\n\n  return formattedNumber + formattedDecimal;\n};\n\nexport const convertSatsToUSD = (sats, USDRate = \"0\") => {\n  //console.debug(`Converting ${sats} Sats to USD (${USDRate})`);\n  const confirmedBalanceBTC = Big(sats).div(SAT_DENOMINATION).toString();\n\n  return Big(USDRate?.toString() || \"0\").times(confirmedBalanceBTC);\n};\n","import React, { useRef, useEffect } from 'react';\n\nvar DIRECTION;\r\n(function (DIRECTION) {\r\n    DIRECTION[DIRECTION[\"UP\"] = -1] = \"UP\";\r\n    DIRECTION[DIRECTION[\"DOWN\"] = 1] = \"DOWN\";\r\n})(DIRECTION || (DIRECTION = {}));\n\nfunction isOverflowScrollable(element) {\r\n    var overflowType = getComputedStyle(element).overflowY;\r\n    if (element === document.scrollingElement && overflowType === 'visible') {\r\n        return true;\r\n    }\r\n    if (overflowType !== 'scroll' && overflowType !== 'auto') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isScrollable(element, direction) {\r\n    if (!isOverflowScrollable(element)) {\r\n        return false;\r\n    }\r\n    if (direction === DIRECTION.DOWN) {\r\n        var bottomScroll = element.scrollTop + element.clientHeight;\r\n        return bottomScroll < element.scrollHeight;\r\n    }\r\n    if (direction === DIRECTION.UP) {\r\n        return element.scrollTop > 0;\r\n    }\r\n    throw new Error('unsupported direction');\r\n}\r\n/**\r\n * Returns whether a given element or any of its ancestors (up to rootElement) is scrollable in a given direction.\r\n */\r\nfunction isTreeScrollable(element, direction) {\r\n    if (isScrollable(element, direction)) {\r\n        return true;\r\n    }\r\n    if (element.parentElement == null) {\r\n        return false;\r\n    }\r\n    return isTreeScrollable(element.parentElement, direction);\r\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".lds-ellipsis {\\n  display: inline-block;\\n  position: relative;\\n  width: 64px;\\n  height: 64px; }\\n\\n.lds-ellipsis div {\\n  position: absolute;\\n  top: 27px;\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background: #363636;\\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\\n\\n.lds-ellipsis div:nth-child(1) {\\n  left: 6px;\\n  animation: lds-ellipsis1 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(2) {\\n  left: 6px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(3) {\\n  left: 26px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(4) {\\n  left: 45px;\\n  animation: lds-ellipsis3 0.6s infinite; }\\n\\n@keyframes lds-ellipsis1 {\\n  0% {\\n    transform: scale(0); }\\n  100% {\\n    transform: scale(1); } }\\n\\n@keyframes lds-ellipsis3 {\\n  0% {\\n    transform: scale(1); }\\n  100% {\\n    transform: scale(0); } }\\n\\n@keyframes lds-ellipsis2 {\\n  0% {\\n    transform: translate(0, 0); }\\n  100% {\\n    transform: translate(19px, 0); } }\\n\";\nstyleInject(css);\n\n// Source: https://loading.io/css/\r\nvar RefreshingContent = function () {\r\n    return (React.createElement(\"div\", { className: \"lds-ellipsis\" },\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null)));\r\n};\n\nvar PullingContent = function () {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"p\", null, \"\\u21A7\\u00A0\\u00A0pull to refresh\\u00A0\\u00A0\\u21A7\")));\r\n};\n\nvar css$1 = \".ptr,\\n.ptr__children {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden;\\n  -webkit-overflow-scrolling: touch;\\n  position: relative; }\\n\\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\\n  display: block; }\\n\\n.ptr__fetch-more {\\n  display: none; }\\n\\n/**\\n  * Pull down transition \\n  */\\n.ptr__children,\\n.ptr__pull-down {\\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\\n\\n.ptr__pull-down {\\n  position: absolute;\\n  overflow: hidden;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  visibility: hidden; }\\n  .ptr__pull-down > div {\\n    display: none; }\\n\\n.ptr--dragging {\\n  /**\\n    * Hide PullMore content is treshold breached\\n    */\\n  /**\\n    * Otherwize, display content\\n    */ }\\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\\n    display: none; }\\n  .ptr--dragging .ptr__pull-down--pull-more {\\n    display: block; }\\n\\n.ptr--pull-down-treshold-breached {\\n  /**\\n    * Force opacity to 1 is pull down trashold breached\\n    */\\n  /**\\n    * And display loader\\n    */ }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\\n    opacity: 1 !important; }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\\n    display: block; }\\n\\n.ptr__loader {\\n  margin: 0 auto;\\n  text-align: center; }\\n\";\nstyleInject(css$1);\n\nvar PullToRefresh = function (_a) {\r\n    var _b = _a.isPullable, isPullable = _b === void 0 ? true : _b, _c = _a.canFetchMore, canFetchMore = _c === void 0 ? false : _c, onRefresh = _a.onRefresh, onFetchMore = _a.onFetchMore, _d = _a.refreshingContent, refreshingContent = _d === void 0 ? React.createElement(RefreshingContent, null) : _d, _e = _a.pullingContent, pullingContent = _e === void 0 ? React.createElement(PullingContent, null) : _e, children = _a.children, _f = _a.pullDownThreshold, pullDownThreshold = _f === void 0 ? 67 : _f, _g = _a.fetchMoreThreshold, fetchMoreThreshold = _g === void 0 ? 100 : _g, _h = _a.maxPullDownDistance, maxPullDownDistance = _h === void 0 ? 95 : _h, // max distance to scroll to trigger refresh\r\n    backgroundColor = _a.backgroundColor, _j = _a.className, className = _j === void 0 ? '' : _j;\r\n    var containerRef = useRef(null);\r\n    var childrenRef = useRef(null);\r\n    var pullDownRef = useRef(null);\r\n    var fetchMoreRef = useRef(null);\r\n    var pullToRefreshThresholdBreached = false;\r\n    var fetchMoreTresholdBreached = false; // if true, fetchMore loader is displayed\r\n    var isDragging = false;\r\n    var startY = 0;\r\n    var currentY = 0;\r\n    useEffect(function () {\r\n        if (!isPullable || !childrenRef || !childrenRef.current)\r\n            return;\r\n        childrenRef.current.addEventListener('touchstart', onTouchStart, { passive: true });\r\n        childrenRef.current.addEventListener('mousedown', onTouchStart);\r\n        childrenRef.current.addEventListener('touchmove', onTouchMove, { passive: false });\r\n        childrenRef.current.addEventListener('mousemove', onTouchMove);\r\n        window.addEventListener('scroll', onScroll);\r\n        childrenRef.current.addEventListener('touchend', onEnd);\r\n        childrenRef.current.addEventListener('mouseup', onEnd);\r\n        document.body.addEventListener('mouseleave', onEnd);\r\n        return function () {\r\n            if (!isPullable || !childrenRef || !childrenRef.current)\r\n                return;\r\n            childrenRef.current.removeEventListener('touchstart', onTouchStart);\r\n            childrenRef.current.removeEventListener('mousedown', onTouchStart);\r\n            childrenRef.current.removeEventListener('touchmove', onTouchMove);\r\n            childrenRef.current.removeEventListener('mousemove', onTouchMove);\r\n            window.removeEventListener('scroll', onScroll);\r\n            childrenRef.current.removeEventListener('touchend', onEnd);\r\n            childrenRef.current.removeEventListener('mouseup', onEnd);\r\n            document.body.removeEventListener('mouseleave', onEnd);\r\n        };\r\n    }, [\r\n        children,\r\n        isPullable,\r\n        onRefresh,\r\n        pullDownThreshold,\r\n        maxPullDownDistance,\r\n        canFetchMore,\r\n        fetchMoreThreshold,\r\n    ]);\r\n    /**\r\n     * Check onMount / canFetchMore becomes true\r\n     *  if fetchMoreThreshold is already breached\r\n     */\r\n    useEffect(function () {\r\n        var _a;\r\n        /**\r\n         * Check if it is already in fetching more state\r\n         */\r\n        if (!((_a = containerRef) === null || _a === void 0 ? void 0 : _a.current))\r\n            return;\r\n        var isAlreadyFetchingMore = containerRef.current.classList.contains('ptr--fetch-more-treshold-breached');\r\n        if (isAlreadyFetchingMore)\r\n            return;\r\n        /**\r\n         * Proceed\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            fetchMoreTresholdBreached = true;\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    }, [canFetchMore, children]);\r\n    /**\r\n     * Returns distance to bottom of the container\r\n     */\r\n    var getScrollToBottomValue = function () {\r\n        if (!childrenRef || !childrenRef.current)\r\n            return -1;\r\n        var scrollTop = window.scrollY; // is the pixels hidden in top due to the scroll. With no scroll its value is 0.\r\n        var scrollHeight = childrenRef.current.scrollHeight; // is the pixels of the whole container\r\n        return scrollHeight - scrollTop - window.innerHeight;\r\n    };\r\n    var initContainer = function () {\r\n        requestAnimationFrame(function () {\r\n            /**\r\n             * Reset Styles\r\n             */\r\n            if (childrenRef.current) {\r\n                childrenRef.current.style.overflowX = 'hidden';\r\n                childrenRef.current.style.overflowY = 'auto';\r\n                childrenRef.current.style.transform = \"translate(0px, 0px)\";\r\n            }\r\n            if (pullDownRef.current) {\r\n                pullDownRef.current.style.opacity = '0';\r\n            }\r\n            if (containerRef.current) {\r\n                containerRef.current.classList.remove('ptr--pull-down-treshold-breached');\r\n                containerRef.current.classList.remove('ptr--dragging');\r\n                containerRef.current.classList.remove('ptr--fetch-more-treshold-breached');\r\n            }\r\n            if (pullToRefreshThresholdBreached)\r\n                pullToRefreshThresholdBreached = false;\r\n            if (fetchMoreTresholdBreached)\r\n                fetchMoreTresholdBreached = false;\r\n        });\r\n    };\r\n    var onTouchStart = function (e) {\r\n        isDragging = false;\r\n        if (e instanceof MouseEvent) {\r\n            startY = e.pageY;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            startY = e.touches[0].pageY;\r\n        }\r\n        currentY = startY;\r\n        // Check if element can be scrolled\r\n        if (e.type === 'touchstart' && isTreeScrollable(e.target, DIRECTION.UP)) {\r\n            return;\r\n        }\r\n        // Top non visible so cancel\r\n        if (childrenRef.current.getBoundingClientRect().top < 0) {\r\n            return;\r\n        }\r\n        isDragging = true;\r\n    };\r\n    var onTouchMove = function (e) {\r\n        if (!isDragging) {\r\n            return;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            currentY = e.touches[0].pageY;\r\n        }\r\n        else {\r\n            currentY = e.pageY;\r\n        }\r\n        containerRef.current.classList.add('ptr--dragging');\r\n        if (currentY < startY) {\r\n            isDragging = false;\r\n            return;\r\n        }\r\n        // Limit to trigger refresh has been breached\r\n        if (currentY - startY >= pullDownThreshold) {\r\n            isDragging = true;\r\n            pullToRefreshThresholdBreached = true;\r\n            containerRef.current.classList.remove('ptr--dragging');\r\n            containerRef.current.classList.add('ptr--pull-down-treshold-breached');\r\n        }\r\n        // maxPullDownDistance breached, stop the animation\r\n        if (currentY - startY > maxPullDownDistance) {\r\n            return;\r\n        }\r\n        pullDownRef.current.style.opacity = ((currentY - startY) / 65).toString();\r\n        childrenRef.current.style.overflow = 'visible';\r\n        childrenRef.current.style.transform = \"translate(0px, \" + (currentY - startY) + \"px)\";\r\n        pullDownRef.current.style.visibility = 'visible';\r\n    };\r\n    var onScroll = function (e) {\r\n        /**\r\n         * Check if component has already called onFetchMore\r\n         */\r\n        if (fetchMoreTresholdBreached)\r\n            return;\r\n        /**\r\n         * Check if user breached fetchMoreThreshold\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            fetchMoreTresholdBreached = true;\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    };\r\n    var onEnd = function () {\r\n        isDragging = false;\r\n        startY = 0;\r\n        currentY = 0;\r\n        // Container has not been dragged enough, put it back to it's initial state\r\n        if (!pullToRefreshThresholdBreached) {\r\n            if (pullDownRef.current)\r\n                pullDownRef.current.style.visibility = 'hidden';\r\n            initContainer();\r\n            return;\r\n        }\r\n        if (childrenRef.current) {\r\n            childrenRef.current.style.overflow = 'visible';\r\n            childrenRef.current.style.transform = \"translate(0px, \" + pullDownThreshold + \"px)\";\r\n        }\r\n        onRefresh().then(initContainer).catch(initContainer);\r\n    };\r\n    return (React.createElement(\"div\", { className: \"ptr \" + className, style: { backgroundColor: backgroundColor }, ref: containerRef },\r\n        React.createElement(\"div\", { className: \"ptr__pull-down\", ref: pullDownRef },\r\n            React.createElement(\"div\", { className: \"ptr__loader ptr__pull-down--loading\" }, refreshingContent),\r\n            React.createElement(\"div\", { className: \"ptr__pull-down--pull-more\" }, pullingContent)),\r\n        React.createElement(\"div\", { className: \"ptr__children\", ref: childrenRef },\r\n            children,\r\n            React.createElement(\"div\", { className: \"ptr__fetch-more\", ref: fetchMoreRef },\r\n                React.createElement(\"div\", { className: \"ptr__loader ptr__fetch-more--loading\" }, refreshingContent)))));\r\n};\n\nexport default PullToRefresh;\n","import React, { memo } from \"react\";\nimport * as Common from \"shock-common\";\n\nimport * as Store from \"../../../../store\";\nimport * as Utils from \"../../../../utils\";\nimport * as Schema from \"../../../../schema\";\nimport ShockAvatar from \"../../../../common/ShockAvatar\";\nimport { convertSatsToUSD, formatNumber } from \"../../../../utils/Number\";\nimport { subscribeUserProfile } from \"../../../../actions/UserProfilesActions\";\nimport { subscribeUserPosts } from \"../../../../actions/FeedActions\";\n\nimport \"./css/index.scoped.css\";\n\nexport interface TransactionProps {\n  coordinateSHA256: string;\n}\n\nconst Transaction = ({ coordinateSHA256 }: TransactionProps) => {\n  const dispatch = Store.useDispatch();\n  const coordinate = Store.useSelector(\n    Store.selectSingleCoordinate(coordinateSHA256)\n  );\n\n  const { username, message, publicKey } = Store.useSelector(state => {\n    const data = { username: \"\", message: \"\", publicKey: null };\n\n    const publicKey = coordinate.inbound\n      ? coordinate.fromGunPub\n      : coordinate.toGunPub;\n\n    const user = Store.selectUser(publicKey)(state);\n\n    data.publicKey = publicKey;\n    data.username = user.displayName;\n\n    switch (coordinate.type) {\n      case \"chainTx\":\n        data.username = \"On-Chain\";\n        break;\n      case \"contentReveal\":\n        data.message = `Bought Post`;\n\n        if (coordinate.metadata) {\n          const metadata = Utils.safeParseJson(coordinate.metadata);\n          if (metadata) {\n            const author = coordinate.toGunPub;\n\n            const postID = (() => {\n              if (coordinate.inbound) {\n                return (metadata as Schema.ContentRevealCoordinateMetadataInbound)\n                  .ackInfo;\n              }\n\n              const {\n                response\n              } = metadata as Schema.ContentRevealCoordinateMetadataOutbound;\n\n              return response && response.ackInfo;\n            })();\n\n            const post = Store.selectSinglePost(author, postID)(state);\n\n            if (post) {\n              const paragraphs = Object.values(post.contentItems ?? {}).filter(\n                ci => ci.type === \"text/paragraph\"\n              ) as Common.Paragraph[];\n              const text = paragraphs.map(p => p.text).join(\" \");\n              // Poor man's ellipsis\n              if (text.length >= 18) {\n                data.message = `Bought \"${text.slice(0, 18)}...\"`;\n              } else {\n                // Looks good on iPhone 5\n                data.message = `Bought \"${text}\"`;\n              }\n            }\n          }\n        }\n        break;\n      case \"invoice\":\n        if (coordinate.inbound) {\n          data.message = \"Sent you money\";\n        } else {\n          Utils.logger.warn(`Outbound invoice??`);\n          data.message = \"You sent money\";\n        }\n        break;\n      case \"other\":\n        data.message = \"Other\";\n        break;\n      case \"payment\":\n        if (coordinate.inbound) {\n          Utils.logger.warn(`Inbound payment??`);\n          data.message = \"Payment Received\";\n        } else {\n          data.message = \"Payment Sent\";\n        }\n        break;\n      case \"product\":\n        data.message = \"Product\";\n        break;\n      case \"service\":\n        data.message = \"Service\";\n        break;\n      case \"spontaneousPayment\":\n        data.message = coordinate.inbound ? \"Payment Received\" : \"Payment Sent\";\n        break;\n      case \"streamSeed\":\n        data.message = \"Seed Service\";\n        break;\n      case \"tip\":\n        data.message = coordinate.inbound ? \"You were Tipped\" : \"You Tipped\";\n        break;\n      case \"torrentSeed\":\n        data.message = \"Seed Service\";\n        break;\n\n      default:\n        data.message = `Unknown type of coordinate: ${coordinate.type}`;\n        break;\n    }\n\n    return data;\n  });\n\n  React.useEffect(() => {\n    if (publicKey) {\n      return dispatch(subscribeUserProfile(publicKey));\n    } else {\n      return Utils.EMPTY_FN;\n    }\n  }, [dispatch, publicKey]);\n\n  React.useEffect(() => {\n    if (publicKey) {\n      return dispatch(subscribeUserPosts(publicKey));\n    } else {\n      return Utils.EMPTY_FN;\n    }\n  }, [dispatch, publicKey]);\n\n  const USDRate = Store.useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const sanitizedValue = coordinate.amount.toString().replace(/,/g, \"\");\n\n  const symbol = coordinate.inbound ? \"+\" : \"-\";\n\n  const USDValue = formatNumber(\n    convertSatsToUSD(sanitizedValue, USDRate).toFixed(2)\n  );\n\n  return (\n    <div className=\"transaction-container\">\n      <div className=\"transaction-author-container\">\n        <div className=\"transaction-avatar\">\n          {publicKey && <ShockAvatar height={60} publicKey={publicKey} />}\n        </div>\n        <div className=\"transaction-type\" />\n        <div className=\"transaction-author-details\">\n          <p className=\"transaction-author-username\">{username}</p>\n          <p className=\"transaction-author-text\">{message}</p>\n        </div>\n      </div>\n      <div className=\"transaction-value-container\">\n        <p className=\"transaction-timestamp\">\n          {Utils.formatTimestamp(coordinate.timestamp) || \"unknown\"}\n        </p>\n        <p className=\"transaction-value-btc\">\n          {symbol} {sanitizedValue.replace(symbol, \"\")}\n        </p>\n        <p className=\"transaction-value-usd\">{USDValue} USD</p>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Transaction);\n","// @ts-check\nimport React, { memo, useEffect, useMemo, useCallback, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PullToRefresh from \"react-simple-pull-to-refresh\";\n\nimport * as Utils from \"../../utils\";\nimport {\n  fetchWalletBalance,\n  fetchUSDRate,\n  fetchUnifiedTransactions,\n  FetchLightningInfo\n} from \"../../actions/WalletActions\";\nimport { subCoordinates } from \"../../actions/CoordinateActions\";\nimport { set } from \"../../actions/SettingsActions\";\nimport { convertSatsToUSD, formatNumber } from \"../../utils/Number\";\nimport BottomBar from \"../../common/BottomBar\";\nimport Loader from \"../../common/Loader\";\nimport MainNav from \"../../common/MainNav\";\nimport Modal from \"../../common/Modal\";\nimport Transaction from \"./components/Transaction\";\nimport \"./css/index.scoped.css\";\n\nimport * as Store from \"../../store\";\n\nconst OverviewPage = () => {\n  const dispatch = Store.useDispatch();\n  const { forceUpdate } = Utils.useForceUpdate();\n  const totalBalance = Store.useSelector(\n    ({ wallet }) => wallet.totalBalance ?? \"0\"\n  );\n  const USDRate = Store.useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const recentTransactions = Store.useSelector(\n    Store.selectAllCoordinatesNewestToOldest\n  );\n\n  const [deploymentType, setDeploymentType] = useState<\n    \"hosting\" | \"default\" | \"unknown\"\n  >(\"unknown\");\n  const [\n    fetchingDeploymentType,\n    toggleFetchingDeploymentType\n  ] = Utils.useBooleanState(true);\n  const introDismissed = Store.useSelector(\n    ({ settings }) => settings.introDismissed\n  );\n  const [introParagraphsIfError, setIntroParagraphsIfError] = useState<\n    string[]\n  >([\"There was an error fetching the deployment type of your ShockApi.\"]);\n\n  useEffect(() => {\n    Utils.Http.get(`/healthz`)\n      .then(res => {\n        setDeploymentType(res.data.deploymentType);\n      })\n      .catch(e => {\n        Utils.logger.error(`Error when fetching deployment type -> `, e);\n        setIntroParagraphsIfError([\n          \"There was an error fetching the deployment type of your ShockApi:\",\n          e.message\n        ]);\n      })\n      .finally(toggleFetchingDeploymentType);\n  }, [toggleFetchingDeploymentType]);\n\n  const dismissIntro = useCallback(() => {\n    if (deploymentType === \"unknown\") {\n      sessionStorage.setItem(\"introDismissed\", \"true\");\n      forceUpdate(); // else the change to session storage won't be reflected\n    } else {\n      dispatch(\n        set({\n          key: \"introDismissed\",\n          value: true\n        })\n      );\n    }\n  }, [deploymentType, dispatch, forceUpdate]);\n\n  useEffect(() => {\n    fetchWalletBalance()(dispatch);\n    fetchUSDRate()(dispatch);\n    fetchWalletBalance()(dispatch);\n    fetchUnifiedTransactions()(dispatch);\n    FetchLightningInfo()(dispatch);\n  }, [dispatch]);\n\n  useEffect(() => dispatch(subCoordinates()), [dispatch]);\n\n  const totalBalanceUSD = useMemo(\n    () => formatNumber(convertSatsToUSD(totalBalance, USDRate).toFixed(2)),\n    [USDRate, totalBalance]\n  );\n\n  const formattedBalance = useMemo(() => formatNumber(totalBalance), [\n    totalBalance\n  ]);\n\n  const introModalOpen =\n    !fetchingDeploymentType &&\n    !(introDismissed || sessionStorage.getItem(\"introDismissed\"));\n\n  return (\n    <div className=\"page-container overview-page\">\n      <div className=\"overview-header\">\n        <MainNav absolute pageTitle={undefined} />\n        <div className=\"overview-balance-container\">\n          <p className=\"overview-balance-btc\">\n            {formattedBalance}{\" \"}\n            <span className=\"overview-balance-unit\">Sats</span>\n          </p>\n          <p className=\"overview-balance-usd\">{totalBalanceUSD} USD</p>\n        </div>\n        <div className=\"overview-actions\">\n          <Link to=\"/send\" className=\"overview-action overview-action-send\">\n            <p className=\"overview-action-text\">Send</p>\n          </Link>\n          <Link\n            to=\"/request\"\n            className=\"overview-action overview-action-request\"\n          >\n            <p className=\"overview-action-text\">Request</p>\n          </Link>\n        </div>\n\n        <p className=\"recent-activity-title\">Recent Activity</p>\n      </div>\n      <div className=\"recent-activity-container\">\n        <PullToRefresh\n          className=\"recent-activity-entries\"\n          pullingContent={\n            <div className=\"pull-refresh-text\">\n              <i className=\"fas fa-arrow-down\"></i> Pull down to refresh{\" \"}\n              <i className=\"fas fa-arrow-down\"></i>\n            </div>\n          }\n          refreshingContent={<Loader small text=\"\" />}\n          pullDownThreshold={75}\n          onRefresh={() => {\n            return fetchUnifiedTransactions()(dispatch);\n          }}\n        >\n          <>\n            {recentTransactions.map(transaction => (\n              <Transaction\n                coordinateSHA256={transaction.coordinateSHA256}\n                key={transaction.coordinateSHA256}\n              />\n            ))}\n          </>\n        </PullToRefresh>\n      </div>\n      <BottomBar />\n\n      {introModalOpen && (\n        <Modal\n          modalOpen={introModalOpen}\n          toggleModal={dismissIntro}\n          contentStyle={INTRO_MODAL_STYLE}\n          disableBackdropClose\n          noFullWidth\n          blueBtn=\"Let's Go\"\n          onClickBlueBtn={dismissIntro}\n        >\n          {(() => {\n            let paragraphs: string[] = [];\n            if (deploymentType === \"hosting\") {\n              paragraphs = REACT_APP_INTRO_PARAGRAPHS_HOSTING;\n            }\n            if (deploymentType === \"default\") {\n              paragraphs = REACT_APP_INTRO_PARAGRAPHS_DEFAULT;\n            }\n            if (deploymentType === \"unknown\") {\n              paragraphs = introParagraphsIfError;\n            }\n            return paragraphs.map((paragraph, i) => (\n              <React.Fragment key={paragraph + i}>\n                <p\n                  className=\"intro-paragraph\"\n                  dangerouslySetInnerHTML={{ __html: paragraph }}\n                />\n\n                <br />\n              </React.Fragment>\n            ));\n          })()}\n        </Modal>\n      )}\n    </div>\n  );\n};\n\n/** @type {React.CSSProperties} */\nconst INTRO_MODAL_STYLE = {\n  paddingLeft: 24,\n  paddingRight: 24,\n  paddingTop: 24\n};\n\nconst REACT_APP_INTRO_PARAGRAPHS_HOSTING = [\n  \"If you bought a node and didn't get a channel please email us or contact us through telegram\",\n  'Telegram: <a href=\"https://t.me/LightningPage\">click here</a>',\n  'email: <a href=\"mailto:fake@email.com\">fake@email.com</a>'\n];\nconst REACT_APP_INTRO_PARAGRAPHS_DEFAULT = [\"Welcome to Shocknet\"];\n\nexport default memo(OverviewPage);\n"],"sourceRoot":""}