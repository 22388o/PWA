{"version":3,"sources":["common/Modal/components/ModalContent/index.js","common/Modal/components/ModalTitle/index.js","common/Modal/index.js","common/MainNav/index.js","common/InputGroup/index.js","utils/Number.js","common/AddBtn/index.js","pages/Advanced/components/Transaction/index.js","pages/Advanced/components/Channel/index.js","pages/Advanced/components/Peer/index.js","pages/Advanced/components/AddPeerModal/index.js","pages/Advanced/components/AddChannelModal/index.js","pages/Advanced/index.js"],"names":["ModalContent","children","style","className","ModalTitle","title","toggleModal","onClick","Modal","modalOpen","modalTitle","contentStyle","closeModal","useCallback","classNames","modal","MainNav","pageTitle","absolute","solid","enableBackButton","onHeight","Utils","dispatch","useDispatch","goBack","window","history","back","open","openDrawer","gunPublicKey","useSelector","node","publicKey","divRefCb","el","getBoundingClientRect","height","e","console","log","ref","InputGroup","label","name","onChange","inputAction","actionIcon","value","inputMode","type","element","small","disabled","group","fas","COMMA_REGEX","SAT_DENOMINATION","_addCommas","number","test","replace","formatNumber","split","decimal","formattedNumber","formattedDecimal","convertSatsToUSD","sats","USDRate","confirmedBalanceBTC","Big","div","toString","times","AddBtn","icon","iconURL","undefined","nestedMode","large","relative","useState","optionsOpen","setOptionsOpen","toggleOptionsOpen","iconElement","useMemo","src","alt","labelElement","Transaction","hash","date","unconfirmed","wallet","sanitizedValue","USDValue","toFixed","formattedDate","DateTime","fromSeconds","parseInt","toRelative","display","marginLeft","color","Channel","address","sendable","receivable","active","pendingStatus","formattedSendable","formattedReceivable","Peer","sent","received","formattedSent","formattedReceived","AddPeerModal","loading","setLoading","host","setHost","setPublicKey","error","setError","onInputChange","target","onSubmit","a","preventDefault","connectPeer","errorMessage","message","Loader","overlay","text","AddChannelModal","channelCapacity","setChannelCapacity","pushAmount","setPushAmount","loadFeeRates","openChannel","AdvancedPage","selectedAccordion","setSelectedAccordion","page","addPeerOpen","setAddPeerOpen","addChannelOpen","setAddChannelOpen","pendingChannels","setPendingChannels","confirmedBalance","Store","channelBalance","transactions","channels","peers","useEffect","reset","fetchTransactions","fetchInvoices","fetchChannels","fetchPeers","Http","get","then","data","makeChanObj","ch","remote_pubkey","remote_node_pub","remote_balance","local_balance","ip","pending","pending_open_channels","forEach","chan","channel","push","waiting_close_channels","pending_force_closing_channels","confirmedBalanceUSD","channelBalanceUSD","openAccordion","accordion","toggleAddPeerOpen","toggleAddChannelOpen","openTransactionsAccordion","openPeersAccordion","openChannelsAccordion","paddingBottom","content","map","transaction","time_stamp","tx_hash","amount","num_confirmations","peer","pub_key","sat_sent","sat_recv","chan_id"],"mappings":"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","file":"static/js/16.4f44dccd.chunk.js","sourcesContent":["// @ts-check\nimport \"./css/index.scoped.css\";\n\nconst ModalContent = ({ children, style }) => (\n  <div className=\"content\" style={style}>\n    {children}\n  </div>\n);\n\nexport default ModalContent;\n","import React from \"react\";\nimport \"./css/index.scoped.css\";\n\nconst ModalTitle = ({ title, toggleModal }) =>\n  title ? (\n    <div className=\"head\">\n      <p className=\"head-title\">{title}</p>\n      <div className=\"head-close\" onClick={toggleModal}>\n        <i className=\"fas fa-times\"></i>\n      </div>\n    </div>\n  ) : null;\n\nexport default ModalTitle;\n","// @ts-check\nimport { useCallback } from \"react\";\nimport classNames from \"classnames\";\nimport ModalContent from \"./components/ModalContent\";\nimport ModalTitle from \"./components/ModalTitle\";\nimport \"./css/index.scoped.css\";\n\nconst Modal = ({\n  modalOpen = false,\n  toggleModal,\n  modalTitle = \"\",\n  children,\n  contentStyle = {}\n}) => {\n  const closeModal = useCallback(() => {\n    toggleModal();\n  }, [toggleModal]);\n  return (\n    <div className={classNames({ modal: true, \"open\": modalOpen })}>\n      <div className=\"backdrop\" onClick={closeModal} />\n      <div className=\"container\">\n        <ModalTitle title={modalTitle} toggleModal={closeModal} />\n        <ModalContent style={contentStyle}>{children}</ModalContent>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","// @ts-check\nimport { useCallback } from \"react\";\n/**\n * @typedef {import('react').RefCallback<HTMLElement>} DivRefCallback\n */\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\nimport { useDispatch } from \"react-redux\";\n\nimport * as Utils from \"../../utils\";\nimport { openDrawer } from \"../../actions/DrawerActions\";\nimport ShockAvatar from \"../ShockAvatar\";\nimport { useSelector } from \"../../store\";\n\nconst MainNav = ({\n  pageTitle,\n  absolute = false,\n  solid = false,\n  enableBackButton = false,\n  onHeight = Utils.EMPTY_FN\n}) => {\n  const dispatch = useDispatch();\n  const goBack = useCallback(() => {\n    window.history.back();\n  }, []);\n\n  const open = useCallback(() => {\n    dispatch(openDrawer());\n  }, [dispatch]);\n\n  const gunPublicKey = useSelector(({ node }) => node.publicKey);\n\n  /** @type {DivRefCallback} */\n  const divRefCb = useCallback(\n    el => {\n      // https://www.pluralsight.com/tech-blog/getting-size-and-position-of-an-element-in-react/\n      if (!el) return;\n      try {\n        onHeight(el.getBoundingClientRect().height);\n      } catch (e) {\n        console.log(`Error inside onHeight mechanism in MainNav:`);\n        console.log(e);\n      }\n    },\n    [onHeight]\n  );\n\n  return (\n    <div\n      className={classNames({\n        \"main-nav-container\": true,\n        \"main-nav-absolute\": absolute,\n        \"main-nav-solid\": solid\n      })}\n      ref={divRefCb}\n    >\n      {enableBackButton ? (\n        <div className=\"main-nav-back\" onClick={goBack}>\n          <i className=\"icon icon-thin-back\"></i>\n        </div>\n      ) : (\n        <ShockAvatar height={40} publicKey={gunPublicKey} />\n      )}\n      <p className=\"main-nav-title unselectable\">{pageTitle}</p>\n      <div className=\"main-nav-menu-btn\" onClick={open}>\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n        <div className=\"main-nav-menu-dash\" />\n      </div>\n    </div>\n  );\n};\n\nexport default MainNav;\n","import classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\n\nconst InputGroup = ({\n  label,\n  name,\n  onChange,\n  inputAction,\n  actionIcon,\n  value,\n  inputMode = \"text\",\n  type = \"text\",\n  element = \"input\",\n  small = false,\n  disabled\n}) => {\n  return (\n    <div\n      className={classNames({\n        group: true,\n        \"group-disabled\": disabled,\n        \"group-small\": small\n      })}\n    >\n      {label ? <p className=\"group-label\">{label}</p> : null}\n      <div\n        className={classNames({\n          \"group-input-container\": true,\n          \"group-input-textarea-container\": element === \"textarea\"\n        })}\n      >\n        {element === \"textarea\" ? (\n          <textarea\n            className=\"group-input group-input-textarea\"\n            name={name}\n            onChange={onChange}\n            inputMode={inputMode}\n            value={value}\n            disabled={disabled}\n          />\n        ) : (\n          <input\n            className=\"group-input\"\n            type={type}\n            name={name}\n            onChange={onChange}\n            inputMode={inputMode}\n            value={value}\n            disabled={disabled}\n          />\n        )}\n        {inputAction && actionIcon ? (\n          <div className=\"group-input-action\" onClick={inputAction}>\n            <i\n              className={classNames({\n                \"group-input-action-icon\": true,\n                fas: true,\n                [actionIcon]: true\n              })}\n              onClick={inputAction}\n            ></i>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default InputGroup;\n","// Use Big.js to avoid large number inaccuracy issues\nimport Big from \"big.js\";\n\nconst COMMA_REGEX = /(\\d+)(\\d{3})/gi;\n\nexport const SAT_DENOMINATION = 100000000;\n\nconst _addCommas = number => {\n  const test = COMMA_REGEX.test(number);\n\n  if (test) {\n    const newNumber = number.replace(COMMA_REGEX, \"$1,$2\");\n    return _addCommas(newNumber);\n  }\n\n  return number;\n};\n\nexport const formatNumber = (value = \"\") => {\n  const [number, decimal] = value.split(\".\");\n  const formattedNumber = _addCommas(number);\n  const formattedDecimal = decimal ? \".\" + decimal : \"\";\n\n  return formattedNumber + formattedDecimal;\n};\n\nexport const convertSatsToUSD = (sats, USDRate = \"0\") => {\n  //console.debug(`Converting ${sats} Sats to USD (${USDRate})`);\n  const confirmedBalanceBTC = Big(sats).div(SAT_DENOMINATION).toString();\n\n  return Big(USDRate?.toString() || \"0\").times(confirmedBalanceBTC);\n};\n","import { useCallback, useMemo, useState } from \"react\";\nimport classNames from \"classnames\";\nimport \"./css/index.scoped.css\";\n\nconst AddBtn = ({\n  label = null,\n  icon = null,\n  iconURL = null,\n  onClick = undefined,\n  nestedMode = false,\n  large = false,\n  small = false,\n  relative = false,\n  children = null,\n  style = {}\n}) => {\n  const [optionsOpen, setOptionsOpen] = useState(false);\n  const toggleOptionsOpen = useCallback(() => {\n    if (nestedMode) {\n      setOptionsOpen(!optionsOpen);\n    }\n  }, [optionsOpen, nestedMode]);\n\n  const iconElement = useMemo(() => {\n    if (iconURL) {\n      return <img src={iconURL} className=\"add-btn-icon\" alt=\"\" />;\n    }\n\n    return <i className={`fas fa-${icon ?? \"plus\"}`}></i>;\n  }, [icon, iconURL]);\n\n  const labelElement = useMemo(() => {\n    if (label) {\n      return <p className=\"add-btn-label\">{label}</p>;\n    }\n\n    return null;\n  }, [label]);\n\n  return (\n    <div\n      className={classNames({\n        \"add-btn-container\": true,\n        \"add-btn-round-container\": !label,\n        \"add-btn-large\": large,\n        \"add-btn-small\": small\n      })}\n    >\n      <div\n        className={classNames({\n          \"add-btn\": true,\n          \"add-btn-round\": !label,\n          \"add-btn-extended\": !!label,\n          \"add-btn-relative\": relative,\n          \"add-btn-open\": optionsOpen,\n          \"add-btn-nested\": nestedMode\n        })}\n        onClick={onClick ?? toggleOptionsOpen}\n        style={style}\n      >\n        {iconElement}\n        {labelElement}\n      </div>\n\n      {children ? (\n        <div\n          className={classNames({\n            \"add-btn-options\": true,\n            \"add-btn-options-open\": optionsOpen\n          })}\n        >\n          {children}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default AddBtn;\n","import { DateTime } from \"luxon\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { convertSatsToUSD, formatNumber } from \"../../../../utils/Number\";\nimport \"./css/index.scoped.css\";\n\nconst Transaction = ({ hash, value, date, unconfirmed }) => {\n  const USDRate = useSelector(({ wallet }) => wallet.USDRate ?? \"0\");\n  const sanitizedValue = value.replace(/,/g, \"\");\n  const USDValue = formatNumber(\n    convertSatsToUSD(sanitizedValue, USDRate).toFixed(2)\n  );\n  const formattedDate = date\n    ? DateTime.fromSeconds(parseInt(date, 10)).toRelative()\n    : \"unknown\";\n\n  return (\n    <div className=\"advanced-transaction-container\">\n      <div className=\"advanced-transaction-info\">\n        <div className=\"advanced-transaction-avatar\"></div>\n        <div className=\"advanced-transaction-author\">\n          <p className=\"advanced-transaction-author-name\">{hash}</p>\n          <div style={{ display: \"flex\" }}>\n            <p className=\"advanced-transaction-type\">Payment</p>\n            {unconfirmed && (\n              <i\n                className=\"far fa-clock\"\n                style={{ marginLeft: \"0.5rem\", color: \"red\" }}\n              ></i>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"advanced-transaction-value-container\">\n        <p className=\"advanced-transaction-time\">{formattedDate}</p>\n        <p className=\"advanced-transaction-value\">{value}</p>\n        <p className=\"advanced-transaction-usd\">{USDValue} USD</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Transaction;\n","// @ts-check\nimport { useMemo } from \"react\";\nimport classNames from \"classnames\";\nimport { formatNumber } from \"../../../../utils/Number\";\nimport \"./css/index.scoped.css\";\n\nconst Channel = ({\n  address,\n  // ip = null,\n  sendable,\n  receivable,\n  active,\n  pendingStatus = \"\"\n}) => {\n  const formattedSendable = useMemo(() => formatNumber(sendable), [sendable]);\n  const formattedReceivable = useMemo(() => formatNumber(receivable), [\n    receivable\n  ]);\n  return (\n    <div className=\"advanced-channel-container\">\n      {/* <div className=\"advanced-channel-ip\"></div> */}\n      <div className=\"advanced-channel-name-container\">\n        {/* <p className=\"advanced-channel-name\">IP: {ip ?? \"N/A\"}</p> */}\n        <div\n          className={classNames({\n            \"advanced-channel-status\": true,\n            \"advanced-channel-status-offline\": !active\n          })}\n        ></div>\n        <p style={{ marginLeft: \"0.5rem\" }}>{pendingStatus}</p>\n      </div>\n      <p className=\"advanced-channel-address\">Address: {address}</p>\n      <div className=\"advanced-channel-capacity-container\">\n        <div className=\"advanced-channel-capacity\">\n          Sendable: {formattedSendable} sats\n        </div>\n        <div className=\"advanced-channel-capacity\">\n          Receivable: {formattedReceivable} sats\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Channel;\n","import React from \"react\";\nimport { formatNumber } from \"../../../../utils/Number\";\nimport \"./css/index.scoped.css\";\n\nconst Peer = ({ sent, received, address, publicKey }) => {\n  const formattedSent = formatNumber(sent.toString());\n  const formattedReceived = formatNumber(received.toString());\n\n  return (\n    <div className=\"advanced-transaction-container\">\n      <div className=\"advanced-transaction-info\">\n        <div className=\"advanced-transaction-avatar\"></div>\n        <div className=\"advanced-transaction-author\">\n          <p className=\"advanced-peer-address\">{address}</p>\n          <p className=\"advanced-peer-public-key\">\n            {publicKey ?? \"Unknown public key\"}\n          </p>\n        </div>\n      </div>\n      <div className=\"advanced-peer-value-container\">\n        <p className=\"advanced-peer-value\">\n          <span className=\"peer-value-title\">Sent:</span> {formattedSent}\n        </p>\n        <p className=\"advanced-peer-value\">\n          <span className=\"peer-value-title\">Received:</span>{\" \"}\n          {formattedReceived}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Peer;\n","import React, { useCallback, useState } from \"react\";\nimport Modal from \"../../../../common/Modal\";\nimport InputGroup from \"../../../../common/InputGroup\";\nimport \"./css/index.scoped.css\";\nimport { connectPeer } from \"../../../../actions/WalletActions\";\nimport { useDispatch } from \"react-redux\";\nimport Loader from \"../../../../common/Loader\";\n\nconst AddPeerModal = ({ open = false, toggleModal }) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [host, setHost] = useState(\"\");\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onInputChange = useCallback(e => {\n    const { name, value } = e.target;\n    if (name === \"publicKey\") {\n      setPublicKey(value);\n    }\n\n    if (name === \"host\") {\n      setHost(value);\n    }\n  }, []);\n\n  const onSubmit = useCallback(\n    async e => {\n      e.preventDefault();\n      setLoading(true);\n      try {\n        await dispatch(connectPeer({ publicKey, host }));\n        toggleModal();\n      } catch (err) {\n        setError(err?.errorMessage ?? err?.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [dispatch, publicKey, host, toggleModal]\n  );\n\n  return (\n    <Modal toggleModal={toggleModal} modalOpen={open} modalTitle=\"ADD PEER\">\n      <form className=\"modal-form\" onSubmit={onSubmit}>\n        {error ? <div className=\"form-error\">{error}</div> : null}\n        {loading ? <Loader overlay text=\"Adding Peer...\" /> : null}\n        <InputGroup\n          onChange={onInputChange}\n          name=\"publicKey\"\n          label=\"Public Key\"\n          value={publicKey}\n          small\n        />\n        <InputGroup\n          onChange={onInputChange}\n          name=\"host\"\n          label=\"Host IP\"\n          value={host}\n          small\n        />\n        <div className=\"modal-submit-container\">\n          <button className=\"modal-submit-btn\" type=\"submit\">\n            ADD PEER\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default AddPeerModal;\n","import React, { useCallback, useState } from \"react\";\nimport Modal from \"../../../../common/Modal\";\nimport InputGroup from \"../../../../common/InputGroup\";\nimport \"./css/index.scoped.css\";\nimport { connectPeer, openChannel } from \"../../../../actions/WalletActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../../../../common/Loader\";\nimport { loadFeeRates } from \"../../../../actions/FeesActions\";\n\nconst AddChannelModal = ({ open = false, toggleModal }) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [channelCapacity, setChannelCapacity] = useState(\"\");\n  const [pushAmount, setPushAmount] = useState(\"\");\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onInputChange = useCallback(e => {\n    const { name, value } = e.target;\n    if (name === \"publicKey\") {\n      setPublicKey(value);\n    }\n\n    if (name === \"pushAmount\") {\n      setPushAmount(value);\n    }\n\n    if (name === \"channelCapacity\") {\n      setChannelCapacity(value);\n    }\n  }, []);\n\n  const onSubmit = useCallback(\n    async e => {\n      e.preventDefault();\n      setLoading(true);\n      try {\n        await dispatch(loadFeeRates());\n        await dispatch(openChannel({ publicKey, channelCapacity, pushAmount }));\n        toggleModal();\n      } catch (err) {\n        setError(err?.errorMessage ?? err?.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [dispatch, publicKey, channelCapacity, pushAmount, toggleModal]\n  );\n\n  return (\n    <Modal toggleModal={toggleModal} modalOpen={open} modalTitle=\"OPEN CHANNEL\">\n      <form className=\"modal-form\" onSubmit={onSubmit}>\n        {error ? <div className=\"form-error\">{error}</div> : null}\n        {loading ? <Loader overlay text=\"Adding Peer...\" /> : null}\n        <InputGroup\n          onChange={onInputChange}\n          name=\"publicKey\"\n          label=\"Node Public Key\"\n          value={publicKey}\n          small\n        />\n        <InputGroup\n          onChange={onInputChange}\n          name=\"channelCapacity\"\n          label=\"Channel Capacity (sats)\"\n          value={channelCapacity}\n          inputMode=\"number\"\n          small\n        />\n        <InputGroup\n          onChange={onInputChange}\n          name=\"pushAmount\"\n          label=\"Push Amount (sats)\"\n          value={pushAmount}\n          inputMode=\"number\"\n          small\n        />\n        <div className=\"modal-submit-container\">\n          <button className=\"modal-submit-btn\" type=\"submit\">\n            OPEN CHANNEL\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default AddChannelModal;\n","// @ts-check\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport classNames from \"classnames\";\n/**\n * @typedef {import('shock-common').Channel} Channel\n */\nimport {\n  fetchChannels,\n  fetchInvoices,\n  fetchPeers,\n  fetchTransactions\n} from \"../../actions/WalletActions\";\nimport { convertSatsToUSD, formatNumber } from \"../../utils/Number\";\nimport MainNav from \"../../common/MainNav\";\nimport AddBtn from \"../../common/AddBtn\";\n// import Invoice from \"./components/Invoice\";\nimport Transaction from \"./components/Transaction\";\nimport Channel from \"./components/Channel\";\nimport Peer from \"./components/Peer\";\nimport AddPeerModal from \"./components/AddPeerModal\";\nimport AddChannelModal from \"./components/AddChannelModal\";\nimport Http from \"../../utils/Http\";\nimport * as Store from \"../../store\";\nimport \"./css/index.scoped.css\";\n\n/**\n * @typedef {Channel & { pendingStatus: string , ip: string }} PendingChannel\n */\n\nconst AdvancedPage = () => {\n  const [selectedAccordion, setSelectedAccordion] = useState(\"transactions\");\n  const [page] = useState(1);\n  const [addPeerOpen, setAddPeerOpen] = useState(false);\n  const [addChannelOpen, setAddChannelOpen] = useState(false);\n\n  const [pendingChannels, setPendingChannels] = useState(\n    /** @type {readonly PendingChannel[]} */ ([])\n  );\n\n  const dispatch = useDispatch();\n  const confirmedBalance = Store.useSelector(\n    ({ wallet }) => wallet.confirmedBalance\n  );\n  const channelBalance = Store.useSelector(\n    ({ wallet }) => wallet.channelBalance\n  );\n  const transactions = Store.useSelector(({ wallet }) => wallet.transactions);\n  // const invoices = Store.useSelector(({ wallet }) => wallet.invoices);\n  const channels = Store.useSelector(({ wallet }) => wallet.channels);\n  const peers = Store.useSelector(({ wallet }) => wallet.peers);\n  const USDRate = Store.useSelector(({ wallet }) => wallet.USDRate);\n\n  useEffect(() => {\n    const reset = page === 1;\n    dispatch(fetchTransactions({ page, reset }));\n    dispatch(fetchInvoices({ page, reset }));\n    dispatch(fetchChannels());\n    dispatch(fetchPeers());\n  }, [page, dispatch]);\n\n  //effect to load pending channels, no need to keep them in redux\n  useEffect(() => {\n    Http.get(\"/api/lnd/pendingchannels\").then(({ data }) => {\n      console.log(\"pending channels:\");\n      console.log(data);\n      const makeChanObj = (ch, pendingStatus) => ({\n        remote_pubkey: ch.remote_node_pub,\n        remote_balance: ch.remote_balance,\n        local_balance: ch.local_balance,\n        ip: \"\",\n        active: false,\n        pendingStatus\n      });\n      const pending = [];\n      data.pending_open_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Open\"));\n      });\n      data.waiting_close_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Close\"));\n      });\n      data.pending_force_closing_channels.forEach(chan => {\n        const { channel } = chan;\n        pending.push(makeChanObj(channel, \"Pending Force Close\"));\n      });\n      setPendingChannels(pending);\n    });\n  }, []);\n\n  const confirmedBalanceUSD = useMemo(\n    () => formatNumber(convertSatsToUSD(confirmedBalance, USDRate).toFixed(2)),\n    [USDRate, confirmedBalance]\n  );\n  const channelBalanceUSD = useMemo(\n    () => formatNumber(convertSatsToUSD(channelBalance, USDRate).toFixed(2)),\n    [USDRate, channelBalance]\n  );\n\n  const openAccordion = useCallback(accordion => {\n    setSelectedAccordion(accordion);\n  }, []);\n\n  const toggleAddPeerOpen = useCallback(() => {\n    setAddPeerOpen(!addPeerOpen);\n  }, [addPeerOpen]);\n\n  const toggleAddChannelOpen = useCallback(() => {\n    setAddChannelOpen(!addChannelOpen);\n  }, [addChannelOpen]);\n\n  const openTransactionsAccordion = useCallback(() => {\n    openAccordion(\"transactions\");\n  }, [openAccordion]);\n\n  const openPeersAccordion = useCallback(() => {\n    openAccordion(\"peers\");\n  }, [openAccordion]);\n\n  // const openInvoicesAccordion = useCallback(() => {\n  //   openAccordion(\"invoices\");\n  // }, [openAccordion]);\n\n  const openChannelsAccordion = useCallback(() => {\n    openAccordion(\"channels\");\n  }, [openAccordion]);\n\n  return (\n    <div className=\"page-container advanced-page\">\n      <div className=\"advanced-header\">\n        <MainNav absolute pageTitle=\"ADVANCED\" enableBackButton={false} />\n        <div className=\"advanced-balance-container\">\n          <div className=\"advanced-balance-icon-container\">\n            <i className=\"advanced-balance-icon fas fa-link\"></i>\n          </div>\n          <div className=\"advanced-balance-btc-container\">\n            <p className=\"advanced-balance-btc\">\n              {formatNumber(confirmedBalance)}\n            </p>\n            <p className=\"advanced-balance-usd\">{confirmedBalanceUSD} USD</p>\n          </div>\n        </div>\n        <div\n          className=\"advanced-balance-container\"\n          style={{ paddingBottom: 25 }}\n        >\n          <div className=\"advanced-balance-icon-container\">\n            <i className=\"advanced-balance-icon fas fa-bolt\"></i>\n          </div>\n          <div className=\"advanced-balance-btc-container\">\n            <p className=\"advanced-balance-btc\">\n              {formatNumber(channelBalance)}\n            </p>\n            <p className=\"advanced-balance-usd\">{channelBalanceUSD} USD</p>\n          </div>\n        </div>\n      </div>\n      <div className=\"advanced-accordions-container\">\n        <div\n          className={classNames({\n            \"advanced-accordion-container\": true,\n            \"accordion-open\": selectedAccordion === \"transactions\"\n          })}\n        >\n          <div\n            className=\"advanced-accordion-header\"\n            onClick={openTransactionsAccordion}\n          >\n            <p className=\"advanced-accordion-title\">Transactions</p>\n          </div>\n          <div className=\"advanced-accordion-content-container\">\n            <div className=\"advanced-accordion-content\">\n              {transactions.content.map(transaction => (\n                <Transaction\n                  date={transaction.time_stamp}\n                  hash={transaction.tx_hash}\n                  value={formatNumber(transaction.amount)}\n                  key={transaction.tx_hash}\n                  unconfirmed={transaction.num_confirmations === 0}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n        <div\n          className={classNames({\n            \"advanced-accordion-container\": true,\n            \"accordion-open\": selectedAccordion === \"peers\"\n          })}\n        >\n          <div\n            className=\"advanced-accordion-header\"\n            onClick={openPeersAccordion}\n          >\n            <p className=\"advanced-accordion-title\">Peers</p>\n          </div>\n          <div className=\"advanced-accordion-content-container\">\n            <div className=\"advanced-accordion-content\">\n              {peers.map(peer => (\n                <Peer\n                  address={peer.address}\n                  publicKey={peer.pub_key}\n                  sent={peer.sat_sent}\n                  received={peer.sat_recv}\n                  key={peer.address + peer.pub_key}\n                />\n              ))}\n            </div>\n            <AddBtn nestedMode relative>\n              <AddBtn\n                label=\"ADD PEER\"\n                onClick={toggleAddPeerOpen}\n                icon=\"link\"\n              />\n            </AddBtn>\n          </div>\n        </div>\n        {/* <div\n          className={classNames({\n            \"advanced-accordion-container\": true,\n            \"accordion-open\": selectedAccordion === \"invoices\"\n          })}\n        >\n          <div\n            className=\"advanced-accordion-header\"\n            onClick={openInvoicesAccordion}\n          >\n            <p className=\"advanced-accordion-title\">Invoices</p>\n          </div>\n          <div className=\"advanced-accordion-content-container\">\n            <div className=\"advanced-accordion-content\">\n              {invoices.content\n                .slice()\n                .reverse()\n                .map(invoice => (\n                  <Invoice\n                    paymentRequest={invoice.payment_request}\n                    date={invoice.creation_date}\n                    value={formatNumber(invoice.value)}\n                    message={invoice.memo}\n                    key={invoice.payment_request}\n                  />\n                ))}\n            </div>\n          </div>\n        </div> */}\n        <div\n          className={classNames({\n            \"advanced-accordion-container\": true,\n            \"accordion-open\": selectedAccordion === \"channels\"\n          })}\n        >\n          <div\n            className=\"advanced-accordion-header\"\n            onClick={openChannelsAccordion}\n          >\n            <p className=\"advanced-accordion-title\">Channels</p>\n          </div>\n          <div className=\"advanced-accordion-content-container\">\n            <div className=\"advanced-accordion-content\">\n              {channels.map(channel => (\n                <Channel\n                  address={channel.remote_pubkey}\n                  receivable={channel.remote_balance}\n                  sendable={channel.local_balance}\n                  active={channel.active}\n                  key={channel.chan_id}\n                />\n              ))}\n              {pendingChannels.map(channel => (\n                <Channel\n                  address={channel.remote_pubkey}\n                  receivable={channel.remote_balance}\n                  sendable={channel.local_balance}\n                  active={channel.active}\n                  key={channel.chan_id}\n                  pendingStatus={channel.pendingStatus}\n                />\n              ))}\n              <AddBtn nestedMode relative>\n                <AddBtn\n                  label=\"ADD CHANNEL\"\n                  small\n                  onClick={toggleAddChannelOpen}\n                  icon=\"exchange-alt\"\n                />\n              </AddBtn>\n            </div>\n          </div>\n        </div>\n      </div>\n      <AddPeerModal open={addPeerOpen} toggleModal={toggleAddPeerOpen} />\n      <AddChannelModal\n        open={addChannelOpen}\n        toggleModal={toggleAddChannelOpen}\n      />\n    </div>\n  );\n};\n\nexport default AdvancedPage;\n"],"sourceRoot":""}