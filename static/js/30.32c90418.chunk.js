(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[30],{498:function(e,n,t){"use strict";t(3);var c=t(7);n.a=function(e){var n=e.amt,t={};return e.insideRow?t.width=n:t.height=n,Object(c.jsx)("div",{style:t})}},571:function(e,n,t){e.exports={PAD:"24px",container:"css_container__1PBSF",info:"css_info__3-BVc","lines-container":"css_lines-container__2cbF7",line:"css_line__2Yjr7","line-selected":"css_line-selected__2NoqB css_line__2Yjr7",half:"css_half__og7Px","half-left":"css_half-left__5n9sU css_half__og7Px","half-right":"css_half-right__2A-oI css_half__og7Px",picture:"css_picture__-Xnv0"}},606:function(e,n,t){"use strict";t.r(n);var c=t(2),s=t.n(c),a=t(5),o=t(17),i=t(3),r=t.n(i),l=t(73),u=t.n(l),f=t(570),j=t.n(f),_=t(21),h=t(498),b=t(25),d=t(20),p=t(571),x=t.n(p),O=t(7);n.default=function(e){e.publicKey;var n=e.onNext,t=e.onPrevious,c=e.position,i=r.a.useState(0),l=Object(o.a)(i,2),f=l[0],p=l[1],m=r.a.useState([]),g=Object(o.a)(m,2),v=g[0],N=g[1],w=v[f],k=d.useSelector((function(e){return e.node.publicKey})),y=d.useSelector((function(e){return e.userProfiles[k]})).displayName,P=d.useSelector((function(e){return e.node})).hostIP,S=r.a.useCallback(Object(a.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)({host:P,query:"".concat(k,"::story::open")});case 2:return(n=e.sent).on("$shock",(function(e){"object"===typeof e&&null!==e&&N(Object.values(e).filter((function(e){return"object"===typeof e&&null!==e})))})),n.on("error",(function(e){console.log("Error inside story sub:"),console.log(e)})),n.on("NOT_AUTH",(function(){console.warn("NOT_AUTH inside story sub.")})),e.abrupt("return",(function(){n.off("$shock"),n.close()}));case 7:case"end":return e.stop()}}),e)}))),[P,k]);r.a.useEffect((function(){S()}),[S]),r.a.useEffect((function(){}),[f,c]);return 0===v.length?Object(O.jsx)("div",{className:u()("page-container",x.a.container)}):Object(O.jsxs)("div",{className:u()("page-container",x.a.container),children:[Object(O.jsx)("img",{alt:"Pic ".concat(f+1," out of ").concat(v.length),src:"data:image/jpeg;base64,".concat(w.data),className:x.a.picture}),Object(O.jsx)(h.a,{amt:24}),Object(O.jsx)("div",{className:x.a["lines-container"],children:v.map((function(e,n){return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(h.a,{amt:12,insideRow:!0}),Object(O.jsx)("div",{className:u()(x.a.line,n===f&&x.a["line-selected"])}),Object(O.jsx)(h.a,{amt:12,insideRow:!0})]},e.id)}))}),Object(O.jsx)(h.a,{amt:24}),Object(O.jsxs)("div",{className:x.a.info,children:[Object(O.jsx)("span",{children:y}),Object(O.jsx)(h.a,{amt:12}),Object(O.jsx)("span",{children:j()(_.h(w.timestamp)).fromNow()})]}),Object(O.jsx)("div",{className:x.a["half-left"],onClick:function(){0===f?t():p((function(e){return e-1}))}}),Object(O.jsx)("div",{className:x.a["half-right"],onClick:function(){f===v.length-1?("last"!==c&&p(0),n()):p((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=30.32c90418.chunk.js.map