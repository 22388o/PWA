{"version":3,"sources":["common/Post/components/TipRibbon/index.js","common/Post/components/Stream/index.tsx","utils/Cache.js","utils/Promise.js","utils/Torrents.js","common/Post/components/Video/index.js","common/Post/components/Image/index.js","common/Post/index.js","images/av1.jpg","common/Post/SharedPost.js"],"names":["TipRibbon","tipCounter","tipValue","zoomed","className","style","opacity","STREAM_STATUS_URI","Stream","id","item","index","postId","hideRibbon","width","timeout","playerDOM","useRef","useState","isLive","setIsLive","videoStyle","useEffect","recheckInterval","checkStatus","a","magnetURI","split","seedToken","Http","get","data","player","videojs","current","autoplay","muted","aspectRatio","src","type","play","then","setInterval","clearInterval","cursor","display","ref","preload","controls","autoPlay","getCachedFile","fileName","FileCache","_init","Promise","resolve","reject","init","console","log","persist","status","persistent","load","cachedFile","createURL","warn","renderCachedFile","fileURL","selector","elements","document","querySelectorAll","length","forEach","element","saveFile","buffer","save","runSerial","tasks","result","task","supportedFileTypes","formats","options","_getFileType","file","extension","name","slice","supportedFileType","Object","entries","filter","includes","fileType","webTorrentClient","WebTorrent","attachMedia","posts","torrentMode","allowDuplicates","torrentTasks","map","post","contentItems","key","add","torrent","files","target","destroy","torrentElement","contentURL","decodeURIComponent","replace","format","toLowerCase","endsWith","compatibleURL","elementSrc","getAttribute","setAttribute","renderTo","on","getBlob","err","blob","querySelector","dataset","played","reduce","torrents","Video","data-torrent","data-file-key","data-played","Image","setZoomed","zoomLoaded","setZoomLoaded","previewVisible","setPreviewVisible","animationTimer","setAnimationTimer","handleZoomChange","useCallback","value","clearTimeout","timer","setTimeout","mainImageStyle","Controlled","isZoomed","onZoomChange","overlayBgColorStart","overlayBgColorEnd","alt","onLoad","Post","timestamp","avatar","publicKey","openTipModal","openUnlockModal","username","isOnlineNode","openDeleteModal","unlockedContent","useDispatch","useSelector","content","useEmblaCarousel","slidesToScroll","align","carouselRef","carouselAPI","sliderLength","setSliderLength","activeSlide","setActiveSlide","isPrivate","setIsPrivate","getMediaContent","k","e","path","parseContent","text","finalItem","cached","nextSlide","canScrollNext","scrollNext","prevSlide","canScrollPrev","scrollPrev","handleUserKeyDown","updateActiveSlide","selectedScrollSnap","scrollSnapList","window","addEventListener","removeEventListener","off","tipPost","targetType","postID","unlockPost","deletePost","shared","Tooltip","rebuild","to","backgroundImage","DateTime","fromMillis","toRelative","onClick","Array","from","_","classNames","scrollTo","data-tip","SharedPost","sharerProfile","originalPostProfile","originalPost","sharedTimestamp","postPublicKey","loadPostMedia","useLayoutEffect","displayName","date","av1","alias","Loader"],"mappings":"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","file":"static/js/5.68cad9ad.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./css/index.css\";\n\nconst TipRibbon = ({ tipCounter, tipValue, zoomed }) =>\n  tipValue > 0 ? (\n    <div className=\"ribbon-container\" style={{ opacity: !zoomed ? 1 : 0 }}>\n      <p className=\"ribbon-title\">Total Tips</p>\n      <p className=\"ribbon-value\">\n        {tipCounter} {tipCounter === 1 ? \"Tip\" : \"Tips\"}\n      </p>\n    </div>\n  ) : null;\n\nexport default TipRibbon;\n","import React, {    useRef, useEffect,useState } from \"react\";\nimport TipRibbon from \"../TipRibbon\";\nimport \"./css/index.css\";\nimport videojs from \"video.js\";\nimport Http from \"../../../../utils/Http\";\n\nconst REACT_APP_SL_SEED_URI = \"https://webtorrent.shock.network\"\nconst STREAM_STATUS_URI = `${REACT_APP_SL_SEED_URI}/rtmpapi/api/streams/live`\n\nconst Stream = ({ id, item, index, postId, tipValue, tipCounter, hideRibbon,width,timeout = 10000 }) => {\n  const playerDOM = useRef(null)\n  const [isLive,setIsLive] = useState(false)\n  const videoStyle = { width:\"100%\"}\n  if(width){\n    videoStyle.width = width\n  }\n  useEffect(() => {\n    let recheckInterval = null\n    const checkStatus = async () => {\n      try{\n        //TODO regex (?) `${REACT_APP_SL_RTMP_API_URI}/live/${seedToken}/index.m3u8`\n        const [seedToken] = item.magnetURI.split(\"/live/\")[1].split(\"/index.m3u8\") \n        const res = await Http.get(`${STREAM_STATUS_URI}/${seedToken}`)\n        if(!res.data.isLive){\n          return false\n        }\n        const player = videojs(playerDOM.current, {\n          autoplay: true,\n          muted: true,\n          aspectRatio: \"16:9\",\n          \n        });\n        player.src({\n          src: item.magnetURI,\n          type: \"application/x-mpegURL\"\n        });\n        /*listen for 404s from the player\n        player.tech().on('retryplaylist', () => {\n          console.log('retryplaylist');\n        });*/\n        player.play();\n        return true\n      }catch(err){\n        return false\n      }\n    }\n    checkStatus()\n    .then(isLive => {\n      if(isLive){\n        setIsLive(true)\n        return\n      }\n      recheckInterval = setInterval(async ()=> {\n        const isLive = await checkStatus()\n        if(isLive){\n          setIsLive(true)\n          clearInterval(recheckInterval)\n          return\n        }\n      },timeout)\n    })\n    \n    return () => {\n      clearInterval(recheckInterval)\n    }\n    \n  },[item])\n  return (\n    <div className=\"media-container w-100\">\n      <div\n        className=\"video-container w-100\"\n        style={{\n          cursor: \"pointer\",\n          width:\"100%\"\n        }}\n      >\n        {!isLive && <p>The streamer has disconnected.</p>}\n        <div style={isLive ? {width:\"100%\"} : {display:'none',width:\"100%\"}}>\n        <video\n          className=\"video-js vjs-default-skin\"\n          ref={playerDOM}\n          style={videoStyle}\n          preload=\"auto\"\n          controls\n          muted\n          autoPlay\n        />\n        </div>\n        {!hideRibbon && <TipRibbon tipCounter={tipCounter} tipValue={tipValue} zoomed={false} />}\n      </div>\n    </div>\n  );\n};\n\nexport default Stream;\n","import FileCache from \"browser-file-storage\";\n\nexport const DB_NAME = \"ShockWalletStore\";\n\nexport const init = () =>\n  new Promise((resolve, reject) => {\n    FileCache.init(DB_NAME)\n      .then(() => {\n        console.log(\"File cache initialized!\");\n        return FileCache.persist();\n      })\n      .then(status => {\n        if (status.persistent) {\n          resolve(status);\n        } else {\n          reject(status);\n        }\n      });\n  });\n\nexport const getCachedFile = async fileName => {\n  try {\n    if (!FileCache._init) {\n      await init();\n    }\n\n    const cachedFile = await FileCache.load(fileName);\n    return cachedFile.createURL();\n  } catch (err) {\n    console.warn(err);\n    return false;\n  }\n};\n\nexport const renderCachedFile = (fileURL, selector) => {\n  const elements = document.querySelectorAll(selector);\n  if (elements && elements.length) {\n    elements.forEach(element => {\n      if (!element.src) {\n        element.src = fileURL;\n        element.muted = true;\n        element.autoplay = true;\n      }\n    });\n  }\n  return !!elements?.length;\n};\n\nexport const saveFile = (fileName, buffer) => {\n  return FileCache.save(fileName, buffer);\n};\n","export const runSerial = tasks => {\n  let result = Promise.resolve();\n  tasks.forEach(task => {\n    result = result.then(() => task());\n  });\n  return result;\n};\n","import WebTorrent from \"webtorrent\";\nimport { getCachedFile, renderCachedFile, saveFile } from \"./Cache\";\nimport { runSerial } from \"./Promise\";\n\nconst supportedFileTypes = {\n  \"video/embedded\": {\n    formats: [\"mp4\", \"webm\"],\n    element: \"video\",\n    options: {\n      autoplay: true,\n      muted: true\n    }\n  },\n  \"image/embedded\": {\n    formats: [\"jpg\", \"png\", \"webp\", \"jpeg\"],\n    element: \"img\",\n    options: {}\n  }\n};\n\nconst _getFileType = file => {\n  const extension = file.name?.split(\".\")?.slice(-1)[0];\n  const supportedFileType = Object.entries(\n    supportedFileTypes\n  ).filter(([type, options]) => options.formats.includes(extension))[0];\n\n  if (supportedFileType) {\n    const [name, fileType] = supportedFileType;\n    return {\n      name,\n      ...fileType\n    };\n  }\n\n  return null;\n};\n\nexport const webTorrentClient = new WebTorrent();\n\nexport const attachMedia = (\n  posts = [],\n  torrentMode = true,\n  allowDuplicates = false\n) => {\n  const torrentTasks = posts\n    .map(post => {\n      const { contentItems, id } = post;\n      return Object.entries(contentItems)\n        .filter(([key, item]) => supportedFileTypes[item.type])\n        .map(([key, item]) => () =>\n          new Promise(resolve => {\n            const torrentExists = webTorrentClient.get(item.magnetURI);\n\n            if (torrentExists && !allowDuplicates) {\n              resolve(true);\n              return;\n            }\n\n            webTorrentClient.add(item.magnetURI, async torrent => {\n              // Proceed to the next torrent in queue\n              resolve(true);\n\n              const files = torrent.files.filter(file => {\n                const extension = file.name?.split(\".\")?.slice(-1)[0];\n                const supportedFileType = Object.entries(\n                  supportedFileTypes\n                ).filter(([type, options]) =>\n                  options.formats.includes(extension)\n                )[0];\n                if (supportedFileType) {\n                  const [, fileType] = supportedFileType;\n                  const matched = fileType.formats.includes(extension);\n                  return matched;\n                }\n                return false;\n              });\n\n              files.map(async file => {\n                const fileType = _getFileType(file);\n\n                if (!fileType) {\n                  return;\n                }\n\n                const fileName = `${id}-${key}-${file.name}`;\n\n                const element = fileType.element;\n                const target = `${element}[data-torrent=\"${item.magnetURI}\"]`;\n                const cachedFile = await getCachedFile(fileName);\n\n                if (cachedFile) {\n                  const torrent = webTorrentClient.get(item.magnetURI);\n\n                  if (torrent) {\n                    torrent.destroy();\n                  }\n\n                  renderCachedFile(cachedFile, target);\n                  return;\n                }\n\n                const torrentElements = document.querySelectorAll(target);\n                torrentElements.forEach(torrentElement => {\n                  const contentURL = decodeURIComponent(\n                    item.magnetURI.replace(/.*(ws=)/gi, \"\")\n                  );\n                  const [compatibleURL] = fileType.formats.filter(format =>\n                    contentURL\n                      .toLowerCase()\n                      .endsWith(`.${format.toLowerCase()}`)\n                  );\n                  const elementSrc = torrentElement.getAttribute(\"src\");\n\n                  if ((torrentMode || !compatibleURL) && !elementSrc) {\n                    file.renderTo(torrentElement, fileType.options);\n                    return;\n                  }\n\n                  torrentElement.setAttribute(\"src\", contentURL);\n                });\n              });\n\n              torrent.on(\"done\", () => {\n                files.map(file => {\n                  const fileType = _getFileType(file);\n                  const fileName = `${id}-${key}-${file.name}`;\n                  const element = fileType.element;\n                  const target = `${element}[data-torrent=\"${item.magnetURI}\"]`;\n\n                  file.getBlob(async (err, blob) => {\n                    if (err) {\n                      console.warn(err);\n                      return;\n                    }\n\n                    await saveFile(fileName, blob);\n                    const element = document.querySelector(target);\n                    if (element?.dataset.played === \"false\" && !element?.getAttribute(\"src\")) {\n                      const cachedFile = await getCachedFile(fileName);\n                      renderCachedFile(cachedFile, target);\n                    }\n                  });\n\n                  return file;\n                });\n              });\n            });\n          })\n        );\n    })\n    .reduce((torrents, contentItems) => [...torrents, ...contentItems], []);\n\n  runSerial(torrentTasks);\n};\n","import React from \"react\";\nimport TipRibbon from \"../TipRibbon\";\nimport \"./css/index.css\";\n\nconst Video = ({ id, item, index, postId, tipValue, tipCounter, hideRibbon,width }) => {\n  const contentURL = decodeURIComponent(\n    item.magnetURI.replace(/.*(ws=)/gi, \"\")\n  );\n  const videoStyle = { }\n  if(width){\n    videoStyle.width = width\n  }\n  return (\n    <div className=\"media-container\">\n      <div\n        className=\"video-container\"\n        style={{\n          cursor: \"pointer\"\n        }}\n      >\n        <video\n          style={videoStyle}\n          className={`torrent-video torrent-video-${postId}-${id}`}\n          data-torrent={item.magnetURI}\n          data-file-key={index}\n          controls\n          data-played=\"false\"\n          src={contentURL}\n        />\n        {!hideRibbon && <TipRibbon tipCounter={tipCounter} tipValue={tipValue} />}\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n","import React, { useState, useCallback } from \"react\";\nimport { Controlled as ControlledZoom } from \"react-medium-image-zoom\";\nimport TipRibbon from \"../TipRibbon\";\nimport \"react-medium-image-zoom/dist/styles.css\";\nimport \"./css/index.css\";\n\nconst IMAGE_TRANSITION_MS = 200;\n\nconst Image = ({ id, item, index, postId, tipValue, tipCounter,hideRibbon,width }) => {\n  const [zoomed, setZoomed] = useState(false);\n  const [zoomLoaded, setZoomLoaded] = useState(false);\n  const [previewVisible, setPreviewVisible] = useState(true);\n  const [animationTimer, setAnimationTimer] = useState(null);\n\n  const handleZoomChange = useCallback(\n    value => {\n      clearTimeout(animationTimer);\n      setZoomed(value);\n      if (!value && zoomLoaded) {\n        setZoomLoaded(false);\n        const timer = setTimeout(() => {\n          setPreviewVisible(true);\n        }, IMAGE_TRANSITION_MS);\n        setAnimationTimer(timer);\n      }\n\n      if (value) {\n        setPreviewVisible(false);\n      }\n    },\n    [animationTimer, zoomLoaded]\n  );\n\n  const contentURL = decodeURIComponent(\n    item.magnetURI.replace(/.*(ws=)/gi, \"\")\n  );\n  const mainImageStyle = { opacity: previewVisible ? 1 : 0 }\n  if(width){\n    mainImageStyle.width = width\n  }\n\n  return (\n    <div className=\"media-container\">\n      <ControlledZoom\n        isZoomed={zoomed}\n        onZoomChange={handleZoomChange}\n        overlayBgColorStart=\"#16191c00\"\n        overlayBgColorEnd=\"#16191c\"\n      >\n        <img\n          className={`torrent-img torrent-img-${postId}-${id}`}\n          alt=\"Post Media\"\n          data-torrent={item.magnetURI}\n          data-file-key={index}\n          style={mainImageStyle}\n          src={contentURL}\n        />\n        <img\n          className={`enlarged-img enlarged-img-${postId}-${id}`}\n          alt=\"Post Media\"\n          data-file-key={index}\n          onLoad={() => {\n            setZoomLoaded(true);\n          }}\n          style={{ opacity: zoomLoaded ? 1 : 0 }}\n          src={contentURL}\n        />\n        {!hideRibbon && <TipRibbon\n          tipCounter={tipCounter}\n          tipValue={tipValue}\n          zoomed={zoomed}\n        />}\n      </ControlledZoom>\n    </div>\n  );\n};\n\nexport default Image;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useEmblaCarousel } from \"embla-carousel/react\";\nimport Tooltip from \"react-tooltip\";\nimport classNames from \"classnames\";\nimport { DateTime } from \"luxon\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport Video from \"./components/Video\";\nimport Image from \"./components/Image\";\nimport Stream from \"./components/Stream\";\nimport \"./css/index.css\";\n\nconst Post = ({\n  id,\n  timestamp,\n  avatar,\n  tipCounter,\n  tipValue,\n  publicKey,\n  openTipModal,\n  openUnlockModal,\n  contentItems = {},\n  username,\n  isOnlineNode,\n  openDeleteModal\n}) => {\n  const dispatch = useDispatch();\n  const unlockedContent = useSelector(({content}) => content.unlockedContent)\n  const [carouselRef, carouselAPI] = useEmblaCarousel({\n    slidesToScroll: 1,\n    align: \"center\"\n  });\n\n  const [sliderLength, setSliderLength] = useState(0);\n  const [activeSlide, setActiveSlide] = useState(0);\n  const [isPrivate, setIsPrivate] = useState(false);\n\n  const getMediaContent = () => {\n    return Object.entries(contentItems).filter(\n      ([_, item]) => item.type !== \"text/paragraph\"\n    );\n  };\n\n  const getTextContent = () => {\n    return Object.entries(contentItems).filter(\n      ([_, item]) => item.type === \"text/paragraph\"\n    );\n  };\n\n  useEffect(()=>{\n    getMediaContent().forEach(([k,e]) => {\n      const path = `${publicKey}>posts>${k}`\n      if (e.isPrivate && !unlockedContent[path]){\n        setIsPrivate(true)\n      }\n    })\n  },[contentItems,publicKey])\n\n  const parseContent = ([key, item], index) => {\n    if (item.type === \"text/paragraph\") {\n      return <p key={key}>{item.text}</p>;\n    }\n    const finalItem = item\n    if (item.isPrivate) {\n      const path = `${publicKey}>posts>${id}`\n      const cached = unlockedContent[path]\n      if (cached){\n        finalItem.magnetURI = cached\n      } else {\n        return <div><i className=\"fas fa-lock fa-10x\"></i></div>\n      }\n    }\n\n    if (item.type === \"image/embedded\") {\n      return (\n        <Image\n          id={key}\n          item={finalItem}\n          index={index}\n          postId={id}\n          tipCounter={tipCounter}\n          tipValue={tipValue}\n          key={`${id}-${index}`}\n        />\n      );\n    }\n\n    if (item.type === \"video/embedded\") {\n      return (\n        <Video\n          id={key}\n          item={finalItem}\n          index={index}\n          postId={id}\n          tipCounter={tipCounter}\n          tipValue={tipValue}\n          key={`${id}-${index}`}\n        />\n      );\n    }\n    if (item.type === \"stream/embedded\") {\n      return (\n        <Stream\n          id={key}\n          item={finalItem}\n          index={index}\n          postId={id}\n          tipCounter={tipCounter}\n          tipValue={tipValue}\n          key={`${id}-${index}`}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  // useEffect(() => {\n  //   attachMedia();\n  // }, [contentItems.length]);\n\n  const nextSlide = useCallback(() => {\n    if (!carouselAPI) return;\n\n    if (carouselAPI.canScrollNext()) {\n      carouselAPI.scrollNext();\n    }\n  }, [carouselAPI]);\n\n  const prevSlide = useCallback(() => {\n    if (!carouselAPI) return;\n\n    if (carouselAPI.canScrollPrev()) {\n      carouselAPI.scrollPrev();\n    }\n  }, [carouselAPI]);\n\n  const handleUserKeyDown = useCallback(\n    e => {\n      if (sliderLength === 0) return;\n      const { key } = e;\n\n      if (key === \"ArrowRight\") {\n        nextSlide();\n      }\n\n      if (key === \"ArrowLeft\") {\n        prevSlide();\n      }\n    },\n    [sliderLength, prevSlide, nextSlide]\n  );\n\n  const updateActiveSlide = useCallback(() => {\n    setActiveSlide(carouselAPI.selectedScrollSnap());\n  }, [carouselAPI, setActiveSlide]);\n\n  useEffect(() => {\n    if (!carouselAPI) return;\n\n    carouselAPI.on(\"scroll\", updateActiveSlide);\n    setSliderLength(carouselAPI.scrollSnapList().length);\n    window.addEventListener(\"keydown\", handleUserKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleUserKeyDown);\n      carouselAPI.off(\"scroll\", updateActiveSlide);\n    };\n  }, [carouselAPI, sliderLength, handleUserKeyDown, updateActiveSlide]);\n\n  const tipPost = useCallback(() => {\n    if (!isOnlineNode) {\n      return;\n    }\n\n    openTipModal({\n      targetType: \"post\",\n      postID: id,\n      publicKey\n    });\n  }, [id, isOnlineNode, openTipModal, publicKey]);\n\n  const unlockPost = useCallback(() => {\n    if (!isOnlineNode) {\n      return;\n    }\n\n    openUnlockModal({\n      targetType: \"unlock\",\n      postID: id,\n      publicKey\n    });\n  }, [id, isOnlineNode, openUnlockModal, publicKey]);\n\n  const deletePost = useCallback(()=>{\n    openDeleteModal({id,shared:false});\n  },[id,openDeleteModal])\n\n  useEffect(() => {\n    Tooltip.rebuild();\n  }, []);\n\n  return (\n    <div className=\"post\">\n      <div className=\"head\">\n        <div className=\"user\">\n        \n          <Link\n            className=\"av\"\n            to={`/${publicKey}`}\n            style={{\n              backgroundImage: `url(${avatar})`\n            }}\n          />\n          <div className=\"details\">\n            <Link to={`/${publicKey}`}>{username}</Link>\n            <p>\n              {timestamp && typeof timestamp === \"number\" \n                ? DateTime.fromMillis(timestamp).toRelative() \n                : \"Loading...\"}\n            </p>\n          </div>\n        </div>\n        {openDeleteModal && <i className=\"fas fa-trash\" onClick={deletePost}></i>}\n      </div>\n\n      <div className=\"content\">\n        {getTextContent().map(parseContent)}\n        <div className=\"media-content-carousel\">\n          {sliderLength > 1 ? (\n            <div className=\"media-carousel-controls-container\">\n              <div\n                className=\"media-carousel-arrow fas fa-angle-left\"\n                onClick={prevSlide}\n              ></div>\n              <div className=\"media-carousel-pages\">\n                {Array.from({ length: sliderLength }).map((_, key) => (\n                  <div\n                    className={classNames({\n                      \"media-carousel-page\": true,\n                      \"active-carousel-page\": activeSlide === key\n                    })}\n                    onClick={() => carouselAPI?.scrollTo(key)}\n                  ></div>\n                ))}\n              </div>\n              <div\n                className=\"media-carousel-arrow fas fa-angle-right\"\n                onClick={nextSlide}\n              ></div>\n            </div>\n          ) : null}\n          <div className=\"media-content-root\" ref={carouselRef}>\n            <div className=\"media-content-container\">\n              {getMediaContent().map(parseContent)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"actions\">\n        <div\n          className=\"icon-tip-btn\"\n          data-tip={isPrivate ? \"Unlock this post\" : \"Tip this post\"}\n          onClick={isPrivate ? unlockPost : tipPost}\n        >\n          <div className=\"tip-icon icon-thin-feed\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","export default __webpack_public_path__ + \"static/media/av1.e1539bb2.jpg\";","import React, { useCallback, useLayoutEffect } from \"react\";\nimport { DateTime } from \"luxon\";\nimport Tooltip from \"react-tooltip\";\n\nimport Post from \".\";\n\nimport av1 from \"../../images/av1.jpg\";\nimport \"../Post/css/index.css\";\nimport { attachMedia } from \"../../utils/Torrents\";\nimport Loader from \"../Loader\";\n\nconst SharedPost = ({\n  sharerProfile,\n  originalPostProfile,\n  originalPost,\n  sharedTimestamp,\n  isOnlineNode,\n  postPublicKey,\n  openTipModal,\n  openUnlockModal,\n  openDeleteModal\n}) => {\n  const loadPostMedia = useCallback(async () => {\n    if (originalPost) {\n      attachMedia([originalPost], false);\n    }\n  }, [originalPost]);\n  const deletePost = useCallback(()=>{\n    openDeleteModal({id:originalPost.id,shared:true});\n  },[originalPost,openDeleteModal])\n\n  useLayoutEffect(() => {\n    Tooltip.rebuild();\n    loadPostMedia();\n  }, [loadPostMedia]);\n\n  return (\n    <div className=\"post shared-post\">\n      <div className=\"head\">\n        <div className=\"user\">\n          <div\n            className=\"av\"\n            style={{\n              backgroundImage: `url(data:image/jpeg;base64,${sharerProfile?.avatar})`\n            }}\n          ></div>\n          <div className=\"details\">\n            <p>{sharerProfile?.displayName}</p>\n            <p>\n              {sharedTimestamp && typeof sharedTimestamp === \"number\"\n                ? DateTime.fromMillis(sharedTimestamp).toRelative()\n                : \"Loading...\"}\n            </p>\n          </div>\n        </div>\n        {openDeleteModal && <i className=\"fas fa-trash\" onClick={deletePost}></i>}\n      </div>\n\n      <div className=\"shared-content\">\n        {originalPost && originalPostProfile ? (\n          <Post\n            id={originalPost.id}\n            timestamp={originalPost.date}\n            avatar={\n              originalPostProfile.avatar\n                ? `data:image/jpeg;base64,${originalPostProfile.avatar}`\n                : av1\n            }\n            tipCounter={originalPost.tipCounter}\n            tipValue={originalPost.tipValue}\n            publicKey={postPublicKey}\n            openTipModal={openTipModal}\n            openUnlockModal={openUnlockModal}\n            contentItems={originalPost.contentItems ?? {}}\n            username={\n              originalPostProfile.displayName ?? originalPostProfile.alias\n            }\n            isOnlineNode={isOnlineNode}\n          />\n        ) : (\n          <Loader text=\"Loading Post...\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SharedPost;\n"],"sourceRoot":""}