(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[28],{572:function(e,t,n){"use strict";var a=n(3),r=n(82),s=n.n(r),c=(n(573),n(44)),i=n(19),o=n(86),l=n(566),d=n(18),u=n(4);t.a=function(e){var t=e.pageTitle,n=e.absolute,r=void 0!==n&&n,v=e.solid,b=void 0!==v&&v,m=e.enableBackButton,p=void 0!==m&&m,h=e.onHeight,f=void 0===h?i.a:h,j=Object(c.b)(),g=Object(a.useCallback)((function(){window.history.back()}),[]),O=Object(a.useCallback)((function(){j(Object(o.c)())}),[j]),w=Object(d.useSelector)((function(e){return e.node.publicKey})),x=Object(a.useCallback)((function(e){if(e)try{f(e.getBoundingClientRect().height)}catch(t){console.log("Error inside onHeight mechanism in MainNav:"),console.log(t)}}),[f]);return Object(u.jsxs)("div",{className:s()({"main-nav-container":!0,"main-nav-absolute":r,"main-nav-solid":b}),ref:x,"data-v-e8578093":"",children:[p?Object(u.jsx)("div",{className:"main-nav-back",onClick:g,"data-v-e8578093":"",children:Object(u.jsx)("i",{className:"icon icon-thin-back","data-v-e8578093":""})}):Object(u.jsx)(l.a,{height:40,publicKey:w,"data-v-e8578093":""}),Object(u.jsx)("p",{className:"main-nav-title unselectable","data-v-e8578093":"",children:t}),Object(u.jsxs)("div",{className:"main-nav-menu-btn",onClick:O,"data-v-e8578093":"",children:[Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-e8578093":""}),Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-e8578093":""}),Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-e8578093":""})]})]})}},573:function(e,t,n){},581:function(e,t,n){"use strict";var a=n(58),r=n(4);t.a=function(){return Object(r.jsxs)("div",{className:"bottom-nav-container",children:[Object(r.jsx)(a.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(r.jsx)(a.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(r.jsx)(a.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(r.jsx)(a.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},588:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(12),r=n(182),s=n.n(r),c=/(\d+)(\d{3})/gi,i=1e8,o=function e(t){return c.test(t)?e(t.replace(c,"$1,$2")):t},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("."),n=Object(a.a)(t,2),r=n[0],s=n[1],c=o(r),i=s?"."+s:"";return c+i},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=s()(e).div(i).toString();return s()((null===t||void 0===t?void 0:t.toString())||"0").times(n)}},698:function(e,t,n){},699:function(e,t,n){},863:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var a,r=n(3),s=n.n(r),c=n(58);function i(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(t===a.DOWN)return e.scrollTop+e.clientHeight<e.scrollHeight;if(t===a.UP)return e.scrollTop>0;throw new Error("unsupported direction")}function o(e,t){return!!i(e,t)||null!=e.parentElement&&o(e.parentElement,t)}function l(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}!function(e){e[e.UP=-1]="UP",e[e.DOWN=1]="DOWN"}(a||(a={}));l(".lds-ellipsis {\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px; }\n\n.lds-ellipsis div {\n  position: absolute;\n  top: 27px;\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background: #363636;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\n\n.lds-ellipsis div:nth-child(1) {\n  left: 6px;\n  animation: lds-ellipsis1 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(2) {\n  left: 6px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(3) {\n  left: 26px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(4) {\n  left: 45px;\n  animation: lds-ellipsis3 0.6s infinite; }\n\n@keyframes lds-ellipsis1 {\n  0% {\n    transform: scale(0); }\n  100% {\n    transform: scale(1); } }\n\n@keyframes lds-ellipsis3 {\n  0% {\n    transform: scale(1); }\n  100% {\n    transform: scale(0); } }\n\n@keyframes lds-ellipsis2 {\n  0% {\n    transform: translate(0, 0); }\n  100% {\n    transform: translate(19px, 0); } }\n");var d=function(){return s.a.createElement("div",{className:"lds-ellipsis"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))},u=function(){return s.a.createElement("div",null,s.a.createElement("p",null,"\u21a7\xa0\xa0pull to refresh\xa0\xa0\u21a7"))};l(".ptr,\n.ptr__children {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  position: relative; }\n\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\n  display: block; }\n\n.ptr__fetch-more {\n  display: none; }\n\n/**\n  * Pull down transition \n  */\n.ptr__children,\n.ptr__pull-down {\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\n\n.ptr__pull-down {\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  right: 0;\n  top: 0;\n  visibility: hidden; }\n  .ptr__pull-down > div {\n    display: none; }\n\n.ptr--dragging {\n  /**\n    * Hide PullMore content is treshold breached\n    */\n  /**\n    * Otherwize, display content\n    */ }\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\n    display: none; }\n  .ptr--dragging .ptr__pull-down--pull-more {\n    display: block; }\n\n.ptr--pull-down-treshold-breached {\n  /**\n    * Force opacity to 1 is pull down trashold breached\n    */\n  /**\n    * And display loader\n    */ }\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\n    opacity: 1 !important; }\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\n    display: block; }\n\n.ptr__loader {\n  margin: 0 auto;\n  text-align: center; }\n");var v=function(e){var t=e.isPullable,n=void 0===t||t,c=e.canFetchMore,i=void 0!==c&&c,l=e.onRefresh,v=e.onFetchMore,b=e.refreshingContent,m=void 0===b?s.a.createElement(d,null):b,p=e.pullingContent,h=void 0===p?s.a.createElement(u,null):p,f=e.children,j=e.pullDownThreshold,g=void 0===j?67:j,O=e.fetchMoreThreshold,w=void 0===O?100:O,x=e.maxPullDownDistance,y=void 0===x?95:x,N=e.backgroundColor,E=e.className,_=void 0===E?"":E,k=Object(r.useRef)(null),S=Object(r.useRef)(null),C=Object(r.useRef)(null),L=Object(r.useRef)(null),P=!1,T=!1,R=!1,D=0,H=0;Object(r.useEffect)((function(){if(n&&S&&S.current)return S.current.addEventListener("touchstart",Y,{passive:!0}),S.current.addEventListener("mousedown",Y),S.current.addEventListener("touchmove",A,{passive:!1}),S.current.addEventListener("mousemove",A),window.addEventListener("scroll",M),S.current.addEventListener("touchend",F),S.current.addEventListener("mouseup",F),document.body.addEventListener("mouseleave",F),function(){n&&S&&S.current&&(S.current.removeEventListener("touchstart",Y),S.current.removeEventListener("mousedown",Y),S.current.removeEventListener("touchmove",A),S.current.removeEventListener("mousemove",A),window.removeEventListener("scroll",M),S.current.removeEventListener("touchend",F),S.current.removeEventListener("mouseup",F),document.body.removeEventListener("mouseleave",F))}}),[f,n,l,g,y,i,w]),Object(r.useEffect)((function(){var e;(null===(e=k)||void 0===e?void 0:e.current)&&(k.current.classList.contains("ptr--fetch-more-treshold-breached")||i&&B()<w&&v&&(k.current.classList.add("ptr--fetch-more-treshold-breached"),T=!0,v().then(U).catch(U)))}),[i,f]);var B=function(){if(!S||!S.current)return-1;var e=window.scrollY;return S.current.scrollHeight-e-window.innerHeight},U=function(){requestAnimationFrame((function(){S.current&&(S.current.style.overflowX="hidden",S.current.style.overflowY="auto",S.current.style.transform="translate(0px, 0px)"),C.current&&(C.current.style.opacity="0"),k.current&&(k.current.classList.remove("ptr--pull-down-treshold-breached"),k.current.classList.remove("ptr--dragging"),k.current.classList.remove("ptr--fetch-more-treshold-breached")),P&&(P=!1),T&&(T=!1)}))},Y=function(e){R=!1,e instanceof MouseEvent&&(D=e.pageY),window.TouchEvent&&e instanceof TouchEvent&&(D=e.touches[0].pageY),H=D,"touchstart"===e.type&&o(e.target,a.UP)||S.current.getBoundingClientRect().top<0||(R=!0)},A=function(e){R&&(H=window.TouchEvent&&e instanceof TouchEvent?e.touches[0].pageY:e.pageY,k.current.classList.add("ptr--dragging"),H<D?R=!1:(H-D>=g&&(R=!0,P=!0,k.current.classList.remove("ptr--dragging"),k.current.classList.add("ptr--pull-down-treshold-breached")),H-D>y||(C.current.style.opacity=((H-D)/65).toString(),S.current.style.overflow="visible",S.current.style.transform="translate(0px, "+(H-D)+"px)",C.current.style.visibility="visible")))},M=function(e){T||i&&B()<w&&v&&(T=!0,k.current.classList.add("ptr--fetch-more-treshold-breached"),v().then(U).catch(U))},F=function(){if(R=!1,D=0,H=0,!P)return C.current&&(C.current.style.visibility="hidden"),void U();S.current&&(S.current.style.overflow="visible",S.current.style.transform="translate(0px, "+g+"px)"),l().then(U).catch(U)};return s.a.createElement("div",{className:"ptr "+_,style:{backgroundColor:N},ref:k},s.a.createElement("div",{className:"ptr__pull-down",ref:C},s.a.createElement("div",{className:"ptr__loader ptr__pull-down--loading"},m),s.a.createElement("div",{className:"ptr__pull-down--pull-more"},h)),s.a.createElement("div",{className:"ptr__children",ref:S},f,s.a.createElement("div",{className:"ptr__fetch-more",ref:L},s.a.createElement("div",{className:"ptr__loader ptr__fetch-more--loading"},m))))},b=n(32),m=n(163),p=n(588),h=n(581),f=n(174),j=n(572),g=n(18),O=n(19),w=n(566),x=n(53),y=n(54),N=(n(698),n(4)),E=function(e){var t=e.coordinateSHA256,n=g.useDispatch(),a=g.useSelector(g.selectSingleCoordinate(t)),r=g.useSelector((function(e){var t={username:"",message:"",publicKey:null},n=a.inbound?a.fromGunPub:a.toGunPub,r=g.selectUser(n)(e);switch(t.publicKey=n,t.username=r.displayName,a.type){case"chainTx":t.username="On-Chain";break;case"contentReveal":if(t.message="Bought Post",a.metadata){var s=O.j(a.metadata);if(s){var c=a.toGunPub,i=function(){if(a.inbound)return s.ackInfo;var e=s.response;return e&&e.ackInfo}(),o=g.selectSinglePost(c,i)(e);if(o){var l=Object.values(o.contentItems).filter((function(e){return"text/paragraph"===e.type})).map((function(e){return e.text})).join(" ");l.length>=18?t.message='Bought "'.concat(l.slice(0,18),'..."'):t.message='Bought "'.concat(l,'"')}}}break;case"invoice":a.inbound?t.message="Sent you money":(O.e.warn("Outbound invoice??"),t.message="You sent money");break;case"other":t.message="Other";break;case"payment":a.inbound?(O.e.warn("Inbound payment??"),t.message="Payment Received"):t.message="Payment Sent";break;case"product":t.message="Product";break;case"service":t.message="Service";break;case"spontaneousPayment":t.message=a.inbound?"Payment Received":"Payment Sent";break;case"streamSeed":t.message="Seed Service";break;case"tip":t.message=a.inbound?"You were Tipped":"You Tipped";break;case"torrentSeed":t.message="Seed Service";break;default:t.message="Unknown type of coordinate: ".concat(a.type)}return t})),c=r.username,i=r.message,o=r.publicKey;s.a.useEffect((function(){return o?n(Object(x.b)(o)):O.a}),[n,o]),s.a.useEffect((function(){if(o){var e=n(Object(y.g)(o));return function(){e.then((function(e){return e.off()}))}}return O.a}),[n,o]);var l=g.useSelector((function(e){var t;return null!==(t=e.wallet.USDRate)&&void 0!==t?t:"0"})),d=a.amount.toString().replace(/,/g,""),u=a.inbound?"+":"-",v=Object(p.b)(Object(p.a)(d,l).toFixed(2));return Object(N.jsxs)("div",{className:"transaction-container","data-v-2d31f9e7":"",children:[Object(N.jsxs)("div",{className:"transaction-author-container","data-v-2d31f9e7":"",children:[Object(N.jsx)("div",{className:"transaction-avatar","data-v-2d31f9e7":"",children:o&&Object(N.jsx)(w.a,{height:60,publicKey:o,"data-v-2d31f9e7":""})}),Object(N.jsx)("div",{className:"transaction-type","data-v-2d31f9e7":""}),Object(N.jsxs)("div",{className:"transaction-author-details","data-v-2d31f9e7":"",children:[Object(N.jsx)("p",{className:"transaction-author-username","data-v-2d31f9e7":"",children:c}),Object(N.jsx)("p",{className:"transaction-author-text","data-v-2d31f9e7":"",children:i})]})]}),Object(N.jsxs)("div",{className:"transaction-value-container","data-v-2d31f9e7":"",children:[Object(N.jsx)("p",{className:"transaction-timestamp","data-v-2d31f9e7":"",children:O.c(a.timestamp)||"unknown"}),Object(N.jsxs)("p",{className:"transaction-value-btc","data-v-2d31f9e7":"",children:[u," ",d.replace(u,"")]}),Object(N.jsxs)("p",{className:"transaction-value-usd","data-v-2d31f9e7":"",children:[v," USD"]})]})]})},_=(n(699),function(){var e=g.useDispatch(),t=g.useSelector((function(e){var t;return null!==(t=e.wallet.totalBalance)&&void 0!==t?t:"0"})),n=g.useSelector((function(e){var t;return null!==(t=e.wallet.USDRate)&&void 0!==t?t:"0"})),a=g.useSelector(g.selectAllCoordinatesNewestToOldest);Object(r.useEffect)((function(){Object(b.j)()(e),Object(b.h)()(e),Object(b.j)()(e),Object(b.i)()(e),Object(b.b)()(e)}),[e]),Object(r.useEffect)((function(){return e(Object(m.c)())}),[e]);var s=Object(r.useMemo)((function(){return Object(p.b)(Object(p.a)(t,n).toFixed(2))}),[n,t]),i=Object(r.useMemo)((function(){return Object(p.b)(t)}),[t]);return Object(N.jsxs)("div",{className:"page-container overview-page","data-v-8dd0b217":"",children:[Object(N.jsxs)("div",{className:"overview-header","data-v-8dd0b217":"",children:[Object(N.jsx)(j.a,{absolute:!0,pageTitle:void 0,"data-v-8dd0b217":""}),Object(N.jsxs)("div",{className:"overview-balance-container","data-v-8dd0b217":"",children:[Object(N.jsxs)("p",{className:"overview-balance-btc","data-v-8dd0b217":"",children:[i," ",Object(N.jsx)("span",{className:"overview-balance-unit","data-v-8dd0b217":"",children:"Sats"})]}),Object(N.jsxs)("p",{className:"overview-balance-usd","data-v-8dd0b217":"",children:[s," USD"]})]}),Object(N.jsxs)("div",{className:"overview-actions","data-v-8dd0b217":"",children:[Object(N.jsx)(c.b,{to:"/send",className:"overview-action overview-action-send","data-v-8dd0b217":"",children:Object(N.jsx)("p",{className:"overview-action-text","data-v-8dd0b217":"",children:"Send"})}),Object(N.jsx)(c.b,{to:"/request",className:"overview-action overview-action-request","data-v-8dd0b217":"",children:Object(N.jsx)("p",{className:"overview-action-text","data-v-8dd0b217":"",children:"Request"})})]})]}),Object(N.jsxs)("div",{className:"recent-activity-container","data-v-8dd0b217":"",children:[Object(N.jsx)("p",{className:"recent-activity-title","data-v-8dd0b217":"",children:"Recent Activity"}),Object(N.jsx)(v,{className:"recent-activity-entries",pullingContent:Object(N.jsxs)("div",{className:"pull-refresh-text","data-v-8dd0b217":"",children:[Object(N.jsx)("i",{className:"fas fa-arrow-down","data-v-8dd0b217":""})," Pull down to refresh"," ",Object(N.jsx)("i",{className:"fas fa-arrow-down","data-v-8dd0b217":""})]}),refreshingContent:Object(N.jsx)(f.a,{small:!0,text:"","data-v-8dd0b217":""}),pullDownThreshold:75,onRefresh:function(){return Object(b.i)()(e)},"data-v-8dd0b217":"",children:Object(N.jsx)(N.Fragment,{children:a.map((function(e){return Object(N.jsx)(E,{coordinateSHA256:e.coordinateSHA256,"data-v-8dd0b217":""},e.coordinateSHA256)}))})})]}),Object(N.jsx)(h.a,{"data-v-8dd0b217":""})]})})}}]);
//# sourceMappingURL=28.02c7cb6d.chunk.js.map