(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[15],{609:function(e,t,a){"use strict";var n=a(1),c=a(88),r=a.n(c),o=a(7),s=a(183),i=(a(614),a(4)),l=function(e){var t=e.children,a=void 0===t?null:t,n=e.style,c=void 0===n?{}:n,o=e.contentClass,s=void 0===o?"":o;return Object(i.jsx)("div",{className:r()("content",s),style:c,"data-v-c7a0c3c4":"",children:a})},u=(a(615),function(e){var t=e.title,a=void 0===t?"":t,n=e.toggleModal,c=void 0===n?o.b:n,r=e.forceRenderTitleBar,s=void 0!==r&&r,l=e.hideXBtn,u=void 0!==l&&l;return a||s?Object(i.jsxs)("div",{className:"head","data-v-66206758":"",children:[Object(i.jsx)("p",{className:"head-title","data-v-66206758":"",children:a}),!u&&Object(i.jsx)("div",{className:"head-close",onClick:c,"data-v-66206758":"",children:Object(i.jsx)("i",{className:"fas fa-times","data-v-66206758":""})})]}):null}),d=(a(616),{borderRadius:"15px"});t.a=function(e){var t=e.modalOpen,a=void 0!==t&&t,c=e.toggleModal,b=e.modalTitle,v=void 0===b?"":b,f=e.children,j=e.contentStyle,p=void 0===j?o.c:j,m=e.disableBackdropClose,O=void 0!==m&&m,h=e.forceRenderTitleBar,x=void 0!==h&&h,g=e.hideXBtn,k=void 0!==g&&g,N=e.noFullWidth,y=void 0!==N&&N,C=e.blueBtn,S=void 0===C?"":C,w=e.disableBlueBtn,B=void 0!==w&&w,U=e.onClickBlueBtn,M=void 0===U?o.b:U,I=e.redBtn,D=void 0===I?"":I,R=e.disableRedBtn,T=void 0!==R&&R,P=e.onClickRedBtn,L=void 0===P?o.b:P,K=e.contentClass,E=void 0===K?"":K,F=e.error,z=void 0===F?"":F,A=e.textIfLoading,q=void 0===A?"":A,X=Object(n.useCallback)((function(){c()}),[c]),W=Object(n.useCallback)((function(){O||c()}),[O,c]);return Object(i.jsxs)("div",{className:r()({modal:!0,open:a}),"data-v-510ca6a4":"",children:[Object(i.jsx)("div",{className:"backdrop",onClick:W,"data-v-510ca6a4":""}),Object(i.jsxs)("div",{className:r()({container:!0,"container-no-full-width":y}),"data-v-510ca6a4":"",children:[q&&Object(i.jsx)(s.a,{overlay:!0,style:d,text:q,"data-v-510ca6a4":""}),Object(i.jsx)(u,{title:v,toggleModal:X,forceRenderTitleBar:x,hideXBtn:k,"data-v-510ca6a4":""}),z&&Object(i.jsx)("div",{className:"form-error form-error-margin","data-v-510ca6a4":"",children:z}),Object(i.jsx)(l,{style:p,contentClass:E,"data-v-510ca6a4":"",children:"string"===typeof f?Object(i.jsx)("p",{className:"text-align-center","data-v-510ca6a4":"",children:f}):f}),Object(i.jsxs)("div",{className:"color-buttons","data-v-510ca6a4":"",children:[S&&Object(i.jsx)("button",{disabled:B,className:r()("color-btn","blue-btn"),onClick:M,"data-v-510ca6a4":"",children:S}),D&&Object(i.jsx)("button",{disabled:T,className:r()("color-btn","red-btn"),onClick:L,"data-v-510ca6a4":"",children:D})]})]})]})}},611:function(e,t,a){"use strict";var n=a(48),c=(a(1),a(88)),r=a.n(c),o=a(7),s=(a(617),a(4));t.a=function(e){var t=e.label,a=void 0===t?"":t,c=e.name,i=void 0===c?"":c,l=e.onChange,u=e.inputAction,d=void 0===u?o.b:u,b=e.actionIcon,v=void 0===b?"":b,f=e.value,j=e.inputMode,p=void 0===j?"text":j,m=e.type,O=void 0===m?"text":m,h=e.element,x=void 0===h?"input":h,g=e.small,k=void 0!==g&&g,N=e.disabled,y=void 0!==N&&N;return Object(s.jsxs)("div",{className:r()({group:!0,"group-disabled":y,"group-small":k}),"data-v-5bcbfe9e":"",children:[a?Object(s.jsx)("p",{className:"group-label","data-v-5bcbfe9e":"",children:a}):null,Object(s.jsxs)("div",{className:r()({"group-input-container":!0,"group-input-textarea-container":"textarea"===x}),"data-v-5bcbfe9e":"",children:["textarea"===x?Object(s.jsx)("textarea",{className:"group-input group-input-textarea",name:i,onChange:l,inputMode:p,value:f,disabled:y,"data-v-5bcbfe9e":""}):Object(s.jsx)("input",{className:"group-input",type:O,name:i,onChange:l,inputMode:p,value:f,disabled:y,"data-v-5bcbfe9e":""}),d&&v?Object(s.jsx)("div",{className:"group-input-action",onClick:d,"data-v-5bcbfe9e":"",children:Object(s.jsx)("i",{className:r()(Object(n.a)({"group-input-action-icon":!0,fas:!0},v,!0)),onClick:d,"data-v-5bcbfe9e":""})}):null]})]})}},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},623:function(e,t,a){"use strict";var n=a(59),c=a(18),r=a(4);t.a=function(){return Object(c.useSelector)((function(e){return e.auth.authenticated}))?Object(r.jsxs)("div",{className:"bottom-nav-container",children:[Object(r.jsx)(n.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(r.jsx)(n.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(r.jsx)(n.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(r.jsx)(n.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(r.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]}):null}},624:function(e,t,a){"use strict";var n=a(13),c=a(1),r=a(88),o=a.n(r),s=(a(625),a(4));t.a=function(e){var t=e.label,a=void 0===t?null:t,r=e.icon,i=void 0===r?null:r,l=e.iconURL,u=void 0===l?null:l,d=e.onClick,b=void 0===d?void 0:d,v=e.nestedMode,f=void 0!==v&&v,j=e.large,p=void 0!==j&&j,m=e.small,O=void 0!==m&&m,h=e.relative,x=void 0!==h&&h,g=e.children,k=void 0===g?null:g,N=e.style,y=void 0===N?{}:N,C=Object(c.useState)(!1),S=Object(n.a)(C,2),w=S[0],B=S[1],U=Object(c.useCallback)((function(){f&&B(!w)}),[w,f]),M=Object(c.useMemo)((function(){return u?Object(s.jsx)("img",{src:u,className:"add-btn-icon",alt:"","data-v-c04fef58":""}):Object(s.jsx)("i",{className:"fas fa-".concat(null!==i&&void 0!==i?i:"plus"),"data-v-c04fef58":""})}),[i,u]),I=Object(c.useMemo)((function(){return a?Object(s.jsx)("p",{className:"add-btn-label","data-v-c04fef58":"",children:a}):null}),[a]);return Object(s.jsxs)("div",{className:o()({"add-btn-container":!0,"add-btn-round-container":!a,"add-btn-large":p,"add-btn-small":O}),"data-v-c04fef58":"",children:[Object(s.jsxs)("div",{className:o()({"add-btn":!0,"add-btn-round":!a,"add-btn-extended":!!a,"add-btn-relative":x,"add-btn-open":w,"add-btn-nested":f}),onClick:null!==b&&void 0!==b?b:U,style:y,"data-v-c04fef58":"",children:[M,I]}),k?Object(s.jsx)("div",{className:o()({"add-btn-options":!0,"add-btn-options-open":w}),"data-v-c04fef58":"",children:k}):null]})}},625:function(e,t,a){},631:function(e,t,a){"use strict";a(647);var n=a(4);t.a=function(e){var t=e.text,a=void 0===t?"Submit":t,c=e.onClick;return Object(n.jsx)("div",{className:"submit-btn",onClick:c,"data-v-0d7c294e":"",children:Object(n.jsx)("p",{"data-v-0d7c294e":"",children:a})})}},638:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(3),c=a.n(n),r=a(5),o=a(0),s=a(13),i=a(23),l=a(676),u=a.n(l),d=function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u.a._init){e.next=4;break}return e.next=4,new Promise((function(e,t){u.a.init("ShockWalletStore").then((function(){return console.log("File cache initialized!"),u.a.persist()})).then((function(a){a.persistent?e(a):t(a)}))}));case 4:return e.next=6,u.a.load(t);case 6:return a=e.sent,e.abrupt("return",a.createURL());case 10:return e.prev=10,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t){var a=document.querySelectorAll(t);return a&&a.length&&a.forEach((function(t){t.src||(t.src=e,t.muted=!0,t.autoplay=!1)})),!!(null===a||void 0===a?void 0:a.length)},v=function(e,t){return u.a.save(e,t)},f=function(e){var t=Promise.resolve();return e.forEach((function(e){t=t.then((function(){return e()}))})),t},j={"video/embedded":{formats:["mp4","webm"],element:"video",options:{autoplay:!1,muted:!0}},"image/embedded":{formats:["jpg","png","webp","jpeg"],element:"img",options:{}}},p=(Object.values(j).reduce((function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t.formats))}),[]),function(e){var t,a;if(!e)return null;var n=null===(t=e.name)||void 0===t||null===(a=t.split("."))||void 0===a?void 0:a.slice(-1)[0],c=Object.entries(j).filter((function(e){var t=Object(s.a)(e,2);t[0];return t[1].formats.includes(n)})),r=Object(s.a)(c,1)[0];if(r){var i=Object(s.a)(r,2),l=i[0],u=i[1];return Object(o.a)({name:l},u)}return null}),m=null,O=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=5;break}return e.next=3,Promise.all([a.e(13),a.e(21)]).then(a.t.bind(null,907,7));case 3:t=e.sent,m=new t.default;case 5:return e.abrupt("return",m);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){var t,a,n,c=e.thumbnailFile,r=e.fileType,o=e.item,s=p(c),i="".concat(null!==(t=null===s||void 0===s?void 0:s.element)&&void 0!==t?t:"img",'[data-torrent="').concat(o.magnetURI,'"]'),l='.dynamic-thumbnail[data-torrent="'.concat(o.magnetURI,'"]');c||"video"!==r.element||(null===(a=document.querySelector(i))||void 0===a||a.classList.add("hidden"),null===(n=document.querySelector(l))||void 0===n||n.classList.remove("hidden"))},x=function(e){var t=e.id,a=e.key;return function(e){return"".concat(t,"-").concat(a,"-").concat(e.name)}},g=function(e){var t=e.file,a=e.type,n=e.torrentMode,c=e.torrent,r=a.element,o="".concat(r,'[data-torrent="').concat(c.magnetURI,'"]'),i=document.querySelectorAll(o);console.log("Torrent Elements:",i),i.forEach((function(e){if(!e.classList.contains("hidden")){var r=decodeURIComponent(c.magnetURI.replace(/.*(ws=)/gi,"")),o=a.formats.filter((function(e){return r.toLowerCase().endsWith(".".concat(e.toLowerCase()))})),i=Object(s.a)(o,1)[0];!n&&i?e.setAttribute("src",r):t.renderTo(e,a.options)}}))},k=function(e){var t=e.thumbnailFileNames,a=e.getCacheFileName,n=e.torrentMode;return function(){var e=Object(r.a)(c.a.mark((function e(r){var o,s,i,l,u,v,f,j,m,O,x,k,N;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.fileName,i=r.thumbnails,l=r.item,u=r.fileType,v=s.split(".").slice(0,-1).join("."),f="".concat(v,"-thumb"),j=t.indexOf(f),m=i[j],O=m?p(m):null,x="".concat(null!==(o=null===O||void 0===O?void 0:O.element)&&void 0!==o?o:"img",'[data-torrent="').concat(l.magnetURI,'"]'),"video"!==u.element||!m){e.next=17;break}return e.next=10,d(a(m));case 10:if(N=e.sent,null===(k=document.querySelector(x))||void 0===k||k.classList.remove("hidden"),!N){e.next=15;break}return b(N,x),e.abrupt("return");case 15:return g({file:m,type:O,torrentMode:n,torrent:l}),e.abrupt("return");case 17:if("video"!==u.element||m){e.next=20;break}return h({thumbnailFile:m,fileType:u,item:l}),e.abrupt("return");case 20:return e.abrupt("return",{thumbnailFile:m});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a,n,o,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:[],a=!(l.length>1&&void 0!==l[1])||l[1],e.next=4,Promise.all(t.map(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,o,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentItems,o=t.id,i=Object.entries(n).filter((function(e){var t=Object(s.a)(e,2)[1];return j[t.type]}))){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,O();case 6:return l=e.sent,e.abrupt("return",i.map((function(e){var t=Object(s.a)(e,2),n=t[0],i=t[1];return function(){return new Promise((function(e){var t=x({id:o,key:n});l.get(i.magnetURI)?e(!0):l.add(i.magnetURI,function(){var n=Object(r.a)(c.a.mark((function n(o){var s,u,f,m;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(!0),s=o.files.filter((function(e){var t,a,n=null===(t=e.name)||void 0===t||null===(a=t.split("."))||void 0===a?void 0:a.slice(-1)[0],c=Object.values(j).filter((function(e){return e.formats.includes(n)}))[0];return!!c&&c.formats.includes(n)})),u=s.filter((function(e){return e.name.match(/-thumb\.([\w\d]){2,4}$/gi)})),f=u.map((function(e){return e.name.replace(/\.([\w\d]){2,4}$/gi,"")})),m=k({getCacheFileName:t,thumbnailFileNames:f,torrentMode:a}),s.map(function(){var e=Object(r.a)(c.a.mark((function e(n){var r,o,s,v,j,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.includes(n.name)){e.next=2;break}return e.abrupt("return");case 2:if(r=p(n)){e.next=5;break}return e.abrupt("return");case 5:return o=t(n),s=r.element,v="".concat(s,'[data-torrent="').concat(i.magnetURI,'"]'),e.next=10,d(o);case 10:if(j=e.sent,m({fileName:n.name,thumbnails:u,fileType:r,item:i}),!j){e.next=17;break}return(O=l.get(i.magnetURI))&&O.destroy(),b(j,v),e.abrupt("return");case 17:g({file:n,type:r,torrentMode:a,torrent:i});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.on("done",(function(){s.map((function(e){var a=p(e),n=t(e),o=a.element,s="".concat(o,'.torrent-video[data-torrent="').concat(i.magnetURI,'"]');e.getBlob(function(){var e=Object(r.a)(c.a.mark((function e(t,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return console.warn(t),e.abrupt("return");case 3:return console.log("Caching loaded file...",n,a),e.next=6,v(n,a);case 6:if("false"!==(null===(r=document.querySelector(s))||void 0===r?void 0:r.dataset.played)||(null===r||void 0===r?void 0:r.getAttribute("src"))){e.next=12;break}return e.next=10,d(n);case 10:o=e.sent,b(o,s);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}))}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}))}})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,o=n.reduce((function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t))}),[]),f(o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},647:function(e,t,a){},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=[{user:"tcUUzRkyzXYhIZQbmopiCLREyZ_kQJqQ-C4XesecOm4.GX1Dv-eGcfKuOPobBK9Q-Sc-o697XgVCQzOCfqfimIo",status:"ok",private:!1},{user:"CDfURSDaABun7sbzxt1LvUrTrtgLza_3NrCKrmUWIYU.Ssr3U9JN6cpFI9BZLL-1HLM2vS0ECEt-H4iUXvhkGzU",status:"ok",private:!1},{user:"Fd_7lUhwH7JoHbg6UKnGO9rYsZBOuR1KSbpZz8-Sbcw.fUu68TPuBWl83LBKgAbuiy0r1hMqnUevzyEgqPYu0B4",status:"ok",private:!1}]},677:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(5),o=a(13),s=a(1),i=a(38),l=a(18),u=a(609),d=a(631),b=a(611),v=a(36),f=a(183),j=(a(678),a(4));t.a=function(e){var t=e.tipData,a=e.toggleOpen,n=Object(i.b)(),p=Object(l.useSelector)((function(e){return e.auth.authenticated})),m=Object(s.useState)(""),O=Object(o.a)(m,2),h=O[0],x=O[1],g=Object(s.useState)(!1),k=Object(o.a)(g,2),N=k[0],y=k[1],C=Object(s.useState)(""),S=Object(o.a)(C,2),w=S[0],B=S[1],U=Object(s.useState)(!1),M=Object(o.a)(U,2),I=M[0],D=M[1],R=Object(s.useCallback)((function(e){"amount"===e.target.name&&B(e.target.value)}),[]),T=Object(s.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(a){var r,o,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!N){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,y(!0),e.next=7,n(Object(v.i)({amount:w,publicKey:t.publicKey,postId:t.postID}));case 7:D(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),t&&(s=e.t0.message,i=null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errorMessage,x(null!==i&&void 0!==i?i:s));case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[n,w,N,t]);return Object(s.useEffect)((function(){t||(y(!1),x(null),D(!1))}),[t]),Object(j.jsx)(u.a,{toggleModal:a,modalOpen:t&&p,modalTitle:"Send Tip",noFullWidth:!0,"data-v-068a8a92":"",children:I?Object(j.jsxs)("div",{className:"tip-modal-success m-1","data-v-068a8a92":"",children:[Object(j.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-068a8a92":""}),Object(j.jsx)("p",{className:"tip-success-title","data-v-068a8a92":"",children:"Post tipped successfully!"}),Object(j.jsx)("p",{className:"tip-success-desc","data-v-068a8a92":""})]}):Object(j.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:T,"data-v-068a8a92":"",children:[h?Object(j.jsx)("div",{className:"form-error","data-v-068a8a92":"",children:h}):null,N?Object(j.jsx)(f.a,{overlay:!0,text:"Sending Tip...","data-v-068a8a92":""}):null,Object(j.jsx)("p",{className:"tip-modal-desc m-1","data-v-068a8a92":"",children:"Please specify the amount of sats you'd like to tip this user with below."}),Object(j.jsx)(b.a,{name:"amount",onChange:R,value:w,inputMode:"decimal",small:!0,"data-v-068a8a92":""}),Object(j.jsx)(d.a,{text:"SEND TIP",onClick:T,"data-v-068a8a92":""})]})})}},678:function(e,t,a){},679:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(5),o=a(13),s=a(1),i=a(609),l=a(183),u=(a(680),a(7)),d=a(4);t.a=function(e){var t=e.shareData,a=e.toggleOpen,n=Object(s.useState)(""),b=Object(o.a)(n,2),v=b[0],f=b[1],j=Object(s.useState)(!1),p=Object(o.a)(j,2),m=p[0],O=p[1],h=Object(s.useState)(!1),x=Object(o.a)(h,2),g=x[0],k=x[1],N=Object(s.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(a){var n,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!m){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,O(!0),n=t.postID,r=t.publicKey,o={originalAuthor:r,shareDate:Date.now()},e.next=9,u.d.post("/api/gun/put",{path:"$user>sharedPosts>".concat(n),value:o});case 9:s=e.sent,s.data.ok?k(!0):f("Share operation failed"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:return e.prev=17,O(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[t,m]),y=Object(s.useCallback)((function(){a(null)}),[a]);return Object(s.useEffect)((function(){t||(O(!1),f(null),k(!1))}),[t]),Object(d.jsx)(i.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Share post",blueBtn:m||v||g?(g||v)&&"OK":"SHARE",disableBlueBtn:m,onClickBlueBtn:g||v?y:N,hideXBtn:g,noFullWidth:!0,"data-v-e543baa4":"",children:g?Object(d.jsxs)("div",{className:"tip-modal-success m-1","data-v-e543baa4":"",children:[Object(d.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-e543baa4":""}),Object(d.jsx)("p",{className:"tip-success-title","data-v-e543baa4":"",children:"Post shared successfully!"})]}):Object(d.jsxs)("form",{className:"modal-form tip-form m-1",onSubmit:N,"data-v-e543baa4":"",children:[v?Object(d.jsx)("p",{className:"form-error","data-v-e543baa4":"",children:v}):null,v&&Object(d.jsx)("p",{className:"tip-modal-desc m-1","data-v-e543baa4":"",children:"You can try again."}),m?Object(d.jsx)(l.a,{text:"Sharing...","data-v-e543baa4":""}):null,!v&&!m&&Object(d.jsx)("p",{className:"tip-modal-desc m-1","data-v-e543baa4":"",children:"This post will be shared on your profile"})]})})}},680:function(e,t,a){},681:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(5),o=a(13),s=a(1),i=a(38),l=a(609),u=a(631),d=a(30),b=a(183),v=(a(682),a(4));t.a=function(e){var t=e.unlockData,a=e.toggleOpen,n=Object(i.b)(),f=Object(s.useState)(""),j=Object(o.a)(f,2),p=j[0],m=j[1],O=Object(s.useState)(!1),h=Object(o.a)(O,2),x=h[0],g=h[1],k=Object(s.useState)(!1),N=Object(o.a)(k,2),y=N[0],C=N[1],S=Object(s.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(a){var r,o,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!x){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,g(!0),e.next=7,Object(d.o)(100,t.publicKey,t.postID)(n);case 7:C(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),t&&(s=e.t0.message,i=null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errorMessage,m(null!==i&&void 0!==i?i:s));case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[n,x,t]);return Object(s.useEffect)((function(){t||(g(!1),m(null),C(!1))}),[t]),Object(v.jsx)(l.a,{toggleModal:a,modalOpen:!!t,modalTitle:"Unlock content","data-v-94420b4d":"",children:y?Object(v.jsxs)("div",{className:"tip-modal-success","data-v-94420b4d":"",children:[Object(v.jsx)("i",{className:"tip-success-icon fas fa-check-circle","data-v-94420b4d":""}),Object(v.jsx)("p",{className:"tip-success-title","data-v-94420b4d":"",children:"Content unlocked successfully!"})]}):Object(v.jsxs)("form",{className:"modal-form tip-form",onSubmit:S,"data-v-94420b4d":"",children:[p?Object(v.jsx)("div",{className:"form-error","data-v-94420b4d":"",children:p}):null,x?Object(v.jsx)(b.a,{overlay:!0,text:"Sending Tip...","data-v-94420b4d":""}):null,Object(v.jsx)("p",{className:"tip-modal-desc","data-v-94420b4d":"",children:"100 sats will be sent to the owner of the post to unlock the content"}),Object(v.jsx)(u.a,{text:"UNLOCK",onClick:S,"data-v-94420b4d":""})]})})}},682:function(e,t,a){},683:function(e,t,a){"use strict";var n=a(0),c=a(1),r=a.n(c),o=a(58),s=a(18),i=a(183),l=(a(684),a(38)),u=a(4),d=r.a.lazy((function(){return Promise.all([a.e(1),a.e(24),a.e(40)]).then(a.bind(null,721))}));t.a=function(e){var t=e.toggleOpen,a=e.tipData,r=Object(l.b)(),b=Object(s.useSelector)((function(e){return e.auth.authenticated})),v=Object(c.useMemo)((function(){return Object(u.jsx)(i.a,{text:"Loading...",style:{margin:"40px 0"},"data-v-3ccae514":""})}),[]),f=Object(c.useCallback)((function(){r(Object(o.e)()),t()}),[r,t]);return!a||b?null:Object(u.jsxs)("div",{className:"modal-container","data-v-3ccae514":"",children:[Object(u.jsx)("div",{className:"modal-overlay",onClick:f,"data-v-3ccae514":""}),Object(u.jsx)("div",{className:"modal-content","data-v-3ccae514":"",children:Object(u.jsx)(c.Suspense,{fallback:v,"data-v-3ccae514":"",children:Object(u.jsx)(d,Object(n.a)(Object(n.a)({},e),{},{"data-v-3ccae514":""}))})})]})}},684:function(e,t,a){},766:function(e,t,a){},767:function(e,t,a){e.exports={followed:"Feed_followed__1ZWr5"}},902:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a(1),r=a.n(c),o=a(9),s=a(26),i=a(638),l=a(18),u=a(623),d=a(677),b=a(679),v=a(183),f=a(610),j=(a(766),a(681)),p=a(36),m=a(68),O=a(767),h=a.n(O),x=a(675),g=a(683),k=a(624),N=a(4),y=r.a.lazy((function(){return Promise.all([a.e(1),a.e(3),a.e(2),a.e(9)]).then(a.bind(null,632))})),C=r.a.lazy((function(){return Promise.all([a.e(1),a.e(3),a.e(2),a.e(29)]).then(a.bind(null,685))}));t.default=function(){var e=l.useDispatch(),t=Object(s.g)(),a=l.useSelector((function(e){return e.auth.authenticated})),r=l.useSelector(l.selectFollows),O=l.useSelector(l.selectAllPostsFromFollowedNewestToOldest),S=Object(c.useState)(null),w=Object(n.a)(S,2),B=w[0],U=w[1],M=Object(c.useState)(null),I=Object(n.a)(M,2),D=I[0],R=I[1],T=Object(c.useState)(null),P=Object(n.a)(T,2),L=P[0],K=P[1],E=Object(c.useState)(null),F=Object(n.a)(E,2),z=F[0],A=F[1],q=l.useSelector(l.selectSelfUser).publicKey,X=l.useSelector((function(e){return e.feed.reloadDone}));Object(c.useEffect)((function(){return e(Object(p.p)()),function(){e(Object(p.r)())}}),[e]),Object(c.useEffect)((function(){a||e(Object(p.h)(x.a))}),[a,e]);var W=Object(c.useCallback)((function(e){if(console.log(e),B||!e)return U(null),void A(null);U(e),A(e.publicKey)}),[B]),_=Object(c.useCallback)((function(e){console.log(e),!D&&e||R(null),R(e)}),[D]),Z=Object(c.useCallback)((function(e){console.log(e),!L&&e||K(null),K(e)}),[L]),H=Object(c.useCallback)((function(){t.push("/auth")}),[t]);return Object(c.useLayoutEffect)((function(){Object(i.a)(O.filter((function(e){return!o.o(e)})),!1)}),[O]),Object(c.useEffect)((function(){var t=r.map((function(t){var a=e(Object(m.b)(t.user)),n=e(Object(p.q)(t.user)),c=e(Object(p.n)(t.user));return function(){a(),n(),c()}}));return function(){t.map((function(e){return e()}))}}),[r,e]),Object(c.useEffect)((function(){O.length>0&&!X&&(e(Object(p.g)()),setTimeout((function(){t.go(0)}),3e3))}),[X,t,e,O.length]),Object(N.jsxs)("div",{className:"page-container feed-page","data-v-1f30ce39":"",children:[Object(N.jsxs)("div",{className:h.a.followed,"data-v-1f30ce39":"",children:[a&&Object(N.jsx)(f.a,{forceAddBtn:!0,height:60,publicKey:q,createsPost:!0,"data-v-1f30ce39":""}),null===r||void 0===r?void 0:r.map((function(e){return Object(N.jsx)(f.a,{height:60,nameAtBottom:!0,publicKey:e.user,"data-v-1f30ce39":""},e.user)}))]}),Object(N.jsxs)("div",{className:"tabs-holder","data-v-1f30ce39":"",children:[Object(N.jsx)("p",{className:"tab active","data-v-1f30ce39":"",children:"Feed"}),Object(N.jsx)("p",{className:"tab","data-v-1f30ce39":"",children:"Saved"}),Object(N.jsx)("p",{className:"tab","data-v-1f30ce39":"",children:"Videos"})]}),Object(N.jsxs)("div",{className:"posts-holder","data-v-1f30ce39":"",children:[0===O.length&&Object(N.jsx)(v.a,{text:"loading posts...","data-v-1f30ce39":""}),O.map((function(e){return o.o(e)?Object(N.jsx)(c.Suspense,{fallback:Object(N.jsx)(v.a,{"data-v-1f30ce39":""}),"data-v-1f30ce39":"",children:Object(N.jsx)(C,{openTipModal:W,openUnlockModal:_,openShareModal:Z,postID:e.originalPostID,sharerPublicKey:e.sharedBy,"data-v-1f30ce39":""})},e.shareID):Object(N.jsx)(c.Suspense,{fallback:Object(N.jsx)(v.a,{"data-v-1f30ce39":""}),"data-v-1f30ce39":"",children:Object(N.jsx)(y,{id:e.id,publicKey:e.authorId,openTipModal:W,openUnlockModal:_,openShareModal:Z,"data-v-1f30ce39":""})},e.id)}))]}),Object(N.jsx)(d.a,{tipData:B,toggleOpen:W,"data-v-1f30ce39":""}),Object(N.jsx)(g.a,{publicKey:z,tipData:B,toggleOpen:W,"data-v-1f30ce39":""}),Object(N.jsx)(j.a,{unlockData:D,toggleOpen:_,"data-v-1f30ce39":""}),Object(N.jsx)(b.a,{shareData:L,toggleOpen:Z,"data-v-1f30ce39":""}),!a&&Object(N.jsx)(k.a,{onClick:H,large:!0,icon:"user",label:"Create a Lightning Page","data-v-1f30ce39":""}),Object(N.jsx)(u.a,{"data-v-1f30ce39":""})]})}}}]);
//# sourceMappingURL=15.bca9a102.chunk.js.map