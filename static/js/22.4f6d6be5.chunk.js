(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[22],{593:function(e,t,n){"use strict";var a=n(0),c=n(84),r=n.n(c),i=n(8),s=(n(598),n(4)),o=function(e){var t=e.children,n=e.style;return Object(s.jsx)("div",{className:"content",style:n,"data-v-c32085ba":"",children:t})},l=(n(599),function(e){var t=e.title,n=void 0===t?"":t,a=e.toggleModal,c=void 0===a?i.b:a,r=e.forceRenderTitleBar,o=void 0!==r&&r,l=e.hideXBtn,d=void 0!==l&&l;return n||o?Object(s.jsxs)("div",{className:"head","data-v-c3a87749":"",children:[Object(s.jsx)("p",{className:"head-title","data-v-c3a87749":"",children:n}),!d&&Object(s.jsx)("div",{className:"head-close",onClick:c,"data-v-c3a87749":"",children:Object(s.jsx)("i",{className:"fas fa-times","data-v-c3a87749":""})})]}):null});n(600),t.a=function(e){var t=e.modalOpen,n=void 0!==t&&t,c=e.toggleModal,d=e.modalTitle,u=void 0===d?"":d,v=e.children,b=e.contentStyle,m=void 0===b?{}:b,h=e.disableBackdropClose,p=void 0!==h&&h,f=e.forceRenderTitleBar,j=void 0!==f&&f,g=e.hideXBtn,O=void 0!==g&&g,x=e.noFullWidth,w=void 0!==x&&x,y=e.blueBtn,N=void 0===y?"":y,k=e.disableBlueBtn,E=void 0!==k&&k,S=e.onClickBlueBtn,_=void 0===S?i.b:S,C=e.redBtn,B=void 0===C?"":C,L=e.disableRedBtn,T=void 0!==L&&L,P=e.onClickRedBtn,R=void 0===P?i.b:P,D=Object(a.useCallback)((function(){c()}),[c]),M=Object(a.useCallback)((function(){p||c()}),[p,c]);return Object(s.jsxs)("div",{className:r()({modal:!0,open:n}),"data-v-f18f7976":"",children:[Object(s.jsx)("div",{className:"backdrop",onClick:M,"data-v-f18f7976":""}),Object(s.jsxs)("div",{className:r()({container:!0,"container-no-full-width":w}),"data-v-f18f7976":"",children:[Object(s.jsx)(l,{title:u,toggleModal:D,forceRenderTitleBar:j,hideXBtn:O,"data-v-f18f7976":""}),Object(s.jsx)(o,{style:m,"data-v-f18f7976":"",children:v}),Object(s.jsxs)("div",{className:"color-buttons","data-v-f18f7976":"",children:[N&&Object(s.jsx)("button",{disabled:E,className:r()("color-btn","blue-btn"),onClick:_,"data-v-f18f7976":"",children:N}),B&&Object(s.jsx)("button",{disabled:T,className:r()("color-btn","red-btn"),onClick:R,"data-v-f18f7976":"",children:B})]})]})]})}},598:function(e,t,n){},599:function(e,t,n){},600:function(e,t,n){},603:function(e,t,n){"use strict";var a=n(0),c=n(84),r=n.n(c),i=(n(604),n(37)),s=n(8),o=n(87),l=n(594),d=n(20),u=n(4);t.a=function(e){var t=e.pageTitle,n=e.absolute,c=void 0!==n&&n,v=e.solid,b=void 0!==v&&v,m=e.enableBackButton,h=void 0!==m&&m,p=e.onHeight,f=void 0===p?s.b:p,j=Object(i.b)(),g=Object(a.useCallback)((function(){window.history.back()}),[]),O=Object(a.useCallback)((function(){j(Object(o.c)())}),[j]),x=Object(d.useSelector)((function(e){return e.node.publicKey})),w=Object(a.useCallback)((function(e){if(e)try{f(e.getBoundingClientRect().height)}catch(t){console.log("Error inside onHeight mechanism in MainNav:"),console.log(t)}}),[f]);return Object(u.jsxs)("div",{className:r()({"main-nav-container":!0,"main-nav-absolute":c,"main-nav-solid":b}),ref:w,"data-v-b3d4d828":"",children:[h?Object(u.jsx)("div",{className:"main-nav-back",onClick:g,"data-v-b3d4d828":"",children:Object(u.jsx)("i",{className:"icon icon-thin-back","data-v-b3d4d828":""})}):Object(u.jsx)(l.a,{height:40,publicKey:x,"data-v-b3d4d828":""}),Object(u.jsx)("p",{className:"main-nav-title unselectable","data-v-b3d4d828":"",children:t}),Object(u.jsxs)("div",{className:"main-nav-menu-btn",onClick:O,"data-v-b3d4d828":"",children:[Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-b3d4d828":""}),Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-b3d4d828":""}),Object(u.jsx)("div",{className:"main-nav-menu-dash","data-v-b3d4d828":""})]})]})}},604:function(e,t,n){},607:function(e,t,n){"use strict";var a=n(58),c=n(4);t.a=function(){return Object(c.jsxs)("div",{className:"bottom-nav-container",children:[Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/overview",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-wallet"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/chat",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-chat"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/profile",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-profile"})}),Object(c.jsx)(a.c,{className:"bottom-nav-btn",to:"/feed",activeClassName:"active-nav-btn",children:Object(c.jsx)("i",{className:"bottom-nav-btn-icon icon-thin-feed"})})]})}},612:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(17),c=n(188),r=n.n(c),i=/(\d+)(\d{3})/gi,s=1e8,o=function e(t){return i.test(t)?e(t.replace(i,"$1,$2")):t},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("."),n=Object(a.a)(t,2),c=n[0],r=n[1],i=o(c),s=r?"."+r:"";return i+s},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=r()(e).div(s).toString();return r()((null===t||void 0===t?void 0:t.toString())||"0").times(n)}},720:function(e,t,n){},721:function(e,t,n){},891:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var a,c=n(17),r=n(0),i=n.n(r),s=n(58);function o(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(t===a.DOWN)return e.scrollTop+e.clientHeight<e.scrollHeight;if(t===a.UP)return e.scrollTop>0;throw new Error("unsupported direction")}function l(e,t){return!!o(e,t)||null!=e.parentElement&&l(e.parentElement,t)}function d(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css","top"===n&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}!function(e){e[e.UP=-1]="UP",e[e.DOWN=1]="DOWN"}(a||(a={}));d(".lds-ellipsis {\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px; }\n\n.lds-ellipsis div {\n  position: absolute;\n  top: 27px;\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background: #363636;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\n\n.lds-ellipsis div:nth-child(1) {\n  left: 6px;\n  animation: lds-ellipsis1 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(2) {\n  left: 6px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(3) {\n  left: 26px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(4) {\n  left: 45px;\n  animation: lds-ellipsis3 0.6s infinite; }\n\n@keyframes lds-ellipsis1 {\n  0% {\n    transform: scale(0); }\n  100% {\n    transform: scale(1); } }\n\n@keyframes lds-ellipsis3 {\n  0% {\n    transform: scale(1); }\n  100% {\n    transform: scale(0); } }\n\n@keyframes lds-ellipsis2 {\n  0% {\n    transform: translate(0, 0); }\n  100% {\n    transform: translate(19px, 0); } }\n");var u=function(){return i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))},v=function(){return i.a.createElement("div",null,i.a.createElement("p",null,"\u21a7\xa0\xa0pull to refresh\xa0\xa0\u21a7"))};d(".ptr,\n.ptr__children {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  position: relative; }\n\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\n  display: block; }\n\n.ptr__fetch-more {\n  display: none; }\n\n/**\n  * Pull down transition \n  */\n.ptr__children,\n.ptr__pull-down {\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\n\n.ptr__pull-down {\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  right: 0;\n  top: 0;\n  visibility: hidden; }\n  .ptr__pull-down > div {\n    display: none; }\n\n.ptr--dragging {\n  /**\n    * Hide PullMore content is treshold breached\n    */\n  /**\n    * Otherwize, display content\n    */ }\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\n    display: none; }\n  .ptr--dragging .ptr__pull-down--pull-more {\n    display: block; }\n\n.ptr--pull-down-treshold-breached {\n  /**\n    * Force opacity to 1 is pull down trashold breached\n    */\n  /**\n    * And display loader\n    */ }\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\n    opacity: 1 !important; }\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\n    display: block; }\n\n.ptr__loader {\n  margin: 0 auto;\n  text-align: center; }\n");var b=function(e){var t=e.isPullable,n=void 0===t||t,c=e.canFetchMore,s=void 0!==c&&c,o=e.onRefresh,d=e.onFetchMore,b=e.refreshingContent,m=void 0===b?i.a.createElement(u,null):b,h=e.pullingContent,p=void 0===h?i.a.createElement(v,null):h,f=e.children,j=e.pullDownThreshold,g=void 0===j?67:j,O=e.fetchMoreThreshold,x=void 0===O?100:O,w=e.maxPullDownDistance,y=void 0===w?95:w,N=e.backgroundColor,k=e.className,E=void 0===k?"":k,S=Object(r.useRef)(null),_=Object(r.useRef)(null),C=Object(r.useRef)(null),B=Object(r.useRef)(null),L=!1,T=!1,P=!1,R=0,D=0;Object(r.useEffect)((function(){if(n&&_&&_.current)return _.current.addEventListener("touchstart",A,{passive:!0}),_.current.addEventListener("mousedown",A),_.current.addEventListener("touchmove",U,{passive:!1}),_.current.addEventListener("mousemove",U),window.addEventListener("scroll",F),_.current.addEventListener("touchend",Y),_.current.addEventListener("mouseup",Y),document.body.addEventListener("mouseleave",Y),function(){n&&_&&_.current&&(_.current.removeEventListener("touchstart",A),_.current.removeEventListener("mousedown",A),_.current.removeEventListener("touchmove",U),_.current.removeEventListener("mousemove",U),window.removeEventListener("scroll",F),_.current.removeEventListener("touchend",Y),_.current.removeEventListener("mouseup",Y),document.body.removeEventListener("mouseleave",Y))}}),[f,n,o,g,y,s,x]),Object(r.useEffect)((function(){var e;(null===(e=S)||void 0===e?void 0:e.current)&&(S.current.classList.contains("ptr--fetch-more-treshold-breached")||s&&M()<x&&d&&(S.current.classList.add("ptr--fetch-more-treshold-breached"),T=!0,d().then(H).catch(H)))}),[s,f]);var M=function(){if(!_||!_.current)return-1;var e=window.scrollY;return _.current.scrollHeight-e-window.innerHeight},H=function(){requestAnimationFrame((function(){_.current&&(_.current.style.overflowX="hidden",_.current.style.overflowY="auto",_.current.style.transform="translate(0px, 0px)"),C.current&&(C.current.style.opacity="0"),S.current&&(S.current.classList.remove("ptr--pull-down-treshold-breached"),S.current.classList.remove("ptr--dragging"),S.current.classList.remove("ptr--fetch-more-treshold-breached")),L&&(L=!1),T&&(T=!1)}))},A=function(e){P=!1,e instanceof MouseEvent&&(R=e.pageY),window.TouchEvent&&e instanceof TouchEvent&&(R=e.touches[0].pageY),D=R,"touchstart"===e.type&&l(e.target,a.UP)||_.current.getBoundingClientRect().top<0||(P=!0)},U=function(e){P&&(D=window.TouchEvent&&e instanceof TouchEvent?e.touches[0].pageY:e.pageY,S.current.classList.add("ptr--dragging"),D<R?P=!1:(D-R>=g&&(P=!0,L=!0,S.current.classList.remove("ptr--dragging"),S.current.classList.add("ptr--pull-down-treshold-breached")),D-R>y||(C.current.style.opacity=((D-R)/65).toString(),_.current.style.overflow="visible",_.current.style.transform="translate(0px, "+(D-R)+"px)",C.current.style.visibility="visible")))},F=function(e){T||s&&M()<x&&d&&(T=!0,S.current.classList.add("ptr--fetch-more-treshold-breached"),d().then(H).catch(H))},Y=function(){if(P=!1,R=0,D=0,!L)return C.current&&(C.current.style.visibility="hidden"),void H();_.current&&(_.current.style.overflow="visible",_.current.style.transform="translate(0px, "+g+"px)"),o().then(H).catch(H)};return i.a.createElement("div",{className:"ptr "+E,style:{backgroundColor:N},ref:S},i.a.createElement("div",{className:"ptr__pull-down",ref:C},i.a.createElement("div",{className:"ptr__loader ptr__pull-down--loading"},m),i.a.createElement("div",{className:"ptr__pull-down--pull-more"},p)),i.a.createElement("div",{className:"ptr__children",ref:_},f,i.a.createElement("div",{className:"ptr__fetch-more",ref:B},i.a.createElement("div",{className:"ptr__loader ptr__fetch-more--loading"},m))))},m=n(8),h=n(31),p=n(165),f=n(264),j=n(612),g=n(607),O=n(177),x=n(603),w=n(593),y=n(20),N=n(594),k=n(59),E=n(35),S=(n(720),n(4)),_=function(e){var t=e.coordinateSHA256,n=y.useDispatch(),a=y.useSelector(y.selectSingleCoordinate(t)),c=y.useSelector((function(e){var t={username:"",message:"",publicKey:null},n=a.inbound?a.fromGunPub:a.toGunPub,c=y.selectUser(n)(e);switch(t.publicKey=n,t.username=c.displayName,a.type){case"chainTx":t.username="On-Chain";break;case"contentReveal":if(t.message="Bought Post",a.metadata){var r=m.j(a.metadata);if(r){var i=a.toGunPub,s=function(){if(a.inbound)return r.ackInfo;var e=r.response;return e&&e.ackInfo}(),o=y.selectSinglePost(i,s)(e);if(o){var l,d=Object.values(null!==(l=o.contentItems)&&void 0!==l?l:{}).filter((function(e){return"text/paragraph"===e.type})).map((function(e){return e.text})).join(" ");d.length>=18?t.message='Bought "'.concat(d.slice(0,18),'..."'):t.message='Bought "'.concat(d,'"')}}}break;case"invoice":a.inbound?t.message="Sent you money":(m.e.warn("Outbound invoice??"),t.message="You sent money");break;case"other":t.message="Other";break;case"payment":a.inbound?(m.e.warn("Inbound payment??"),t.message="Payment Received"):t.message="Payment Sent";break;case"product":t.message="Product";break;case"service":t.message="Service";break;case"spontaneousPayment":t.message=a.inbound?"Payment Received":"Payment Sent";break;case"streamSeed":t.message="Seed Service";break;case"tip":t.message=a.inbound?"You were Tipped":"You Tipped";break;case"torrentSeed":t.message="Seed Service";break;default:t.message="Unknown type of coordinate: ".concat(a.type)}return t})),r=c.username,s=c.message,o=c.publicKey;i.a.useEffect((function(){return o?n(Object(k.b)(o)):m.b}),[n,o]),i.a.useEffect((function(){return o?n(Object(E.q)(o)):m.b}),[n,o]);var l=y.useSelector((function(e){var t;return null!==(t=e.wallet.USDRate)&&void 0!==t?t:"0"})),d=a.amount.toString().replace(/,/g,""),u=a.inbound?"+":"-",v=Object(j.b)(Object(j.a)(d,l).toFixed(2));return Object(S.jsxs)("div",{className:"transaction-container","data-v-eebb5e2f":"",children:[Object(S.jsxs)("div",{className:"transaction-author-container","data-v-eebb5e2f":"",children:[Object(S.jsx)("div",{className:"transaction-avatar","data-v-eebb5e2f":"",children:o&&Object(S.jsx)(N.a,{height:60,publicKey:o,"data-v-eebb5e2f":""})}),Object(S.jsx)("div",{className:"transaction-type","data-v-eebb5e2f":""}),Object(S.jsxs)("div",{className:"transaction-author-details","data-v-eebb5e2f":"",children:[Object(S.jsx)("p",{className:"transaction-author-username","data-v-eebb5e2f":"",children:r}),Object(S.jsx)("p",{className:"transaction-author-text","data-v-eebb5e2f":"",children:s})]})]}),Object(S.jsxs)("div",{className:"transaction-value-container","data-v-eebb5e2f":"",children:[Object(S.jsx)("p",{className:"transaction-timestamp","data-v-eebb5e2f":"",children:m.d(a.timestamp)||"unknown"}),Object(S.jsxs)("p",{className:"transaction-value-btc","data-v-eebb5e2f":"",children:[u," ",d.replace(u,"")]}),Object(S.jsxs)("p",{className:"transaction-value-usd","data-v-eebb5e2f":"",children:[v," USD"]})]})]})},C=(n(721),{paddingLeft:24,paddingRight:24,paddingTop:24}),B=["If you bought a node and didn't get a channel please email us or contact us through telegram",'Telegram: <a href="https://t.me/LightningPage">click here</a>','email: <a href="mailto:fake@email.com">fake@email.com</a>'],L=["Welcome to Shocknet"],T=function(){var e=y.useDispatch(),t=m.m().forceUpdate,n=y.useSelector((function(e){var t;return null!==(t=e.wallet.totalBalance)&&void 0!==t?t:"0"})),a=y.useSelector((function(e){var t;return null!==(t=e.wallet.USDRate)&&void 0!==t?t:"0"})),o=y.useSelector(y.selectAllCoordinatesNewestToOldest),l=Object(r.useState)("unknown"),d=Object(c.a)(l,2),u=d[0],v=d[1],N=m.k(!0),k=Object(c.a)(N,2),E=k[0],T=k[1],P=y.useSelector((function(e){return e.settings.introDismissed})),R=Object(r.useState)(["There was an error fetching the deployment type of your ShockApi."]),D=Object(c.a)(R,2),M=D[0],H=D[1];Object(r.useEffect)((function(){m.c.get("/healthz").then((function(e){v(e.data.deploymentType)})).catch((function(e){m.e.error("Error when fetching deployment type -> ",e),H(["There was an error fetching the deployment type of your ShockApi:",e.message])})).finally(T)}),[T]);var A=Object(r.useCallback)((function(){"unknown"===u?(sessionStorage.setItem("introDismissed","true"),t()):e(Object(f.a)({key:"introDismissed",value:!0}))}),[u,e,t]);Object(r.useEffect)((function(){Object(h.j)()(e),Object(h.h)()(e),Object(h.j)()(e),Object(h.i)()(e),Object(h.b)()(e)}),[e]),Object(r.useEffect)((function(){return e(Object(p.c)())}),[e]);var U=Object(r.useMemo)((function(){return Object(j.b)(Object(j.a)(n,a).toFixed(2))}),[a,n]),F=Object(r.useMemo)((function(){return Object(j.b)(n)}),[n]);return Object(S.jsxs)("div",{className:"page-container overview-page","data-v-8c7be943":"",children:[Object(S.jsxs)("div",{className:"overview-header","data-v-8c7be943":"",children:[Object(S.jsx)(x.a,{absolute:!0,pageTitle:void 0,"data-v-8c7be943":""}),Object(S.jsxs)("div",{className:"overview-balance-container","data-v-8c7be943":"",children:[Object(S.jsxs)("p",{className:"overview-balance-btc","data-v-8c7be943":"",children:[F," ",Object(S.jsx)("span",{className:"overview-balance-unit","data-v-8c7be943":"",children:"Sats"})]}),Object(S.jsxs)("p",{className:"overview-balance-usd","data-v-8c7be943":"",children:[U," USD"]})]}),Object(S.jsxs)("div",{className:"overview-actions","data-v-8c7be943":"",children:[Object(S.jsx)(s.b,{to:"/send",className:"overview-action overview-action-send","data-v-8c7be943":"",children:Object(S.jsx)("p",{className:"overview-action-text","data-v-8c7be943":"",children:"Send"})}),Object(S.jsx)(s.b,{to:"/request",className:"overview-action overview-action-request","data-v-8c7be943":"",children:Object(S.jsx)("p",{className:"overview-action-text","data-v-8c7be943":"",children:"Request"})})]}),Object(S.jsx)("p",{className:"recent-activity-title","data-v-8c7be943":"",children:"Recent Activity"})]}),Object(S.jsx)("div",{className:"recent-activity-container","data-v-8c7be943":"",children:Object(S.jsx)(b,{className:"recent-activity-entries",pullingContent:Object(S.jsxs)("div",{className:"pull-refresh-text","data-v-8c7be943":"",children:[Object(S.jsx)("i",{className:"fas fa-arrow-down","data-v-8c7be943":""})," Pull down to refresh"," ",Object(S.jsx)("i",{className:"fas fa-arrow-down","data-v-8c7be943":""})]}),refreshingContent:Object(S.jsx)(O.a,{small:!0,text:"","data-v-8c7be943":""}),pullDownThreshold:75,onRefresh:function(){return Object(h.i)()(e)},"data-v-8c7be943":"",children:Object(S.jsx)(S.Fragment,{children:o.map((function(e){return Object(S.jsx)(_,{coordinateSHA256:e.coordinateSHA256,"data-v-8c7be943":""},e.coordinateSHA256)}))})})}),Object(S.jsx)(g.a,{"data-v-8c7be943":""}),Object(S.jsx)(w.a,{modalOpen:!E&&!(P||sessionStorage.getItem("introDismissed")),toggleModal:A,contentStyle:C,disableBackdropClose:!0,noFullWidth:!0,blueBtn:"Let's Go",onClickBlueBtn:A,"data-v-8c7be943":"",children:function(){var e=[];return"hosting"===u&&(e=B),"default"===u&&(e=L),"unknown"===u&&(e=M),e.map((function(e,t){return Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsx)("p",{className:"intro-paragraph",dangerouslySetInnerHTML:{__html:e},"data-v-8c7be943":""}),Object(S.jsx)("br",{"data-v-8c7be943":""})]},e+t)}))}()})]})}}}]);
//# sourceMappingURL=22.4f6d6be5.chunk.js.map