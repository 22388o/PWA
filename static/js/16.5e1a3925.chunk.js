(this["webpackJsonpshocknet-pwa"]=this["webpackJsonpshocknet-pwa"]||[]).push([[16],{482:function(e,t,a){"use strict";a.d(t,"m",(function(){return r})),a.d(t,"t",(function(){return c})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"v",(function(){return d})),a.d(t,"w",(function(){return b})),a.d(t,"u",(function(){return u})),a.d(t,"y",(function(){return f})),a.d(t,"i",(function(){return g})),a.d(t,"g",(function(){return _})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"s",(function(){return h})),a.d(t,"k",(function(){return j})),a.d(t,"l",(function(){return m})),a.d(t,"n",(function(){return x})),a.d(t,"o",(function(){return O})),a.d(t,"a",(function(){return k})),a.d(t,"p",(function(){return y})),a.d(t,"b",(function(){return w})),a.d(t,"q",(function(){return S})),a.d(t,"r",(function(){return N})),a.d(t,"j",(function(){return C})),a.d(t,"x",(function(){return E}));var n=a(493),o=a.n(n),r=o.a.flex,c=o.a.row,l=o.a.col,i=o.a["center-align"],s=o.a["center-justify"],d=(o.a["col-centered"],o.a["space-around"]),b=o.a["space-between"],u=o.a["row-centered"],f=(o.a["center-align-self"],o.a["flex-grow-1"],o.a["height-full"],o.a["width-auto"],o.a["width-100"]),g=(o.a["font-white"],o.a["font-black"],o.a.rotate90Ccw,o.a["common-padding-left"],o.a["common-padding-right"],o.a["common-padding-h"]),_=(o.a["common-margin-left"],o.a["common-margin-right"],o.a["common-margin-h"],o.a["bg-black"],o.a["bg-white"],o.a["corners-rounded"],o.a["children-spaced-4"],o.a["children-spaced-8"]),p=(o.a["children-spaced-12"],o.a["children-spaced-16"]),v=o.a["children-spaced-24"],h=(o.a["padding-0"],o.a["padding-2"],o.a["padding-4"],o.a["padding-8"],o.a["padding-12"]),j=(o.a["padding-16"],o.a["padding-24"],o.a["flat-btn"]),m=o.a["flat-btn-full-width"],x=(o.a["flat-btn-no-border"],o.a["font-size-4"],o.a["font-size-6"],o.a["font-size-8"],o.a["font-size-10"],o.a["font-size-12"]),O=(o.a["font-size-14"],o.a["font-size-16"],o.a["font-size-18"]),k=o.a.absolute,y=o.a["horizontally-centered-absolute"],w=(o.a["vertically-centered-absolute"],o.a["absolute-stick-to-top"]),S=(o.a["absolute-stick-to-bottom"],o.a["absolute-stick-to-left"],o.a["absolute-stick-to-right"],o.a["opacity-full"],o.a["opacity-half"],o.a["opacity-none"]),N=o.a["opacity-three-quarters"],C=o.a["display-none"],E=o.a.unselectable},483:function(e,t,a){"use strict";var n=a(3),o=a(72),r=a.n(o),c=(a(489),a(7)),l=function(e){var t=e.children,a=e.style;return Object(c.jsx)("div",{className:"content",style:a,"data-v-2d47ec9c":"",children:t})},i=(a(490),function(e){var t=e.title,a=e.toggleModal;return t?Object(c.jsxs)("div",{className:"head","data-v-f1fed9ef":"",children:[Object(c.jsx)("p",{className:"head-title","data-v-f1fed9ef":"",children:t}),Object(c.jsx)("div",{className:"head-close",onClick:a,"data-v-f1fed9ef":"",children:Object(c.jsx)("i",{className:"fas fa-times","data-v-f1fed9ef":""})})]}):null});a(491),t.a=function(e){var t=e.modalOpen,a=void 0!==t&&t,o=e.toggleModal,s=e.modalTitle,d=void 0===s?"":s,b=e.children,u=e.contentStyle,f=void 0===u?{}:u,g=Object(n.useCallback)((function(){o()}),[o]);return Object(c.jsxs)("div",{className:r()({modal:!0,open:a}),"data-v-f13c32fb":"",children:[Object(c.jsx)("div",{className:"backdrop",onClick:g,"data-v-f13c32fb":""}),Object(c.jsxs)("div",{className:"container","data-v-f13c32fb":"",children:[Object(c.jsx)(i,{title:d,toggleModal:g,"data-v-f13c32fb":""}),Object(c.jsx)(l,{style:f,"data-v-f13c32fb":"",children:b})]})]})}},484:function(e,t,a){"use strict";a(3);var n=a(7);t.a=function(e){var t=e.amt,a={};return e.insideRow?a.width=t:a.height=t,Object(n.jsx)("div",{style:a})}},485:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),o=a(72),r=a.n(o),c=a(89),l=(a(486),a(7)),i=73,s={minHeight:i};t.b=function(e){var t=e.pageTitle,a=e.drawerVisible,o=void 0!==a&&a,i=e.onHeight,d=void 0===i?c.a:i,b=Object(n.useCallback)((function(){window.history.back()}),[]),u=Object(n.useCallback)((function(e){if(e)try{d(e.getBoundingClientRect().height)}catch(t){console.log("Error inside onHeight mechanism in DialogNav:"),console.log(t)}}),[d]);return Object(l.jsxs)("div",{className:"dialog-nav-container",ref:u,style:s,"data-v-fd5e0786":"",children:[Object(l.jsx)("div",{className:"dialog-nav-back",onClick:b,"data-v-fd5e0786":"",children:Object(l.jsx)("i",{className:"icon icon-thin-back","data-v-fd5e0786":""})}),Object(l.jsx)("p",{className:"dialog-nav-title","data-v-fd5e0786":"",children:t}),Object(l.jsxs)("div",{className:r()({"dialog-nav-menu-btn":!0,"dialog-nav-hidden":!o}),"data-v-fd5e0786":"",children:[Object(l.jsx)("div",{className:"dialog-nav-menu-dash","data-v-fd5e0786":""}),Object(l.jsx)("div",{className:"dialog-nav-menu-dash","data-v-fd5e0786":""}),Object(l.jsx)("div",{className:"dialog-nav-menu-dash","data-v-fd5e0786":""})]})]})}},486:function(e,t,a){},488:function(e,t,a){"use strict";a(3),a(499);var n=a(7);t.a=function(e){var t=e.tipCounter,a=e.tipValue,o=e.zoomed;return a>0?Object(n.jsxs)("div",{className:"ribbon-container",style:{opacity:o?0:1},"data-v-2a927af2":"",children:[Object(n.jsx)("p",{className:"ribbon-title","data-v-2a927af2":"",children:"Total Tips"}),Object(n.jsxs)("p",{className:"ribbon-value","data-v-2a927af2":"",children:[t," ",1===t?"Tip":"Tips"]})]}):null}},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},493:function(e,t,a){e.exports={PAD_H:"1em",flex:"global_flex__3EqcS",row:"global_row__1A5FW global_flex__3EqcS",col:"global_col__3mp_5 global_flex__3EqcS","center-align":"global_center-align__2UEY8 global_flex__3EqcS","center-justify":"global_center-justify__3etS9 global_flex__3EqcS","col-centered":"global_col-centered__1rqsl global_col__3mp_5 global_flex__3EqcS global_center-align__2UEY8 global_flex__3EqcS","space-around":"global_space-around__3HlTi global_flex__3EqcS","space-between":"global_space-between__2G6yv global_flex__3EqcS","row-centered":"global_row-centered__1H_cv global_row__1A5FW global_flex__3EqcS global_center-align__2UEY8 global_flex__3EqcS","center-align-self":"global_center-align-self__1GUs5","flex-grow-1":"global_flex-grow-1__2unHa global_flex__3EqcS","height-full":"global_height-full__1ZI6F","width-auto":"global_width-auto__1USRU","width-100":"global_width-100__29aAp","font-white":"global_font-white__NE-CT","font-black":"global_font-black__wjo9k",rotate90Ccw:"global_rotate90Ccw__11MjX","common-padding-left":"global_common-padding-left__2oqNo","common-padding-right":"global_common-padding-right__MpvbN","common-padding-h":"global_common-padding-h__8YHOB global_common-padding-left__2oqNo global_common-padding-right__MpvbN","common-margin-left":"global_common-margin-left__17kyp","common-margin-right":"global_common-margin-right__26jhw","common-margin-h":"global_common-margin-h__2btHF global_common-margin-left__17kyp global_common-margin-right__26jhw","bg-black":"global_bg-black__AftPu","bg-white":"global_bg-white__3CREm","corners-rounded":"global_corners-rounded__12rFn","children-spaced-4":"global_children-spaced-4__1gmtr","children-spaced-8":"global_children-spaced-8__97gHF","children-spaced-12":"global_children-spaced-12__1mIIN","children-spaced-16":"global_children-spaced-16__GafSh","children-spaced-24":"global_children-spaced-24__2XpHO","padding-0":"global_padding-0__3w7nl","padding-2":"global_padding-2__3jsyO","padding-4":"global_padding-4__3mek9","padding-8":"global_padding-8__3xaKp","padding-12":"global_padding-12__1Fp31","padding-16":"global_padding-16__3S0ZC","padding-24":"global_padding-24__PWluU","flat-btn":"global_flat-btn__QCoQD","flat-btn-full-width":"global_flat-btn-full-width__1KMEz global_flat-btn__QCoQD global_width-100__29aAp","flat-btn-no-border":"global_flat-btn-no-border__1D6YS global_flat-btn__QCoQD","font-size-4":"global_font-size-4__152Yi","font-size-6":"global_font-size-6__1TiYJ","font-size-8":"global_font-size-8__3J8qe","font-size-10":"global_font-size-10__18w42","font-size-12":"global_font-size-12__3uTVa","font-size-14":"global_font-size-14__10gBO","font-size-16":"global_font-size-16__1VztM","font-size-18":"global_font-size-18__11bmr",absolute:"global_absolute__1CUuW","horizontally-centered-absolute":"global_horizontally-centered-absolute__U2Y8G global_absolute__1CUuW","vertically-centered-absolute":"global_vertically-centered-absolute__1G9Ok global_absolute__1CUuW","absolute-stick-to-top":"global_absolute-stick-to-top__2J4DW","absolute-stick-to-bottom":"global_absolute-stick-to-bottom__3uJed","absolute-stick-to-left":"global_absolute-stick-to-left__1p8ve","absolute-stick-to-right":"global_absolute-stick-to-right__15ROv","opacity-full":"global_opacity-full__3pv-G","opacity-half":"global_opacity-half__2Kryw","opacity-none":"global_opacity-none__1cDP9","opacity-three-quarters":"global_opacity-three-quarters__1uI42","display-none":"global_display-none__v9MKe",unselectable:"global_unselectable__20lft"}},499:function(e,t,a){},508:function(e,t,a){"use strict";var n=a(2),o=a.n(n),r=a(6),c=a(16),l=a(3),i=a(488),s=(a(509),a(154)),d=a(14),b=a(7),u="".concat("https://webtorrent.shock.network","/rtmpapi/api/streams/live");t.a=function(e){e.id;var t=e.item,a=(e.index,e.postId,e.tipValue),n=e.tipCounter,f=e.hideRibbon,g=e.width,_=e.timeout,p=void 0===_?1e4:_,v=Object(l.useRef)(null),h=Object(l.useState)(!1),j=Object(c.a)(h,2),m=j[0],x=j[1],O={width:"100%"};return g&&(O.width=g),Object(l.useEffect)((function(){var e=null,a=function(){var e=Object(r.a)(o.a.mark((function e(){var a,n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.magnetURI.split("/live/")[1].split("/index.m3u8"),n=Object(c.a)(a,1),r=n[0],e.next=4,d.a.get("".concat(u,"/").concat(r));case 4:if(e.sent.data.isLive){e.next=7;break}return e.abrupt("return",!1);case 7:return(l=Object(s.a)(v.current,{autoplay:!0,muted:!0,aspectRatio:"16:9"})).src({src:t.magnetURI,type:"application/x-mpegURL"}),l.play(),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return a().then((function(t){t?x(!0):e=setInterval(Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:if(!t.sent){t.next=7;break}return x(!0),clearInterval(e),t.abrupt("return");case 7:case"end":return t.stop()}}),t)}))),p)})),function(){clearInterval(e)}}),[t,p]),Object(b.jsx)("div",{className:"media-container w-100","data-v-82c14933":"",children:Object(b.jsxs)("div",{className:"video-container w-100",style:{cursor:"pointer",width:"100%"},"data-v-82c14933":"",children:[!m&&Object(b.jsx)("p",{"data-v-82c14933":"",children:"The streamer has disconnected."}),Object(b.jsx)("div",{style:m?{width:"100%"}:{display:"none",width:"100%"},"data-v-82c14933":"",children:Object(b.jsx)("video",{className:"video-js vjs-default-skin",ref:v,style:O,preload:"auto",controls:!0,muted:!0,autoPlay:!0,"data-v-82c14933":""})}),!f&&Object(b.jsx)(i.a,{tipCounter:n,tipValue:a,zoomed:!1,"data-v-82c14933":""})]})})}},509:function(e,t,a){},518:function(e,t,a){"use strict";var n=a(3),o=a(7);t.a=function(e){var t=e.color,a=e.length,r=e.type,c=e.width,l=Object(n.useMemo)((function(){return"vertical"===r?{borderLeftStyle:"solid",borderLeftWidth:"".concat(c/2,"px"),borderLeftColor:t,borderRightStyle:"solid",borderRightWidth:"".concat(c/2,"px"),borderRightColor:t,height:a}:"horizontal"===r?{borderTopStyle:"solid",borderTopWidth:c/2,borderTopColor:t,borderBottomStyle:"solid",borderBottomWidth:c/2,borderBottomColor:t,width:a}:{}}),[t,a,r,c]);return Object(o.jsx)("div",{style:l})}},558:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),o=a(2),r=a.n(o),c=a(6),l=a(14),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Uint8Array(32),window.crypto.getRandomValues(n),o=Array.prototype.map.call(n,(function(e){return("00"+e.toString(16)).slice(-2)})).join(""),c={seed_token:a,wallet_token:o},e.next=6,fetch("".concat(t,"/api/enroll_token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 6:if(200===e.sent.status){e.next=9;break}throw new Error("torrentSeed service currently not available");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,o,c,s,d,b,u,f,g,_,p,v,h,j,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.availableTokens,o=t.seedUrl,c=t.seedToken,s=t.seedProviderPub,d=t.serviceID,b=t.servicePrice,u=null,f=!1,g=null,e.t0=r.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(_=e.t1.value,!Object.prototype.hasOwnProperty.call(a,_)){e.next=12;break}if(!(p=a[_])[0]){e.next=12;break}return g={seedUrl:_,tokens:p},e.abrupt("break",14);case 12:e.next=5;break;case 14:if(console.log(s),console.log(d),console.log(b),!o||!c){e.next=27;break}return console.log("USING SELF SEED TOKEN"),e.next=21,i(o,c);case 21:v=e.sent,console.log("token"),console.log(v),u={seedUrl:o,tokens:[v]},e.next=48;break;case 27:if(!g){e.next=33;break}console.log("USING AVAILABLE TOKEN"),u=g,f=!0,e.next=48;break;case 33:if(!(s&&d&&b)){e.next=47;break}return console.log("USING DEFAULT TOKEN PROVIDER"),e.next=37,l.a.post("/api/lnd/unifiedTrx",{type:"service",amt:b,to:s,memo:"",feeLimit:500,ackInfo:d});case 37:if(h=e.sent,j=h.data,200===h.status){e.next=42;break}throw new Error("seed token request failed");case 42:console.log(j),m=j.orderAck,u=JSON.parse(m.response),e.next=48;break;case 47:throw new Error("provide the token data or use default seed provider");case 48:return e.abrupt("return",Object(n.a)(Object(n.a)({},u),{},{deleteToken:f}));case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},725:function(e,t,a){},726:function(e,t,a){e.exports={container:"DarkPage_container__1so-g","container-scrolls":"DarkPage_container-scrolls__3t0tO"}},727:function(e,t,a){e.exports={root:"Static_root__Dyzfu",overlay:"Static_overlay__1DRAx","overlay-text":"Static_overlay-text__2Rle7"}},728:function(e,t,a){e.exports={"stream-type-btn":"GoLive_stream-type-btn__3sNtJ","stream-type-btn-icon":"GoLive_stream-type-btn-icon__2p9-P","obs-logo":"GoLive_obs-logo__1p3Hh"}},762:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),r=a(6),c=a(16),l=a(3),i=a(40),s=a(72),d=a.n(s),b=(a(725),a(39)),u=a(150),f=a(14),g=a.p+"static/media/obs-2.7c61e78e.svg",_=a(508),p=a(558),v=a(22),h=a(483),j=a(18),m=a(26),x=a(485),O=a(484),k=a(482),y=a(726),w=a.n(y),S=a(7),N=function(e){var t,a=e.children,n=e.justify,o=e.padding,r=e.pageTitle,i=e.scrolls;if(i&&n)throw new Error('Can not both set "scrolls" and "justify" at <DarkPage />');var s=l.useState(x.a),b=Object(c.a)(s,2),u=b[0],f=b[1];return Object(S.jsxs)("div",{className:d()(w.a.container,(t={},Object(m.a)(t,w.a["container-scrolls"],!!i),Object(m.a)(t,k.h,!!n),Object(m.a)(t,k.d,"center"===n),Object(m.a)(t,k.i,!!o),t)),children:[Object(S.jsx)(x.b,{pageTitle:r||"",onHeight:f}),Object(S.jsx)(O.a,{amt:u}),a]})},C=a(518),E=a(727),T=a.n(E),z=function(e){var t=e.overlay,a=l.useRef(),n=l.useState(100),o=Object(c.a)(n,2),r=o[0],i=o[1],s=l.useCallback((function(e){if(e)try{i(e.getBoundingClientRect().width)}catch(t){console.log("Error inside onWidth mechanism in <Static />:"),console.log(t)}}),[]);l.useEffect((function(){var e=a.current;e?(e.width=r,e.height=r/16*9):console.error("Canvas ref falsy inside <Static />.")}),[r]);var d=l.useRef(!0);return l.useEffect((function(){d.current=!0;var e=a.current;if(e){var t=e.getContext("2d"),n=t.createImageData(e.width,e.height);return function e(){if(d.current){for(var a=0,o=n.data.length;a<o;a++)n.data[a]=255*Math.random()|0;t.putImageData(n,0,0),requestAnimationFrame(e)}}(),function(){d.current=!1}}console.error("Canvas ref falsy inside <Static />.")}),[r]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:T.a.root,children:[t&&Object(S.jsx)("div",{className:T.a.overlay,children:Object(S.jsx)("span",{className:T.a["overlay-text"],children:t})}),Object(S.jsx)("canvas",{ref:a})]}),Object(S.jsx)("div",{className:k.y,ref:s})]})},P=function(){var e=l.useRef(),t=l.useState(100),a=Object(c.a)(t,2),n=a[0],o=a[1],r=l.useState(""),i=Object(c.a)(r,2),s=i[0],b=i[1],u=l.useCallback((function(e){if(e)try{o(e.getBoundingClientRect().width)}catch(t){b("Error inside onWidth mechanism in <CamFeed />:"),console.log(t)}}),[]);return l.useEffect((function(){var t=e.current;t?t.width=n:b("Video ref falsy inside <CamFeed />.")}),[n]),l.useEffect((function(){var t,a;if(null===(t=navigator)||void 0===t||null===(a=t.mediaDevices)||void 0===a?void 0:a.getUserMedia){var n=e.current;navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){n.srcObject=e})).catch((function(e){b("Could not get your camera feed: ".concat(e.message))}))}}),[]),Object(S.jsxs)(S.Fragment,{children:[s&&Object(S.jsx)(z,{overlay:s}),Object(S.jsx)("video",{autoPlay:!0,className:d()(s&&k.j),ref:e}),Object(S.jsx)("div",{className:k.y,ref:u})]})},U=a(728),I=a.n(U);t.default=function(){var e=Object(i.b)(),t=Object(v.g)(),a=j.useSelector((function(e){return e.content.seedProviderPub})),n=j.useSelector((function(e){return e.content.seedInfo})),s=n.seedUrl,m=n.seedToken,x=j.useSelector((function(e){return e.content.streamLiveToken})),y=j.useSelector((function(e){return e.content.streamUserToken})),w=j.useSelector((function(e){return e.content.availableTokens})),E=j.useSelector((function(e){return e.content.streamUrl})),T=j.useSelector((function(e){return e.userProfiles})),U=Object(l.useState)("obs"),R=Object(c.a)(U,2),D=R[0],q=R[1],F=Object(l.useState)(!1),A=Object(c.a)(F,2),L=A[0],M=A[1],W=Object(l.useState)(x),B=Object(c.a)(W,2),G=B[0],H=B[1],V=Object(l.useState)(y),J=Object(c.a)(V,2)[1],Y=Object(l.useState)("Look I'm streaming!"),K=Object(c.a)(Y,2),Q=K[0],X=K[1],Z=Object(l.useState)(!1),$=Object(c.a)(Z,1)[0],ee=Object(l.useState)(null),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],oe=Object(l.useState)(""),re=Object(c.a)(oe,2),ce=re[0],le=re[1],ie=Object(l.useState)(null),se=Object(c.a)(ie,2),de=se[0],be=se[1],ue=Object(l.useState)(!1),fe=Object(c.a)(ue,2),ge=fe[0],_e=fe[1],pe=Object(l.useCallback)(function(){var t=Object(r.a)(o.a.mark((function t(n,r){var l,i,d,u,g,_,v,h,j,x,O,k,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,M(!0),t.next=4,Object(p.a)({availableTokens:w,seedProviderPub:a,seedToken:m,seedUrl:s,serviceID:r,servicePrice:n});case 4:return l=t.sent,i=l.seedUrl,d=l.tokens,u=Object(c.a)(d,1),g=u[0],J(g),t.next=11,f.a.post("".concat(i,"/api/stream/auth"),{token:g});case 11:return _=t.sent,v=_.data,h=v.data.token,console.log(h),j="".concat(g,"?key=").concat(h),H("".concat(g,"?key=").concat(h)),x="".concat(i,"/rtmpapi/live/").concat(g,"/index.m3u8"),O=i.replace("https","rtmp"),le("".concat(O,"/live")),Object(b.d)(g,j,x)(e),k=[],""!==Q&&k.push({type:"text/paragraph",text:Q}),k.push({type:"stream/embedded",width:0,height:0,magnetURI:x,isPreview:!1,isPrivate:!1,userToken:g}),t.next=26,f.a.post("/api/gun/wall",{tags:[],title:"Post",contentItems:k});case 26:200===t.sent.status?(console.log("post created successfully"),M(!1)):(ne("invalid response status"),M(!1)),t.next=35;break;case 30:t.prev=30,t.t0=t.catch(0),console.log(t.t0),ne(null!==(y=null===t.t0||void 0===t.t0?void 0:t.t0.errorMessage)&&void 0!==y?y:null===t.t0||void 0===t.t0?void 0:t.t0.message),M(!1);case 35:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e,a){return t.apply(this,arguments)}}(),[w,a,m,s,e,Q]),ve=Object(l.useCallback)((function(){be(null)}),[be]),he=Object(l.useCallback)((function(){var e=de.servicePrice,t=de.serviceID;pe(e,t),be(null)}),[de,pe,be]),je=Object(l.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,c,l,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ge){e.next=3;break}return e.abrupt("return");case 3:_e(!0),t.preventDefault(),n=!1,e.t0=o.a.keys(w);case 7:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,!Object.prototype.hasOwnProperty.call(w,r)){e.next=14;break}if(!w[r][0]){e.next=14;break}return n=!0,e.abrupt("break",16);case 14:e.next=7;break;case 16:if(c="",T[a]&&(c=T[a].SeedServiceProvided),!(n||s&&m)){e.next=22;break}pe(),e.next=33;break;case 22:if(!c||!a){e.next=32;break}return e.next=25,f.a.get("/api/gun/otheruser/".concat(a,"/load/offeredServices>").concat(c));case 25:l=e.sent,i=l.data,d=i.data.servicePrice,console.log(i),be({servicePrice:d,serviceID:c}),e.next=33;break;case 32:ne("No way found to publish content");case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),ne(e.t2.message);case 38:return e.prev=38,_e(!1),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[0,35,38,41]])})));return function(t){return e.apply(this,arguments)}}(),[ge,T,a,s,m,w,pe]),me=Object(l.useCallback)((function(){navigator.clipboard.writeText(G)}),[G]),xe=Object(l.useCallback)((function(){navigator.clipboard.writeText(ce)}),[ce]),Oe=Object(l.useCallback)((function(e){var t=e.target,a=t.value;switch(t.name){case"paragraph":return void X(a);case"source":return void q(a);default:return}}),[X,q]),ke=Object(l.useCallback)((function(){Object(b.f)()(e),t.push("/profile")}),[e,t]),ye=Object(l.useMemo)((function(){return Object(S.jsx)(_.a,{hideRibbon:!0,item:{magnetURI:E},timeout:1500,id:void 0,index:void 0,postId:void 0,tipCounter:void 0,tipValue:void 0,width:void 0,"data-v-7e2f1bd4":""})}),[E]),we=d()(k.h,k.d,k.c,I.a["stream-type-btn"]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(N,{pageTitle:"GO LIVE",scrolls:!0,"data-v-7e2f1bd4":"",children:[$&&Object(S.jsx)("div",{"data-v-7e2f1bd4":"",children:ye}),$||"camera"!==D?Object(S.jsx)(z,{"data-v-7e2f1bd4":""}):Object(S.jsx)(P,{"data-v-7e2f1bd4":""}),Object(S.jsxs)("div",{className:d()(k.u,k.y),"data-v-7e2f1bd4":"",children:[Object(S.jsxs)("div",{className:we,onClick:q.bind(null,"camera"),"data-v-7e2f1bd4":"",children:[Object(S.jsx)("i",{className:d()(I.a["stream-type-btn-icon"],"fas","fa-camera"),"data-v-7e2f1bd4":""}),Object(S.jsx)(O.a,{amt:16,"data-v-7e2f1bd4":""}),Object(S.jsx)(C.a,{color:"camera"===D?"#4285b9":"white",length:36,type:"horizontal",width:2,"data-v-7e2f1bd4":""})]}),Object(S.jsxs)("div",{className:we,onClick:q.bind(null,"obs"),"data-v-7e2f1bd4":"",children:[Object(S.jsx)("img",{alt:"",className:I.a["obs-logo"],src:g,"data-v-7e2f1bd4":""}),Object(S.jsx)(O.a,{amt:16,"data-v-7e2f1bd4":""}),Object(S.jsx)(C.a,{color:"obs"===D?"#4285b9":"white",length:36,type:"horizontal",width:2,"data-v-7e2f1bd4":""})]})]}),Object(S.jsx)("div",{className:k.i,"data-v-7e2f1bd4":"",children:ae?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:" An error ocurred: "}),Object(S.jsx)("br",{"data-v-7e2f1bd4":""}),Object(S.jsx)("p",{className:"error-container","data-v-7e2f1bd4":"",children:ae}),Object(S.jsx)("button",{className:"shock-form-button",onClick:ne.bind(null,null),"data-v-7e2f1bd4":"",children:"Dismiss"})]}):G?Object(S.jsxs)(S.Fragment,{children:["obs"===D&&Object(S.jsx)("p",{className:"m-b-1","data-v-7e2f1bd4":"",children:"You are ready to go! setup the stream with OBS and watch it from your profile"}),Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:"Broadcaster:"}),Object(S.jsxs)("div",{style:{border:"1px solid var(--main-blue)",padding:"0.5rem",display:"flex",justifyContent:"space-between",marginBottom:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:ce.substring(0,20)+(ce.length>21?"...":"")}),Object(S.jsx)("i",{className:"far fa-copy",onClick:xe,"data-v-7e2f1bd4":""})]}),Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:"Stream Key:"}),Object(S.jsxs)("div",{style:{border:"1px solid var(--main-blue)",padding:"0.5rem",display:"flex",justifyContent:"space-between",marginBottom:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsx)("p",{"data-v-7e2f1bd4":"",children:G.substring(0,20)+(G.length>21?"...":"")}),Object(S.jsx)("i",{className:"far fa-copy",onClick:me,"data-v-7e2f1bd4":""})]}),Object(S.jsx)("div",{className:"flex-center","data-v-7e2f1bd4":"",children:Object(S.jsx)("button",{onClick:ke,className:"shock-form-button-confirm","data-v-7e2f1bd4":"",children:"STOP"})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("input",{className:"input-field",type:"text",name:"paragraph",id:"paragraph",value:Q,onChange:Oe,"data-v-7e2f1bd4":""}),Object(S.jsx)("button",{onClick:je,className:d()(k.y,"shock-form-button-confirm"),disabled:"camera"===D||ge,"data-v-7e2f1bd4":"",children:ge?"...":"START NOW"})]})})]}),de&&Object(S.jsxs)(h.a,{modalOpen:de&&!L,toggleModal:ve,contentStyle:{padding:"1rem"},"data-v-7e2f1bd4":"",children:[Object(S.jsxs)("p",{"data-v-7e2f1bd4":"",children:["The service from the default service provider will cost:"," ",Object(S.jsxs)("strong",{"data-v-7e2f1bd4":"",children:[de.servicePrice," sats"]})]}),Object(S.jsxs)("div",{className:k.u,"data-v-7e2f1bd4":"",children:[Object(S.jsx)("button",{className:"shock-form-button m-1",onClick:ve,"data-v-7e2f1bd4":"",children:"Cancel"}),Object(S.jsx)("button",{className:"shock-form-button-confirm m-1",onClick:he,"data-v-7e2f1bd4":"",children:"Confirm"})]})]}),L?Object(S.jsx)(u.a,{overlay:!0,fullScreen:!0,text:"Creating stream...","data-v-7e2f1bd4":""}):null]})}}}]);
//# sourceMappingURL=16.5e1a3925.chunk.js.map